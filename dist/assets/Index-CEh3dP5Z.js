(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function zE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jE={exports:{}},Vc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D1=Symbol.for("react.transitional.element"),O1=Symbol.for("react.fragment");function BE(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:D1,type:t,key:i,ref:e!==void 0?e:null,props:n}}Vc.Fragment=O1;Vc.jsx=BE;Vc.jsxs=BE;jE.exports=Vc;var D=jE.exports,qE={exports:{}},W={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em=Symbol.for("react.transitional.element"),x1=Symbol.for("react.portal"),M1=Symbol.for("react.fragment"),V1=Symbol.for("react.strict_mode"),P1=Symbol.for("react.profiler"),L1=Symbol.for("react.consumer"),U1=Symbol.for("react.context"),k1=Symbol.for("react.forward_ref"),z1=Symbol.for("react.suspense"),j1=Symbol.for("react.memo"),HE=Symbol.for("react.lazy"),B1=Symbol.for("react.activity"),wy=Symbol.iterator;function q1(t){return t===null||typeof t!="object"?null:(t=wy&&t[wy]||t["@@iterator"],typeof t=="function"?t:null)}var FE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},GE=Object.assign,KE={};function ua(t,e,n){this.props=t,this.context=e,this.refs=KE,this.updater=n||FE}ua.prototype.isReactComponent={};ua.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ua.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function QE(){}QE.prototype=ua.prototype;function Tm(t,e,n){this.props=t,this.context=e,this.refs=KE,this.updater=n||FE}var bm=Tm.prototype=new QE;bm.constructor=Tm;GE(bm,ua.prototype);bm.isPureReactComponent=!0;var Ry=Array.isArray;function Yf(){}var Re={H:null,A:null,T:null,S:null},YE=Object.prototype.hasOwnProperty;function Am(t,e,n){var i=n.ref;return{$$typeof:Em,type:t,key:e,ref:i!==void 0?i:null,props:n}}function H1(t,e){return Am(t.type,e,t.props)}function Sm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Em}function F1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Cy=/\/+/g;function Yh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?F1(""+t.key):e.toString(36)}function G1(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Yf,Yf):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function hs(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Em:case x1:a=!0;break;case HE:return a=t._init,hs(a(t._payload),e,n,i,r)}}if(a)return r=r(t),a=i===""?"."+Yh(t,0):i,Ry(r)?(n="",a!=null&&(n=a.replace(Cy,"$&/")+"/"),hs(r,e,n,"",function(c){return c})):r!=null&&(Sm(r)&&(r=H1(r,n+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(Cy,"$&/")+"/")+a)),e.push(r)),1;a=0;var l=i===""?".":i+":";if(Ry(t))for(var u=0;u<t.length;u++)i=t[u],s=l+Yh(i,u),a+=hs(i,e,n,s,r);else if(u=q1(t),typeof u=="function")for(t=u.call(t),u=0;!(i=t.next()).done;)i=i.value,s=l+Yh(i,u++),a+=hs(i,e,n,s,r);else if(s==="object"){if(typeof t.then=="function")return hs(G1(t),e,n,i,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Bl(t,e,n){if(t==null)return t;var i=[],r=0;return hs(t,i,"","",function(s){return e.call(n,s,r++)}),i}function K1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Iy=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Q1={map:Bl,forEach:function(t,e,n){Bl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Bl(t,function(){e++}),e},toArray:function(t){return Bl(t,function(e){return e})||[]},only:function(t){if(!Sm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};W.Activity=B1;W.Children=Q1;W.Component=ua;W.Fragment=M1;W.Profiler=P1;W.PureComponent=Tm;W.StrictMode=V1;W.Suspense=z1;W.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Re;W.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Re.H.useMemoCache(t)}};W.cache=function(t){return function(){return t.apply(null,arguments)}};W.cacheSignal=function(){return null};W.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=GE({},t.props),r=t.key;if(e!=null)for(s in e.key!==void 0&&(r=""+e.key),e)!YE.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(i[s]=e[s]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}return Am(t.type,r,i)};W.createContext=function(t){return t={$$typeof:U1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:L1,_context:t},t};W.createElement=function(t,e,n){var i,r={},s=null;if(e!=null)for(i in e.key!==void 0&&(s=""+e.key),e)YE.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return Am(t,s,r)};W.createRef=function(){return{current:null}};W.forwardRef=function(t){return{$$typeof:k1,render:t}};W.isValidElement=Sm;W.lazy=function(t){return{$$typeof:HE,_payload:{_status:-1,_result:t},_init:K1}};W.memo=function(t,e){return{$$typeof:j1,type:t,compare:e===void 0?null:e}};W.startTransition=function(t){var e=Re.T,n={};Re.T=n;try{var i=t(),r=Re.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Yf,Iy)}catch(s){Iy(s)}finally{e!==null&&n.types!==null&&(e.types=n.types),Re.T=e}};W.unstable_useCacheRefresh=function(){return Re.H.useCacheRefresh()};W.use=function(t){return Re.H.use(t)};W.useActionState=function(t,e,n){return Re.H.useActionState(t,e,n)};W.useCallback=function(t,e){return Re.H.useCallback(t,e)};W.useContext=function(t){return Re.H.useContext(t)};W.useDebugValue=function(){};W.useDeferredValue=function(t,e){return Re.H.useDeferredValue(t,e)};W.useEffect=function(t,e){return Re.H.useEffect(t,e)};W.useEffectEvent=function(t){return Re.H.useEffectEvent(t)};W.useId=function(){return Re.H.useId()};W.useImperativeHandle=function(t,e,n){return Re.H.useImperativeHandle(t,e,n)};W.useInsertionEffect=function(t,e){return Re.H.useInsertionEffect(t,e)};W.useLayoutEffect=function(t,e){return Re.H.useLayoutEffect(t,e)};W.useMemo=function(t,e){return Re.H.useMemo(t,e)};W.useOptimistic=function(t,e){return Re.H.useOptimistic(t,e)};W.useReducer=function(t,e,n){return Re.H.useReducer(t,e,n)};W.useRef=function(t){return Re.H.useRef(t)};W.useState=function(t){return Re.H.useState(t)};W.useSyncExternalStore=function(t,e,n){return Re.H.useSyncExternalStore(t,e,n)};W.useTransition=function(){return Re.H.useTransition()};W.version="19.2.0";qE.exports=W;var V=qE.exports;const Y1=zE(V);var $E={exports:{}},Pc={},XE={exports:{}},JE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,te){var J=H.length;H.push(te);e:for(;0<J;){var ve=J-1>>>1,je=H[ve];if(0<r(je,te))H[ve]=te,H[J]=je,J=ve;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var te=H[0],J=H.pop();if(J!==te){H[0]=J;e:for(var ve=0,je=H.length,yr=je>>>1;ve<yr;){var _r=2*(ve+1)-1,ss=H[_r],Kt=_r+1,di=H[Kt];if(0>r(ss,J))Kt<je&&0>r(di,ss)?(H[ve]=di,H[Kt]=J,ve=Kt):(H[ve]=ss,H[_r]=J,ve=_r);else if(Kt<je&&0>r(di,J))H[ve]=di,H[Kt]=J,ve=Kt;else break e}}return te}function r(H,te){var J=H.sortIndex-te.sortIndex;return J!==0?J:H.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],f=1,m=null,p=3,g=!1,C=!1,O=!1,N=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function I(H){for(var te=n(c);te!==null;){if(te.callback===null)i(c);else if(te.startTime<=H)i(c),te.sortIndex=te.expirationTime,e(u,te);else break;te=n(c)}}function z(H){if(O=!1,I(H),!C)if(n(u)!==null)C=!0,j||(j=!0,x());else{var te=n(c);te!==null&&an(z,te.startTime-H)}}var j=!1,T=-1,v=5,A=-1;function S(){return N?!0:!(t.unstable_now()-A<v)}function R(){if(N=!1,j){var H=t.unstable_now();A=H;var te=!0;try{e:{C=!1,O&&(O=!1,_(T),T=-1),g=!0;var J=p;try{t:{for(I(H),m=n(u);m!==null&&!(m.expirationTime>H&&S());){var ve=m.callback;if(typeof ve=="function"){m.callback=null,p=m.priorityLevel;var je=ve(m.expirationTime<=H);if(H=t.unstable_now(),typeof je=="function"){m.callback=je,I(H),te=!0;break t}m===n(u)&&i(u),I(H)}else i(u);m=n(u)}if(m!==null)te=!0;else{var yr=n(c);yr!==null&&an(z,yr.startTime-H),te=!1}}break e}finally{m=null,p=J,g=!1}te=void 0}}finally{te?x():j=!1}}}var x;if(typeof b=="function")x=function(){b(R)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ft=w.port2;w.port1.onmessage=R,x=function(){ft.postMessage(null)}}else x=function(){E(R,0)};function an(H,te){T=E(function(){H(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(H){switch(p){case 1:case 2:case 3:var te=3;break;default:te=p}var J=p;p=te;try{return H()}finally{p=J}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(H,te){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var J=p;p=H;try{return te()}finally{p=J}},t.unstable_scheduleCallback=function(H,te,J){var ve=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ve+J:ve):J=ve,H){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=J+je,H={id:f++,callback:te,priorityLevel:H,startTime:J,expirationTime:je,sortIndex:-1},J>ve?(H.sortIndex=J,e(c,H),n(u)===null&&H===n(c)&&(O?(_(T),T=-1):O=!0,an(z,J-ve))):(H.sortIndex=je,e(u,H),C||g||(C=!0,j||(j=!0,x()))),H},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(H){var te=p;return function(){var J=p;p=te;try{return H.apply(this,arguments)}finally{p=J}}}})(JE);XE.exports=JE;var $1=XE.exports,WE={exports:{}},At={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X1=V;function ZE(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ei(){}var bt={d:{f:Ei,r:function(){throw Error(ZE(522))},D:Ei,C:Ei,L:Ei,m:Ei,X:Ei,S:Ei,M:Ei},p:0,findDOMNode:null},J1=Symbol.for("react.portal");function W1(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J1,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var lo=X1.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Lc(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}At.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=bt;At.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(ZE(299));return W1(t,e,null,n)};At.flushSync=function(t){var e=lo.T,n=bt.p;try{if(lo.T=null,bt.p=2,t)return t()}finally{lo.T=e,bt.p=n,bt.d.f()}};At.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,bt.d.C(t,e))};At.prefetchDNS=function(t){typeof t=="string"&&bt.d.D(t)};At.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=Lc(n,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?bt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):n==="script"&&bt.d.X(t,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};At.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Lc(e.as,e.crossOrigin);bt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&bt.d.M(t)};At.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=Lc(n,e.crossOrigin);bt.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};At.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Lc(e.as,e.crossOrigin);bt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else bt.d.m(t)};At.requestFormReset=function(t){bt.d.r(t)};At.unstable_batchedUpdates=function(t,e){return t(e)};At.useFormState=function(t,e,n){return lo.H.useFormState(t,e,n)};At.useFormStatus=function(){return lo.H.useHostTransitionStatus()};At.version="19.2.0";function eT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eT)}catch(t){console.error(t)}}eT(),WE.exports=At;var Z1=WE.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var We=$1,tT=V,eR=Z1;function U(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function nT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function tl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function iT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function rT(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ny(t){if(tl(t)!==t)throw Error(U(188))}function tR(t){var e=t.alternate;if(!e){if(e=tl(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Ny(r),t;if(s===i)return Ny(r),e;s=s.sibling}throw Error(U(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(U(189))}}if(n.alternate!==i)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function sT(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=sT(t),e!==null)return e;t=t.sibling}return null}var Ce=Object.assign,nR=Symbol.for("react.element"),ql=Symbol.for("react.transitional.element"),Ja=Symbol.for("react.portal"),_s=Symbol.for("react.fragment"),aT=Symbol.for("react.strict_mode"),$f=Symbol.for("react.profiler"),oT=Symbol.for("react.consumer"),Fn=Symbol.for("react.context"),wm=Symbol.for("react.forward_ref"),Xf=Symbol.for("react.suspense"),Jf=Symbol.for("react.suspense_list"),Rm=Symbol.for("react.memo"),bi=Symbol.for("react.lazy"),Wf=Symbol.for("react.activity"),iR=Symbol.for("react.memo_cache_sentinel"),Dy=Symbol.iterator;function qa(t){return t===null||typeof t!="object"?null:(t=Dy&&t[Dy]||t["@@iterator"],typeof t=="function"?t:null)}var rR=Symbol.for("react.client.reference");function Zf(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===rR?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _s:return"Fragment";case $f:return"Profiler";case aT:return"StrictMode";case Xf:return"Suspense";case Jf:return"SuspenseList";case Wf:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Ja:return"Portal";case Fn:return t.displayName||"Context";case oT:return(t._context.displayName||"Context")+".Consumer";case wm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Rm:return e=t.displayName||null,e!==null?e:Zf(t.type)||"Memo";case bi:e=t._payload,t=t._init;try{return Zf(t(e))}catch{}}return null}var Wa=Array.isArray,Y=tT.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=eR.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Or={pending:!1,data:null,method:null,action:null},ed=[],vs=-1;function On(t){return{current:t}}function it(t){0>vs||(t.current=ed[vs],ed[vs]=null,vs--)}function Te(t,e){vs++,ed[vs]=t.current,t.current=e}var En=On(null),Do=On(null),zi=On(null),zu=On(null);function ju(t,e){switch(Te(zi,e),Te(Do,t),Te(En,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?L_(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=L_(e),t=Cb(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}it(En),Te(En,t)}function Hs(){it(En),it(Do),it(zi)}function td(t){t.memoizedState!==null&&Te(zu,t);var e=En.current,n=Cb(e,t.type);e!==n&&(Te(Do,t),Te(En,n))}function Bu(t){Do.current===t&&(it(En),it(Do)),zu.current===t&&(it(zu),Bo._currentValue=Or)}var $h,Oy;function wr(t){if($h===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$h=e&&e[1]||"",Oy=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$h+t+Oy}var Xh=!1;function Jh(t,e){if(!t||Xh)return"";Xh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(g){var p=g}Reflect.construct(t,[],m)}else{try{m.call()}catch(g){p=g}t.call(m.prototype)}}else{try{throw Error()}catch(g){p=g}(m=t())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(g){if(g&&p&&typeof g.stack=="string")return[g.stack,p.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],l=s[1];if(a&&l){var u=a.split(`
`),c=l.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===c.length)for(i=u.length-1,r=c.length-1;1<=i&&0<=r&&u[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==c[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==c[r]){var f=`
`+u[i].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=i&&0<=r);break}}}finally{Xh=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?wr(n):""}function sR(t,e){switch(t.tag){case 26:case 27:case 5:return wr(t.type);case 16:return wr("Lazy");case 13:return t.child!==e&&e!==null?wr("Suspense Fallback"):wr("Suspense");case 19:return wr("SuspenseList");case 0:case 15:return Jh(t.type,!1);case 11:return Jh(t.type.render,!1);case 1:return Jh(t.type,!0);case 31:return wr("Activity");default:return""}}function xy(t){try{var e="",n=null;do e+=sR(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var nd=Object.prototype.hasOwnProperty,Cm=We.unstable_scheduleCallback,Wh=We.unstable_cancelCallback,aR=We.unstable_shouldYield,oR=We.unstable_requestPaint,jt=We.unstable_now,lR=We.unstable_getCurrentPriorityLevel,lT=We.unstable_ImmediatePriority,uT=We.unstable_UserBlockingPriority,qu=We.unstable_NormalPriority,uR=We.unstable_LowPriority,cT=We.unstable_IdlePriority,cR=We.log,hR=We.unstable_setDisableYieldValue,nl=null,Bt=null;function Mi(t){if(typeof cR=="function"&&hR(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(nl,t)}catch{}}var qt=Math.clz32?Math.clz32:mR,fR=Math.log,dR=Math.LN2;function mR(t){return t>>>=0,t===0?32:31-(fR(t)/dR|0)|0}var Hl=256,Fl=262144,Gl=4194304;function Rr(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Uc(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var r=0,s=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var l=i&134217727;return l!==0?(i=l&~s,i!==0?r=Rr(i):(a&=l,a!==0?r=Rr(a):n||(n=l&~t,n!==0&&(r=Rr(n))))):(l=i&~s,l!==0?r=Rr(l):a!==0?r=Rr(a):n||(n=i&~t,n!==0&&(r=Rr(n)))),r===0?0:e!==0&&e!==r&&!(e&s)&&(s=r&-r,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:r}function il(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function pR(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hT(){var t=Gl;return Gl<<=1,!(Gl&62914560)&&(Gl=4194304),t}function Zh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function rl(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function gR(t,e,n,i,r,s){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,u=t.expirationTimes,c=t.hiddenUpdates;for(n=a&~n;0<n;){var f=31-qt(n),m=1<<f;l[f]=0,u[f]=-1;var p=c[f];if(p!==null)for(c[f]=null,f=0;f<p.length;f++){var g=p[f];g!==null&&(g.lane&=-536870913)}n&=~m}i!==0&&fT(t,i,0),s!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=s&~(a&~e))}function fT(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-qt(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function dT(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-qt(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}function mT(t,e){var n=e&-e;return n=n&42?1:Im(n),n&(t.suspendedLanes|e)?0:n}function Im(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Nm(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function pT(){var t=he.p;return t!==0?t:(t=window.event,t===void 0?32:kb(t.type))}function My(t,e){var n=he.p;try{return he.p=t,e()}finally{he.p=n}}var hr=Math.random().toString(36).slice(2),at="__reactFiber$"+hr,Ot="__reactProps$"+hr,ca="__reactContainer$"+hr,id="__reactEvents$"+hr,yR="__reactListeners$"+hr,_R="__reactHandles$"+hr,Vy="__reactResources$"+hr,sl="__reactMarker$"+hr;function Dm(t){delete t[at],delete t[Ot],delete t[id],delete t[yR],delete t[_R]}function Es(t){var e=t[at];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ca]||n[at]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=B_(t);t!==null;){if(n=t[at])return n;t=B_(t)}return e}t=n,n=t.parentNode}return null}function ha(t){if(t=t[at]||t[ca]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Za(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(U(33))}function Os(t){var e=t[Vy];return e||(e=t[Vy]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function nt(t){t[sl]=!0}var gT=new Set,yT={};function $r(t,e){Fs(t,e),Fs(t+"Capture",e)}function Fs(t,e){for(yT[t]=e,t=0;t<e.length;t++)gT.add(e[t])}var vR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Py={},Ly={};function ER(t){return nd.call(Ly,t)?!0:nd.call(Py,t)?!1:vR.test(t)?Ly[t]=!0:(Py[t]=!0,!1)}function fu(t,e,n){if(ER(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Kl(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Ln(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function Yt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _T(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TR(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,s=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rd(t){if(!t._valueTracker){var e=_T(t)?"checked":"value";t._valueTracker=TR(t,e,""+t[e])}}function vT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=_T(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Hu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var bR=/[\n"\\]/g;function Jt(t){return t.replace(bR,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function sd(t,e,n,i,r,s,a,l){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Yt(e)):t.value!==""+Yt(e)&&(t.value=""+Yt(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?ad(t,a,Yt(e)):n!=null?ad(t,a,Yt(n)):i!=null&&t.removeAttribute("value"),r==null&&s!=null&&(t.defaultChecked=!!s),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+Yt(l):t.removeAttribute("name")}function ET(t,e,n,i,r,s,a,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null)){rd(t);return}n=n!=null?""+Yt(n):"",e=e!=null?""+Yt(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=l?t.checked:!!i,t.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a),rd(t)}function ad(t,e,n){e==="number"&&Hu(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function xs(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Yt(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function TT(t,e,n){if(e!=null&&(e=""+Yt(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Yt(n):""}function bT(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(U(92));if(Wa(i)){if(1<i.length)throw Error(U(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=Yt(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),rd(t)}function Gs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var AR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uy(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||AR.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function AT(t,e,n){if(e!=null&&typeof e!="object")throw Error(U(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var r in e)i=e[r],e.hasOwnProperty(r)&&n[r]!==i&&Uy(t,r,i)}else for(var s in e)e.hasOwnProperty(s)&&Uy(t,s,e[s])}function Om(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var SR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function du(t){return wR.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Gn(){}var od=null;function xm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ts=null,Ms=null;function ky(t){var e=ha(t);if(e&&(t=e.stateNode)){var n=t[Ot]||null;e:switch(t=e.stateNode,e.type){case"input":if(sd(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Jt(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=i[Ot]||null;if(!r)throw Error(U(90));sd(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&vT(i)}break e;case"textarea":TT(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&xs(t,!!n.multiple,e,!1)}}}var ef=!1;function ST(t,e,n){if(ef)return t(e,n);ef=!0;try{var i=t(e);return i}finally{if(ef=!1,(Ts!==null||Ms!==null)&&($c(),Ts&&(e=Ts,t=Ms,Ms=Ts=null,ky(e),t)))for(e=0;e<t.length;e++)ky(t[e])}}function Oo(t,e){var n=t.stateNode;if(n===null)return null;var i=n[Ot]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ld=!1;if(ei)try{var Ha={};Object.defineProperty(Ha,"passive",{get:function(){ld=!0}}),window.addEventListener("test",Ha,Ha),window.removeEventListener("test",Ha,Ha)}catch{ld=!1}var Vi=null,Mm=null,mu=null;function wT(){if(mu)return mu;var t,e=Mm,n=e.length,i,r="value"in Vi?Vi.value:Vi.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===r[s-i];i++);return mu=r.slice(t,1<i?1-i:void 0)}function pu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ql(){return!0}function zy(){return!1}function xt(t){function e(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ql:zy,this.isPropagationStopped=zy,this}return Ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ql)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ql)},persist:function(){},isPersistent:Ql}),e}var Xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kc=xt(Xr),al=Ce({},Xr,{view:0,detail:0}),RR=xt(al),tf,nf,Fa,zc=Ce({},al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fa&&(Fa&&t.type==="mousemove"?(tf=t.screenX-Fa.screenX,nf=t.screenY-Fa.screenY):nf=tf=0,Fa=t),tf)},movementY:function(t){return"movementY"in t?t.movementY:nf}}),jy=xt(zc),CR=Ce({},zc,{dataTransfer:0}),IR=xt(CR),NR=Ce({},al,{relatedTarget:0}),rf=xt(NR),DR=Ce({},Xr,{animationName:0,elapsedTime:0,pseudoElement:0}),OR=xt(DR),xR=Ce({},Xr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),MR=xt(xR),VR=Ce({},Xr,{data:0}),By=xt(VR),PR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=UR[t])?!!e[t]:!1}function Vm(){return kR}var zR=Ce({},al,{key:function(t){if(t.key){var e=PR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=pu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vm,charCode:function(t){return t.type==="keypress"?pu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jR=xt(zR),BR=Ce({},zc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qy=xt(BR),qR=Ce({},al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vm}),HR=xt(qR),FR=Ce({},Xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),GR=xt(FR),KR=Ce({},zc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),QR=xt(KR),YR=Ce({},Xr,{newState:0,oldState:0}),$R=xt(YR),XR=[9,13,27,32],Pm=ei&&"CompositionEvent"in window,uo=null;ei&&"documentMode"in document&&(uo=document.documentMode);var JR=ei&&"TextEvent"in window&&!uo,RT=ei&&(!Pm||uo&&8<uo&&11>=uo),Hy=" ",Fy=!1;function CT(t,e){switch(t){case"keyup":return XR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bs=!1;function WR(t,e){switch(t){case"compositionend":return IT(e);case"keypress":return e.which!==32?null:(Fy=!0,Hy);case"textInput":return t=e.data,t===Hy&&Fy?null:t;default:return null}}function ZR(t,e){if(bs)return t==="compositionend"||!Pm&&CT(t,e)?(t=wT(),mu=Mm=Vi=null,bs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return RT&&e.locale!=="ko"?null:e.data;default:return null}}var eC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!eC[t.type]:e==="textarea"}function NT(t,e,n,i){Ts?Ms?Ms.push(i):Ms=[i]:Ts=i,e=oc(e,"onChange"),0<e.length&&(n=new kc("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var co=null,xo=null;function tC(t){Sb(t,0)}function jc(t){var e=Za(t);if(vT(e))return t}function Ky(t,e){if(t==="change")return e}var DT=!1;if(ei){var sf;if(ei){var af="oninput"in document;if(!af){var Qy=document.createElement("div");Qy.setAttribute("oninput","return;"),af=typeof Qy.oninput=="function"}sf=af}else sf=!1;DT=sf&&(!document.documentMode||9<document.documentMode)}function Yy(){co&&(co.detachEvent("onpropertychange",OT),xo=co=null)}function OT(t){if(t.propertyName==="value"&&jc(xo)){var e=[];NT(e,xo,t,xm(t)),ST(tC,e)}}function nC(t,e,n){t==="focusin"?(Yy(),co=e,xo=n,co.attachEvent("onpropertychange",OT)):t==="focusout"&&Yy()}function iC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jc(xo)}function rC(t,e){if(t==="click")return jc(e)}function sC(t,e){if(t==="input"||t==="change")return jc(e)}function aC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ft=typeof Object.is=="function"?Object.is:aC;function Mo(t,e){if(Ft(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!nd.call(e,r)||!Ft(t[r],e[r]))return!1}return!0}function $y(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xy(t,e){var n=$y(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$y(n)}}function xT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function MT(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Hu(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hu(t.document)}return e}function Lm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var oC=ei&&"documentMode"in document&&11>=document.documentMode,As=null,ud=null,ho=null,cd=!1;function Jy(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cd||As==null||As!==Hu(i)||(i=As,"selectionStart"in i&&Lm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ho&&Mo(ho,i)||(ho=i,i=oc(ud,"onSelect"),0<i.length&&(e=new kc("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=As)))}function Sr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ss={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionrun:Sr("Transition","TransitionRun"),transitionstart:Sr("Transition","TransitionStart"),transitioncancel:Sr("Transition","TransitionCancel"),transitionend:Sr("Transition","TransitionEnd")},of={},VT={};ei&&(VT=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function Jr(t){if(of[t])return of[t];if(!Ss[t])return t;var e=Ss[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in VT)return of[t]=e[n];return t}var PT=Jr("animationend"),LT=Jr("animationiteration"),UT=Jr("animationstart"),lC=Jr("transitionrun"),uC=Jr("transitionstart"),cC=Jr("transitioncancel"),kT=Jr("transitionend"),zT=new Map,hd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hd.push("scrollEnd");function fn(t,e){zT.set(t,e),$r(e,[t])}var Fu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Qt=[],ws=0,Um=0;function Bc(){for(var t=ws,e=Um=ws=0;e<t;){var n=Qt[e];Qt[e++]=null;var i=Qt[e];Qt[e++]=null;var r=Qt[e];Qt[e++]=null;var s=Qt[e];if(Qt[e++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&jT(n,r,s)}}function qc(t,e,n,i){Qt[ws++]=t,Qt[ws++]=e,Qt[ws++]=n,Qt[ws++]=i,Um|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function km(t,e,n,i){return qc(t,e,n,i),Gu(t)}function Wr(t,e){return qc(t,null,null,e),Gu(t)}function jT(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=t.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(r=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,r&&e!==null&&(r=31-qt(n),t=s.hiddenUpdates,i=t[r],i===null?t[r]=[e]:i.push(e),e.lane=n|536870912),s):null}function Gu(t){if(50<To)throw To=0,xd=null,Error(U(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Rs={};function hC(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(t,e,n,i){return new hC(t,e,n,i)}function zm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $n(t,e){var n=t.alternate;return n===null?(n=Lt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function BT(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function gu(t,e,n,i,r,s){var a=0;if(i=t,typeof t=="function")zm(t)&&(a=1);else if(typeof t=="string")a=gI(t,n,En.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Wf:return t=Lt(31,n,e,r),t.elementType=Wf,t.lanes=s,t;case _s:return xr(n.children,r,s,e);case aT:a=8,r|=24;break;case $f:return t=Lt(12,n,e,r|2),t.elementType=$f,t.lanes=s,t;case Xf:return t=Lt(13,n,e,r),t.elementType=Xf,t.lanes=s,t;case Jf:return t=Lt(19,n,e,r),t.elementType=Jf,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Fn:a=10;break e;case oT:a=9;break e;case wm:a=11;break e;case Rm:a=14;break e;case bi:a=16,i=null;break e}a=29,n=Error(U(130,t===null?"null":typeof t,"")),i=null}return e=Lt(a,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function xr(t,e,n,i){return t=Lt(7,t,i,e),t.lanes=n,t}function lf(t,e,n){return t=Lt(6,t,null,e),t.lanes=n,t}function qT(t){var e=Lt(18,null,null,0);return e.stateNode=t,e}function uf(t,e,n){return e=Lt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Wy=new WeakMap;function Wt(t,e){if(typeof t=="object"&&t!==null){var n=Wy.get(t);return n!==void 0?n:(e={value:t,source:e,stack:xy(e)},Wy.set(t,e),e)}return{value:t,source:e,stack:xy(e)}}var Cs=[],Is=0,Ku=null,Vo=0,$t=[],Xt=0,Zi=null,gn=1,yn="";function qn(t,e){Cs[Is++]=Vo,Cs[Is++]=Ku,Ku=t,Vo=e}function HT(t,e,n){$t[Xt++]=gn,$t[Xt++]=yn,$t[Xt++]=Zi,Zi=t;var i=gn;t=yn;var r=32-qt(i)-1;i&=~(1<<r),n+=1;var s=32-qt(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,gn=1<<32-qt(e)+r|n<<r|i,yn=s+t}else gn=1<<s|n<<r|i,yn=t}function jm(t){t.return!==null&&(qn(t,1),HT(t,1,0))}function Bm(t){for(;t===Ku;)Ku=Cs[--Is],Cs[Is]=null,Vo=Cs[--Is],Cs[Is]=null;for(;t===Zi;)Zi=$t[--Xt],$t[Xt]=null,yn=$t[--Xt],$t[Xt]=null,gn=$t[--Xt],$t[Xt]=null}function FT(t,e){$t[Xt++]=gn,$t[Xt++]=yn,$t[Xt++]=Zi,gn=e.id,yn=e.overflow,Zi=t}var ot=null,Se=null,le=!1,ji=null,Zt=!1,fd=Error(U(519));function er(t){var e=Error(U(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Po(Wt(e,t)),fd}function Zy(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[at]=t,e[Ot]=i,n){case"dialog":ne("cancel",e),ne("close",e);break;case"iframe":case"object":case"embed":ne("load",e);break;case"video":case"audio":for(n=0;n<zo.length;n++)ne(zo[n],e);break;case"source":ne("error",e);break;case"img":case"image":case"link":ne("error",e),ne("load",e);break;case"details":ne("toggle",e);break;case"input":ne("invalid",e),ET(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ne("invalid",e);break;case"textarea":ne("invalid",e),bT(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||Rb(e.textContent,n)?(i.popover!=null&&(ne("beforetoggle",e),ne("toggle",e)),i.onScroll!=null&&ne("scroll",e),i.onScrollEnd!=null&&ne("scrollend",e),i.onClick!=null&&(e.onclick=Gn),e=!0):e=!1,e||er(t,!0)}function e_(t){for(ot=t.return;ot;)switch(ot.tag){case 5:case 31:case 13:Zt=!1;return;case 27:case 3:Zt=!0;return;default:ot=ot.return}}function us(t){if(t!==ot)return!1;if(!le)return e_(t),le=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Ud(t.type,t.memoizedProps)),n=!n),n&&Se&&er(t),e_(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));Se=j_(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));Se=j_(t)}else e===27?(e=Se,fr(t.type)?(t=Bd,Bd=null,Se=t):Se=e):Se=ot?rn(t.stateNode.nextSibling):null;return!0}function kr(){Se=ot=null,le=!1}function cf(){var t=ji;return t!==null&&(Ct===null?Ct=t:Ct.push.apply(Ct,t),ji=null),t}function Po(t){ji===null?ji=[t]:ji.push(t)}var dd=On(null),Zr=null,Kn=null;function Si(t,e,n){Te(dd,e._currentValue),e._currentValue=n}function Xn(t){t._currentValue=dd.current,it(dd)}function md(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function pd(t,e,n,i){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;e:for(;s!==null;){var l=s;s=r;for(var u=0;u<e.length;u++)if(l.context===e[u]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),md(s.return,n,t),i||(a=null);break e}s=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(U(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),md(a,n,t),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===t){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function fa(t,e,n,i){t=null;for(var r=e,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(U(387));if(a=a.memoizedProps,a!==null){var l=r.type;Ft(r.pendingProps.value,a.value)||(t!==null?t.push(l):t=[l])}}else if(r===zu.current){if(a=r.alternate,a===null)throw Error(U(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(Bo):t=[Bo])}r=r.return}t!==null&&pd(e,t,n,i),e.flags|=262144}function Qu(t){for(t=t.firstContext;t!==null;){if(!Ft(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zr(t){Zr=t,Kn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ut(t){return GT(Zr,t)}function Yl(t,e){return Zr===null&&zr(t),GT(t,e)}function GT(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Kn===null){if(t===null)throw Error(U(308));Kn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Kn=Kn.next=e;return n}var fC=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},dC=We.unstable_scheduleCallback,mC=We.unstable_NormalPriority,Fe={$$typeof:Fn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qm(){return{controller:new fC,data:new Map,refCount:0}}function ol(t){t.refCount--,t.refCount===0&&dC(mC,function(){t.controller.abort()})}var fo=null,gd=0,Ks=0,Vs=null;function pC(t,e){if(fo===null){var n=fo=[];gd=0,Ks=dp(),Vs={status:"pending",value:void 0,then:function(i){n.push(i)}}}return gd++,e.then(t_,t_),e}function t_(){if(--gd===0&&fo!==null){Vs!==null&&(Vs.status="fulfilled");var t=fo;fo=null,Ks=0,Vs=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function gC(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var n_=Y.S;Y.S=function(t,e){sb=jt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&pC(t,e),n_!==null&&n_(t,e)};var Mr=On(null);function Hm(){var t=Mr.current;return t!==null?t:_e.pooledCache}function yu(t,e){e===null?Te(Mr,Mr.current):Te(Mr,e.pool)}function KT(){var t=Hm();return t===null?null:{parent:Fe._currentValue,pool:t}}var da=Error(U(460)),Fm=Error(U(474)),Hc=Error(U(542)),Yu={then:function(){}};function i_(t){return t=t.status,t==="fulfilled"||t==="rejected"}function QT(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Gn,Gn),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,s_(t),t;default:if(typeof e.status=="string")e.then(Gn,Gn);else{if(t=_e,t!==null&&100<t.shellSuspendCounter)throw Error(U(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=i}},function(i){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,s_(t),t}throw Vr=e,da}}function Cr(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Vr=n,da):n}}var Vr=null;function r_(){if(Vr===null)throw Error(U(459));var t=Vr;return Vr=null,t}function s_(t){if(t===da||t===Hc)throw Error(U(483))}var Ps=null,Lo=0;function $l(t){var e=Lo;return Lo+=1,Ps===null&&(Ps=[]),QT(Ps,t,e)}function Ga(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Xl(t,e){throw e.$$typeof===nR?Error(U(525)):(t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function YT(t){function e(E,_){if(t){var b=E.deletions;b===null?(E.deletions=[_],E.flags|=16):b.push(_)}}function n(E,_){if(!t)return null;for(;_!==null;)e(E,_),_=_.sibling;return null}function i(E){for(var _=new Map;E!==null;)E.key!==null?_.set(E.key,E):_.set(E.index,E),E=E.sibling;return _}function r(E,_){return E=$n(E,_),E.index=0,E.sibling=null,E}function s(E,_,b){return E.index=b,t?(b=E.alternate,b!==null?(b=b.index,b<_?(E.flags|=67108866,_):b):(E.flags|=67108866,_)):(E.flags|=1048576,_)}function a(E){return t&&E.alternate===null&&(E.flags|=67108866),E}function l(E,_,b,I){return _===null||_.tag!==6?(_=lf(b,E.mode,I),_.return=E,_):(_=r(_,b),_.return=E,_)}function u(E,_,b,I){var z=b.type;return z===_s?f(E,_,b.props.children,I,b.key):_!==null&&(_.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===bi&&Cr(z)===_.type)?(_=r(_,b.props),Ga(_,b),_.return=E,_):(_=gu(b.type,b.key,b.props,null,E.mode,I),Ga(_,b),_.return=E,_)}function c(E,_,b,I){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=uf(b,E.mode,I),_.return=E,_):(_=r(_,b.children||[]),_.return=E,_)}function f(E,_,b,I,z){return _===null||_.tag!==7?(_=xr(b,E.mode,I,z),_.return=E,_):(_=r(_,b),_.return=E,_)}function m(E,_,b){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=lf(""+_,E.mode,b),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ql:return b=gu(_.type,_.key,_.props,null,E.mode,b),Ga(b,_),b.return=E,b;case Ja:return _=uf(_,E.mode,b),_.return=E,_;case bi:return _=Cr(_),m(E,_,b)}if(Wa(_)||qa(_))return _=xr(_,E.mode,b,null),_.return=E,_;if(typeof _.then=="function")return m(E,$l(_),b);if(_.$$typeof===Fn)return m(E,Yl(E,_),b);Xl(E,_)}return null}function p(E,_,b,I){var z=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return z!==null?null:l(E,_,""+b,I);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ql:return b.key===z?u(E,_,b,I):null;case Ja:return b.key===z?c(E,_,b,I):null;case bi:return b=Cr(b),p(E,_,b,I)}if(Wa(b)||qa(b))return z!==null?null:f(E,_,b,I,null);if(typeof b.then=="function")return p(E,_,$l(b),I);if(b.$$typeof===Fn)return p(E,_,Yl(E,b),I);Xl(E,b)}return null}function g(E,_,b,I,z){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return E=E.get(b)||null,l(_,E,""+I,z);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case ql:return E=E.get(I.key===null?b:I.key)||null,u(_,E,I,z);case Ja:return E=E.get(I.key===null?b:I.key)||null,c(_,E,I,z);case bi:return I=Cr(I),g(E,_,b,I,z)}if(Wa(I)||qa(I))return E=E.get(b)||null,f(_,E,I,z,null);if(typeof I.then=="function")return g(E,_,b,$l(I),z);if(I.$$typeof===Fn)return g(E,_,b,Yl(_,I),z);Xl(_,I)}return null}function C(E,_,b,I){for(var z=null,j=null,T=_,v=_=0,A=null;T!==null&&v<b.length;v++){T.index>v?(A=T,T=null):A=T.sibling;var S=p(E,T,b[v],I);if(S===null){T===null&&(T=A);break}t&&T&&S.alternate===null&&e(E,T),_=s(S,_,v),j===null?z=S:j.sibling=S,j=S,T=A}if(v===b.length)return n(E,T),le&&qn(E,v),z;if(T===null){for(;v<b.length;v++)T=m(E,b[v],I),T!==null&&(_=s(T,_,v),j===null?z=T:j.sibling=T,j=T);return le&&qn(E,v),z}for(T=i(T);v<b.length;v++)A=g(T,E,v,b[v],I),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?v:A.key),_=s(A,_,v),j===null?z=A:j.sibling=A,j=A);return t&&T.forEach(function(R){return e(E,R)}),le&&qn(E,v),z}function O(E,_,b,I){if(b==null)throw Error(U(151));for(var z=null,j=null,T=_,v=_=0,A=null,S=b.next();T!==null&&!S.done;v++,S=b.next()){T.index>v?(A=T,T=null):A=T.sibling;var R=p(E,T,S.value,I);if(R===null){T===null&&(T=A);break}t&&T&&R.alternate===null&&e(E,T),_=s(R,_,v),j===null?z=R:j.sibling=R,j=R,T=A}if(S.done)return n(E,T),le&&qn(E,v),z;if(T===null){for(;!S.done;v++,S=b.next())S=m(E,S.value,I),S!==null&&(_=s(S,_,v),j===null?z=S:j.sibling=S,j=S);return le&&qn(E,v),z}for(T=i(T);!S.done;v++,S=b.next())S=g(T,E,v,S.value,I),S!==null&&(t&&S.alternate!==null&&T.delete(S.key===null?v:S.key),_=s(S,_,v),j===null?z=S:j.sibling=S,j=S);return t&&T.forEach(function(x){return e(E,x)}),le&&qn(E,v),z}function N(E,_,b,I){if(typeof b=="object"&&b!==null&&b.type===_s&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case ql:e:{for(var z=b.key;_!==null;){if(_.key===z){if(z=b.type,z===_s){if(_.tag===7){n(E,_.sibling),I=r(_,b.props.children),I.return=E,E=I;break e}}else if(_.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===bi&&Cr(z)===_.type){n(E,_.sibling),I=r(_,b.props),Ga(I,b),I.return=E,E=I;break e}n(E,_);break}else e(E,_);_=_.sibling}b.type===_s?(I=xr(b.props.children,E.mode,I,b.key),I.return=E,E=I):(I=gu(b.type,b.key,b.props,null,E.mode,I),Ga(I,b),I.return=E,E=I)}return a(E);case Ja:e:{for(z=b.key;_!==null;){if(_.key===z)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){n(E,_.sibling),I=r(_,b.children||[]),I.return=E,E=I;break e}else{n(E,_);break}else e(E,_);_=_.sibling}I=uf(b,E.mode,I),I.return=E,E=I}return a(E);case bi:return b=Cr(b),N(E,_,b,I)}if(Wa(b))return C(E,_,b,I);if(qa(b)){if(z=qa(b),typeof z!="function")throw Error(U(150));return b=z.call(b),O(E,_,b,I)}if(typeof b.then=="function")return N(E,_,$l(b),I);if(b.$$typeof===Fn)return N(E,_,Yl(E,b),I);Xl(E,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,_!==null&&_.tag===6?(n(E,_.sibling),I=r(_,b),I.return=E,E=I):(n(E,_),I=lf(b,E.mode,I),I.return=E,E=I),a(E)):n(E,_)}return function(E,_,b,I){try{Lo=0;var z=N(E,_,b,I);return Ps=null,z}catch(T){if(T===da||T===Hc)throw T;var j=Lt(29,T,null,E.mode);return j.lanes=I,j.return=E,j}finally{}}}var jr=YT(!0),$T=YT(!1),Ai=!1;function Gm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Bi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function qi(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ce&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,e=Gu(t),jT(t,null,n),e}return qc(t,i,e,n),Gu(t)}function mo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,dT(t,n)}}function hf(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var _d=!1;function po(){if(_d){var t=Vs;if(t!==null)throw t}}function go(t,e,n,i){_d=!1;var r=t.updateQueue;Ai=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?s=c:a.next=c,a=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=u))}if(s!==null){var m=r.baseState;a=0,f=c=u=null,l=s;do{var p=l.lane&-536870913,g=p!==l.lane;if(g?(oe&p)===p:(i&p)===p){p!==0&&p===Ks&&(_d=!0),f!==null&&(f=f.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var C=t,O=l;p=e;var N=n;switch(O.tag){case 1:if(C=O.payload,typeof C=="function"){m=C.call(N,m,p);break e}m=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=O.payload,p=typeof C=="function"?C.call(N,m,p):C,p==null)break e;m=Ce({},m,p);break e;case 2:Ai=!0}}p=l.callback,p!==null&&(t.flags|=64,g&&(t.flags|=8192),g=r.callbacks,g===null?r.callbacks=[p]:g.push(p))}else g={lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=g,u=m):f=f.next=g,a|=p;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;g=l,l=g.next,g.next=null,r.lastBaseUpdate=g,r.shared.pending=null}}while(!0);f===null&&(u=m),r.baseState=u,r.firstBaseUpdate=c,r.lastBaseUpdate=f,s===null&&(r.shared.lanes=0),nr|=a,t.lanes=a,t.memoizedState=m}}function XT(t,e){if(typeof t!="function")throw Error(U(191,t));t.call(e)}function JT(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)XT(n[t],e)}var Qs=On(null),$u=On(0);function a_(t,e){t=ri,Te($u,t),Te(Qs,e),ri=t|e.baseLanes}function vd(){Te($u,ri),Te(Qs,Qs.current)}function Km(){ri=$u.current,it(Qs),it($u)}var Gt=On(null),nn=null;function wi(t){var e=t.alternate;Te(ke,ke.current&1),Te(Gt,t),nn===null&&(e===null||Qs.current!==null||e.memoizedState!==null)&&(nn=t)}function Ed(t){Te(ke,ke.current),Te(Gt,t),nn===null&&(nn=t)}function WT(t){t.tag===22?(Te(ke,ke.current),Te(Gt,t),nn===null&&(nn=t)):Ri()}function Ri(){Te(ke,ke.current),Te(Gt,Gt.current)}function Pt(t){it(Gt),nn===t&&(nn=null),it(ke)}var ke=On(0);function Xu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||zd(n)||jd(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ti=0,Z=null,ge=null,qe=null,Ju=!1,Ls=!1,Br=!1,Wu=0,Uo=0,Us=null,yC=0;function xe(){throw Error(U(321))}function Qm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ft(t[n],e[n]))return!1;return!0}function Ym(t,e,n,i,r,s){return ti=s,Z=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Y.H=t===null||t.memoizedState===null?N0:sp,Br=!1,s=n(i,r),Br=!1,Ls&&(s=e0(e,n,i,r)),ZT(t),s}function ZT(t){Y.H=ko;var e=ge!==null&&ge.next!==null;if(ti=0,qe=ge=Z=null,Ju=!1,Uo=0,Us=null,e)throw Error(U(300));t===null||Ke||(t=t.dependencies,t!==null&&Qu(t)&&(Ke=!0))}function e0(t,e,n,i){Z=t;var r=0;do{if(Ls&&(Us=null),Uo=0,Ls=!1,25<=r)throw Error(U(301));if(r+=1,qe=ge=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}Y.H=D0,s=e(n,i)}while(Ls);return s}function _C(){var t=Y.H,e=t.useState()[0];return e=typeof e.then=="function"?ll(e):e,t=t.useState()[0],(ge!==null?ge.memoizedState:null)!==t&&(Z.flags|=1024),e}function $m(){var t=Wu!==0;return Wu=0,t}function Xm(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Jm(t){if(Ju){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Ju=!1}ti=0,qe=ge=Z=null,Ls=!1,Uo=Wu=0,Us=null}function Tt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Z.memoizedState=qe=t:qe=qe.next=t,qe}function ze(){if(ge===null){var t=Z.alternate;t=t!==null?t.memoizedState:null}else t=ge.next;var e=qe===null?Z.memoizedState:qe.next;if(e!==null)qe=e,ge=t;else{if(t===null)throw Z.alternate===null?Error(U(467)):Error(U(310));ge=t,t={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},qe===null?Z.memoizedState=qe=t:qe=qe.next=t}return qe}function Fc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(t){var e=Uo;return Uo+=1,Us===null&&(Us=[]),t=QT(Us,t,e),e=Z,(qe===null?e.memoizedState:qe.next)===null&&(e=e.alternate,Y.H=e===null||e.memoizedState===null?N0:sp),t}function Gc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ll(t);if(t.$$typeof===Fn)return ut(t)}throw Error(U(438,String(t)))}function Wm(t){var e=null,n=Z.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=Z.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Fc(),Z.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=iR;return e.index++,n}function ni(t,e){return typeof e=="function"?e(t):e}function _u(t){var e=ze();return Zm(e,ge,t)}function Zm(t,e,n){var i=t.queue;if(i===null)throw Error(U(311));i.lastRenderedReducer=n;var r=t.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}e.baseQueue=r=s,i.pending=null}if(s=t.baseState,r===null)t.memoizedState=s;else{e=r.next;var l=a=null,u=null,c=e,f=!1;do{var m=c.lane&-536870913;if(m!==c.lane?(oe&m)===m:(ti&m)===m){var p=c.revertLane;if(p===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),m===Ks&&(f=!0);else if((ti&p)===p){c=c.next,p===Ks&&(f=!0);continue}else m={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=m,a=s):u=u.next=m,Z.lanes|=p,nr|=p;m=c.action,Br&&n(s,m),s=c.hasEagerState?c.eagerState:n(s,m)}else p={lane:m,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=p,a=s):u=u.next=p,Z.lanes|=m,nr|=m;c=c.next}while(c!==null&&c!==e);if(u===null?a=s:u.next=l,!Ft(s,t.memoizedState)&&(Ke=!0,f&&(n=Vs,n!==null)))throw n;t.memoizedState=s,t.baseState=a,t.baseQueue=u,i.lastRenderedState=s}return r===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function ff(t){var e=ze(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=t(s,a.action),a=a.next;while(a!==r);Ft(s,e.memoizedState)||(Ke=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function t0(t,e,n){var i=Z,r=ze(),s=le;if(s){if(n===void 0)throw Error(U(407));n=n()}else n=e();var a=!Ft((ge||r).memoizedState,n);if(a&&(r.memoizedState=n,Ke=!0),r=r.queue,ep(r0.bind(null,i,r,t),[t]),r.getSnapshot!==e||a||qe!==null&&qe.memoizedState.tag&1){if(i.flags|=2048,Ys(9,{destroy:void 0},i0.bind(null,i,r,n,e),null),_e===null)throw Error(U(349));s||ti&127||n0(i,e,n)}return n}function n0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Z.updateQueue,e===null?(e=Fc(),Z.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function i0(t,e,n,i){e.value=n,e.getSnapshot=i,s0(e)&&a0(t)}function r0(t,e,n){return n(function(){s0(e)&&a0(t)})}function s0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ft(t,n)}catch{return!0}}function a0(t){var e=Wr(t,2);e!==null&&Dt(e,t,2)}function Td(t){var e=Tt();if(typeof t=="function"){var n=t;if(t=n(),Br){Mi(!0);try{n()}finally{Mi(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:t},e}function o0(t,e,n,i){return t.baseState=n,Zm(t,ge,typeof i=="function"?i:ni)}function vC(t,e,n,i,r){if(Qc(t))throw Error(U(485));if(t=e.action,t!==null){var s={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};Y.T!==null?n(!0):s.isTransition=!1,i(s),n=e.pending,n===null?(s.next=e.pending=s,l0(e,s)):(s.next=n.next,e.pending=n.next=s)}}function l0(t,e){var n=e.action,i=e.payload,r=t.state;if(e.isTransition){var s=Y.T,a={};Y.T=a;try{var l=n(r,i),u=Y.S;u!==null&&u(a,l),o_(t,e,l)}catch(c){bd(t,e,c)}finally{s!==null&&a.types!==null&&(s.types=a.types),Y.T=s}}else try{s=n(r,i),o_(t,e,s)}catch(c){bd(t,e,c)}}function o_(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){l_(t,e,i)},function(i){return bd(t,e,i)}):l_(t,e,n)}function l_(t,e,n){e.status="fulfilled",e.value=n,u0(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,l0(t,n)))}function bd(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,u0(e),e=e.next;while(e!==i)}t.action=null}function u0(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function c0(t,e){return e}function u_(t,e){if(le){var n=_e.formState;if(n!==null){e:{var i=Z;if(le){if(Se){t:{for(var r=Se,s=Zt;r.nodeType!==8;){if(!s){r=null;break t}if(r=rn(r.nextSibling),r===null){r=null;break t}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){Se=rn(r.nextSibling),i=r.data==="F!";break e}}er(i)}i=!1}i&&(e=n[0])}}return n=Tt(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c0,lastRenderedState:e},n.queue=i,n=R0.bind(null,Z,i),i.dispatch=n,i=Td(!1),s=rp.bind(null,Z,!1,i.queue),i=Tt(),r={state:e,dispatch:null,action:t,pending:null},i.queue=r,n=vC.bind(null,Z,r,s,n),r.dispatch=n,i.memoizedState=t,[e,n,!1]}function c_(t){var e=ze();return h0(e,ge,t)}function h0(t,e,n){if(e=Zm(t,e,c0)[0],t=_u(ni)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=ll(e)}catch(a){throw a===da?Hc:a}else i=e;e=ze();var r=e.queue,s=r.dispatch;return n!==e.memoizedState&&(Z.flags|=2048,Ys(9,{destroy:void 0},EC.bind(null,r,n),null)),[i,s,t]}function EC(t,e){t.action=e}function h_(t){var e=ze(),n=ge;if(n!==null)return h0(e,n,t);ze(),e=e.memoizedState,n=ze();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function Ys(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=Z.updateQueue,e===null&&(e=Fc(),Z.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function f0(){return ze().memoizedState}function vu(t,e,n,i){var r=Tt();Z.flags|=t,r.memoizedState=Ys(1|e,{destroy:void 0},n,i===void 0?null:i)}function Kc(t,e,n,i){var r=ze();i=i===void 0?null:i;var s=r.memoizedState.inst;ge!==null&&i!==null&&Qm(i,ge.memoizedState.deps)?r.memoizedState=Ys(e,s,n,i):(Z.flags|=t,r.memoizedState=Ys(1|e,s,n,i))}function f_(t,e){vu(8390656,8,t,e)}function ep(t,e){Kc(2048,8,t,e)}function TC(t){Z.flags|=4;var e=Z.updateQueue;if(e===null)e=Fc(),Z.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function d0(t){var e=ze().memoizedState;return TC({ref:e,nextImpl:t}),function(){if(ce&2)throw Error(U(440));return e.impl.apply(void 0,arguments)}}function m0(t,e){return Kc(4,2,t,e)}function p0(t,e){return Kc(4,4,t,e)}function g0(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function y0(t,e,n){n=n!=null?n.concat([t]):null,Kc(4,4,g0.bind(null,e,t),n)}function tp(){}function _0(t,e){var n=ze();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&Qm(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function v0(t,e){var n=ze();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&Qm(e,i[1]))return i[0];if(i=t(),Br){Mi(!0);try{t()}finally{Mi(!1)}}return n.memoizedState=[i,e],i}function np(t,e,n){return n===void 0||ti&1073741824&&!(oe&261930)?t.memoizedState=e:(t.memoizedState=n,t=ob(),Z.lanes|=t,nr|=t,n)}function E0(t,e,n,i){return Ft(n,e)?n:Qs.current!==null?(t=np(t,n,i),Ft(t,e)||(Ke=!0),t):!(ti&42)||ti&1073741824&&!(oe&261930)?(Ke=!0,t.memoizedState=n):(t=ob(),Z.lanes|=t,nr|=t,e)}function T0(t,e,n,i,r){var s=he.p;he.p=s!==0&&8>s?s:8;var a=Y.T,l={};Y.T=l,rp(t,!1,e,n);try{var u=r(),c=Y.S;if(c!==null&&c(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=gC(u,i);yo(t,e,f,Ht(t))}else yo(t,e,i,Ht(t))}catch(m){yo(t,e,{then:function(){},status:"rejected",reason:m},Ht())}finally{he.p=s,a!==null&&l.types!==null&&(a.types=l.types),Y.T=a}}function bC(){}function Ad(t,e,n,i){if(t.tag!==5)throw Error(U(476));var r=b0(t).queue;T0(t,r,e,Or,n===null?bC:function(){return A0(t),n(i)})}function b0(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Or,baseState:Or,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:Or},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function A0(t){var e=b0(t);e.next===null&&(e=t.alternate.memoizedState),yo(t,e.next.queue,{},Ht())}function ip(){return ut(Bo)}function S0(){return ze().memoizedState}function w0(){return ze().memoizedState}function AC(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Ht();t=Bi(n);var i=qi(e,t,n);i!==null&&(Dt(i,e,n),mo(i,e,n)),e={cache:qm()},t.payload=e;return}e=e.return}}function SC(t,e,n){var i=Ht();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Qc(t)?C0(e,n):(n=km(t,e,n,i),n!==null&&(Dt(n,t,i),I0(n,e,i)))}function R0(t,e,n){var i=Ht();yo(t,e,n,i)}function yo(t,e,n,i){var r={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qc(t))C0(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(r.hasEagerState=!0,r.eagerState=l,Ft(l,a))return qc(t,e,r,0),_e===null&&Bc(),!1}catch{}finally{}if(n=km(t,e,r,i),n!==null)return Dt(n,t,i),I0(n,e,i),!0}return!1}function rp(t,e,n,i){if(i={lane:2,revertLane:dp(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Qc(t)){if(e)throw Error(U(479))}else e=km(t,n,i,2),e!==null&&Dt(e,t,2)}function Qc(t){var e=t.alternate;return t===Z||e!==null&&e===Z}function C0(t,e){Ls=Ju=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function I0(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,dT(t,n)}}var ko={readContext:ut,use:Gc,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useLayoutEffect:xe,useInsertionEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useSyncExternalStore:xe,useId:xe,useHostTransitionStatus:xe,useFormState:xe,useActionState:xe,useOptimistic:xe,useMemoCache:xe,useCacheRefresh:xe};ko.useEffectEvent=xe;var N0={readContext:ut,use:Gc,useCallback:function(t,e){return Tt().memoizedState=[t,e===void 0?null:e],t},useContext:ut,useEffect:f_,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,vu(4194308,4,g0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vu(4194308,4,t,e)},useInsertionEffect:function(t,e){vu(4,2,t,e)},useMemo:function(t,e){var n=Tt();e=e===void 0?null:e;var i=t();if(Br){Mi(!0);try{t()}finally{Mi(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=Tt();if(n!==void 0){var r=n(e);if(Br){Mi(!0);try{n(e)}finally{Mi(!1)}}}else r=e;return i.memoizedState=i.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},i.queue=t,t=t.dispatch=SC.bind(null,Z,t),[i.memoizedState,t]},useRef:function(t){var e=Tt();return t={current:t},e.memoizedState=t},useState:function(t){t=Td(t);var e=t.queue,n=R0.bind(null,Z,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:tp,useDeferredValue:function(t,e){var n=Tt();return np(n,t,e)},useTransition:function(){var t=Td(!1);return t=T0.bind(null,Z,t.queue,!0,!1),Tt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=Z,r=Tt();if(le){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),_e===null)throw Error(U(349));oe&127||n0(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,f_(r0.bind(null,i,s,t),[t]),i.flags|=2048,Ys(9,{destroy:void 0},i0.bind(null,i,s,n,e),null),n},useId:function(){var t=Tt(),e=_e.identifierPrefix;if(le){var n=yn,i=gn;n=(i&~(1<<32-qt(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Wu++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=yC++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:ip,useFormState:u_,useActionState:u_,useOptimistic:function(t){var e=Tt();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=rp.bind(null,Z,!0,n),n.dispatch=e,[t,e]},useMemoCache:Wm,useCacheRefresh:function(){return Tt().memoizedState=AC.bind(null,Z)},useEffectEvent:function(t){var e=Tt(),n={impl:t};return e.memoizedState=n,function(){if(ce&2)throw Error(U(440));return n.impl.apply(void 0,arguments)}}},sp={readContext:ut,use:Gc,useCallback:_0,useContext:ut,useEffect:ep,useImperativeHandle:y0,useInsertionEffect:m0,useLayoutEffect:p0,useMemo:v0,useReducer:_u,useRef:f0,useState:function(){return _u(ni)},useDebugValue:tp,useDeferredValue:function(t,e){var n=ze();return E0(n,ge.memoizedState,t,e)},useTransition:function(){var t=_u(ni)[0],e=ze().memoizedState;return[typeof t=="boolean"?t:ll(t),e]},useSyncExternalStore:t0,useId:S0,useHostTransitionStatus:ip,useFormState:c_,useActionState:c_,useOptimistic:function(t,e){var n=ze();return o0(n,ge,t,e)},useMemoCache:Wm,useCacheRefresh:w0};sp.useEffectEvent=d0;var D0={readContext:ut,use:Gc,useCallback:_0,useContext:ut,useEffect:ep,useImperativeHandle:y0,useInsertionEffect:m0,useLayoutEffect:p0,useMemo:v0,useReducer:ff,useRef:f0,useState:function(){return ff(ni)},useDebugValue:tp,useDeferredValue:function(t,e){var n=ze();return ge===null?np(n,t,e):E0(n,ge.memoizedState,t,e)},useTransition:function(){var t=ff(ni)[0],e=ze().memoizedState;return[typeof t=="boolean"?t:ll(t),e]},useSyncExternalStore:t0,useId:S0,useHostTransitionStatus:ip,useFormState:h_,useActionState:h_,useOptimistic:function(t,e){var n=ze();return ge!==null?o0(n,ge,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Wm,useCacheRefresh:w0};D0.useEffectEvent=d0;function df(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Ce({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sd={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Ht(),r=Bi(i);r.payload=e,n!=null&&(r.callback=n),e=qi(t,r,i),e!==null&&(Dt(e,t,i),mo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Ht(),r=Bi(i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=qi(t,r,i),e!==null&&(Dt(e,t,i),mo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ht(),i=Bi(n);i.tag=2,e!=null&&(i.callback=e),e=qi(t,i,n),e!==null&&(Dt(e,t,n),mo(e,t,n))}};function d_(t,e,n,i,r,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!Mo(n,i)||!Mo(r,s):!0}function m_(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Sd.enqueueReplaceState(e,e.state,null)}function qr(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=Ce({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}function O0(t){Fu(t)}function x0(t){console.error(t)}function M0(t){Fu(t)}function Zu(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function p_(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function wd(t,e,n){return n=Bi(n),n.tag=3,n.payload={element:null},n.callback=function(){Zu(t,e)},n}function V0(t){return t=Bi(t),t.tag=3,t}function P0(t,e,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;t.payload=function(){return r(s)},t.callback=function(){p_(e,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){p_(e,n,i),typeof r!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function wC(t,e,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&fa(e,n,r,!0),n=Gt.current,n!==null){switch(n.tag){case 31:case 13:return nn===null?rc():n.alternate===null&&Me===0&&(Me=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===Yu?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),Sf(t,i,r)),!1;case 22:return n.flags|=65536,i===Yu?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),Sf(t,i,r)),!1}throw Error(U(435,n.tag))}return Sf(t,i,r),rc(),!1}if(le)return e=Gt.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,i!==fd&&(t=Error(U(422),{cause:i}),Po(Wt(t,n)))):(i!==fd&&(e=Error(U(423),{cause:i}),Po(Wt(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,i=Wt(i,n),r=wd(t.stateNode,i,r),hf(t,r),Me!==4&&(Me=2)),!1;var s=Error(U(520),{cause:i});if(s=Wt(s,n),Eo===null?Eo=[s]:Eo.push(s),Me!==4&&(Me=2),e===null)return!0;i=Wt(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=wd(n.stateNode,i,t),hf(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Hi===null||!Hi.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=V0(r),P0(r,t,n,i),hf(n,r),!1}n=n.return}while(n!==null);return!1}var ap=Error(U(461)),Ke=!1;function rt(t,e,n,i){e.child=t===null?$T(e,null,n,i):jr(e,t.child,n,i)}function g_(t,e,n,i,r){n=n.render;var s=e.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return zr(e),i=Ym(t,e,n,a,s,r),l=$m(),t!==null&&!Ke?(Xm(t,e,r),ii(t,e,r)):(le&&l&&jm(e),e.flags|=1,rt(t,e,i,r),e.child)}function y_(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!zm(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,L0(t,e,s,i,r)):(t=gu(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!op(t,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Mo,n(a,i)&&t.ref===e.ref)return ii(t,e,r)}return e.flags|=1,t=$n(s,i),t.ref=e.ref,t.return=e,e.child=t}function L0(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(Mo(s,i)&&t.ref===e.ref)if(Ke=!1,e.pendingProps=i=s,op(t,r))t.flags&131072&&(Ke=!0);else return e.lanes=t.lanes,ii(t,e,r)}return Rd(t,e,n,i,r)}function U0(t,e,n,i){var r=i.children,s=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(e.flags&128){if(s=s!==null?s.baseLanes|n:n,t!==null){for(i=e.child=t.child,r=0;i!==null;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~s}else i=0,e.child=null;return __(t,e,s,n,i)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&yu(e,s!==null?s.cachePool:null),s!==null?a_(e,s):vd(),WT(e);else return i=e.lanes=536870912,__(t,e,s!==null?s.baseLanes|n:n,n,i)}else s!==null?(yu(e,s.cachePool),a_(e,s),Ri(),e.memoizedState=null):(t!==null&&yu(e,null),vd(),Ri());return rt(t,e,r,n),e.child}function eo(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function __(t,e,n,i,r){var s=Hm();return s=s===null?null:{parent:Fe._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&yu(e,null),vd(),WT(e),t!==null&&fa(t,e,i,!0),e.childLanes=r,null}function Eu(t,e){return e=ec({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function v_(t,e,n){return jr(e,t.child,null,n),t=Eu(e,e.pendingProps),t.flags|=2,Pt(e),e.memoizedState=null,t}function RC(t,e,n){var i=e.pendingProps,r=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(le){if(i.mode==="hidden")return t=Eu(e,i),e.lanes=536870912,eo(null,t);if(Ed(e),(t=Se)?(t=Nb(t,Zt),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Zi!==null?{id:gn,overflow:yn}:null,retryLane:536870912,hydrationErrors:null},n=qT(t),n.return=e,e.child=n,ot=e,Se=null)):t=null,t===null)throw er(e);return e.lanes=536870912,null}return Eu(e,i)}var s=t.memoizedState;if(s!==null){var a=s.dehydrated;if(Ed(e),r)if(e.flags&256)e.flags&=-257,e=v_(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(U(558));else if(Ke||fa(t,e,n,!1),r=(n&t.childLanes)!==0,Ke||r){if(i=_e,i!==null&&(a=mT(i,n),a!==0&&a!==s.retryLane))throw s.retryLane=a,Wr(t,a),Dt(i,t,a),ap;rc(),e=v_(t,e,n)}else t=s.treeContext,Se=rn(a.nextSibling),ot=e,le=!0,ji=null,Zt=!1,t!==null&&FT(e,t),e=Eu(e,i),e.flags|=4096;return e}return t=$n(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Tu(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(U(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Rd(t,e,n,i,r){return zr(e),n=Ym(t,e,n,i,void 0,r),i=$m(),t!==null&&!Ke?(Xm(t,e,r),ii(t,e,r)):(le&&i&&jm(e),e.flags|=1,rt(t,e,n,r),e.child)}function E_(t,e,n,i,r,s){return zr(e),e.updateQueue=null,n=e0(e,i,n,r),ZT(t),i=$m(),t!==null&&!Ke?(Xm(t,e,s),ii(t,e,s)):(le&&i&&jm(e),e.flags|=1,rt(t,e,n,s),e.child)}function T_(t,e,n,i,r){if(zr(e),e.stateNode===null){var s=Rs,a=n.contextType;typeof a=="object"&&a!==null&&(s=ut(a)),s=new n(i,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Sd,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=i,s.state=e.memoizedState,s.refs={},Gm(e),a=n.contextType,s.context=typeof a=="object"&&a!==null?ut(a):Rs,s.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(df(e,n,a,i),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&Sd.enqueueReplaceState(s,s.state,null),go(e,i,s,r),po(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){s=e.stateNode;var l=e.memoizedProps,u=qr(n,l);s.props=u;var c=s.context,f=n.contextType;a=Rs,typeof f=="object"&&f!==null&&(a=ut(f));var m=n.getDerivedStateFromProps;f=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||c!==a)&&m_(e,s,i,a),Ai=!1;var p=e.memoizedState;s.state=p,go(e,i,s,r),po(),c=e.memoizedState,l||p!==c||Ai?(typeof m=="function"&&(df(e,n,m,i),c=e.memoizedState),(u=Ai||d_(e,n,u,i,p,c,a))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),s.props=i,s.state=c,s.context=a,i=u):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,yd(t,e),a=e.memoizedProps,f=qr(n,a),s.props=f,m=e.pendingProps,p=s.context,c=n.contextType,u=Rs,typeof c=="object"&&c!==null&&(u=ut(c)),l=n.getDerivedStateFromProps,(c=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==m||p!==u)&&m_(e,s,i,u),Ai=!1,p=e.memoizedState,s.state=p,go(e,i,s,r),po();var g=e.memoizedState;a!==m||p!==g||Ai||t!==null&&t.dependencies!==null&&Qu(t.dependencies)?(typeof l=="function"&&(df(e,n,l,i),g=e.memoizedState),(f=Ai||d_(e,n,f,i,p,g,u)||t!==null&&t.dependencies!==null&&Qu(t.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,g,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,g,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),s.props=i,s.state=g,s.context=u,i=f):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),i=!1)}return s=i,Tu(t,e),i=(e.flags&128)!==0,s||i?(s=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&i?(e.child=jr(e,t.child,null,r),e.child=jr(e,null,n,r)):rt(t,e,n,r),e.memoizedState=s.state,t=e.child):t=ii(t,e,r),t}function b_(t,e,n,i){return kr(),e.flags|=256,rt(t,e,n,i),e.child}var mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pf(t){return{baseLanes:t,cachePool:KT()}}function gf(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Ut),t}function k0(t,e,n){var i=e.pendingProps,r=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(ke.current&2)!==0),a&&(r=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(le){if(r?wi(e):Ri(),(t=Se)?(t=Nb(t,Zt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Zi!==null?{id:gn,overflow:yn}:null,retryLane:536870912,hydrationErrors:null},n=qT(t),n.return=e,e.child=n,ot=e,Se=null)):t=null,t===null)throw er(e);return jd(t)?e.lanes=32:e.lanes=536870912,null}var l=i.children;return i=i.fallback,r?(Ri(),r=e.mode,l=ec({mode:"hidden",children:l},r),i=xr(i,r,n,null),l.return=e,i.return=e,l.sibling=i,e.child=l,i=e.child,i.memoizedState=pf(n),i.childLanes=gf(t,a,n),e.memoizedState=mf,eo(null,i)):(wi(e),Cd(e,l))}var u=t.memoizedState;if(u!==null&&(l=u.dehydrated,l!==null)){if(s)e.flags&256?(wi(e),e.flags&=-257,e=yf(t,e,n)):e.memoizedState!==null?(Ri(),e.child=t.child,e.flags|=128,e=null):(Ri(),l=i.fallback,r=e.mode,i=ec({mode:"visible",children:i.children},r),l=xr(l,r,n,null),l.flags|=2,i.return=e,l.return=e,i.sibling=l,e.child=i,jr(e,t.child,null,n),i=e.child,i.memoizedState=pf(n),i.childLanes=gf(t,a,n),e.memoizedState=mf,e=eo(null,i));else if(wi(e),jd(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var c=a.dgst;a=c,i=Error(U(419)),i.stack="",i.digest=a,Po({value:i,source:null,stack:null}),e=yf(t,e,n)}else if(Ke||fa(t,e,n,!1),a=(n&t.childLanes)!==0,Ke||a){if(a=_e,a!==null&&(i=mT(a,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,Wr(t,i),Dt(a,t,i),ap;zd(l)||rc(),e=yf(t,e,n)}else zd(l)?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,Se=rn(l.nextSibling),ot=e,le=!0,ji=null,Zt=!1,t!==null&&FT(e,t),e=Cd(e,i.children),e.flags|=4096);return e}return r?(Ri(),l=i.fallback,r=e.mode,u=t.child,c=u.sibling,i=$n(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,c!==null?l=$n(c,l):(l=xr(l,r,n,null),l.flags|=2),l.return=e,i.return=e,i.sibling=l,e.child=i,eo(null,i),i=e.child,l=t.child.memoizedState,l===null?l=pf(n):(r=l.cachePool,r!==null?(u=Fe._currentValue,r=r.parent!==u?{parent:u,pool:u}:r):r=KT(),l={baseLanes:l.baseLanes|n,cachePool:r}),i.memoizedState=l,i.childLanes=gf(t,a,n),e.memoizedState=mf,eo(t.child,i)):(wi(e),n=t.child,t=n.sibling,n=$n(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function Cd(t,e){return e=ec({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function ec(t,e){return t=Lt(22,t,null,e),t.lanes=0,t}function yf(t,e,n){return jr(e,t.child,null,n),t=Cd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function A_(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),md(t.return,e,n)}function _f(t,e,n,i,r,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,treeForkCount:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r,a.treeForkCount=s)}function z0(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;i=i.children;var a=ke.current,l=(a&2)!==0;if(l?(a=a&1|2,e.flags|=128):a&=1,Te(ke,a),rt(t,e,i,n),i=le?Vo:0,!l&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&A_(t,n,e);else if(t.tag===19)A_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Xu(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),_f(e,!1,r,n,s,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Xu(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}_f(e,!0,n,null,s,i);break;case"together":_f(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function ii(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),nr|=e.lanes,!(n&e.childLanes))if(t!==null){if(fa(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=$n(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$n(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function op(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Qu(t)))}function CC(t,e,n){switch(e.tag){case 3:ju(e,e.stateNode.containerInfo),Si(e,Fe,t.memoizedState.cache),kr();break;case 27:case 5:td(e);break;case 4:ju(e,e.stateNode.containerInfo);break;case 10:Si(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Ed(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(wi(e),e.flags|=128,null):n&e.child.childLanes?k0(t,e,n):(wi(e),t=ii(t,e,n),t!==null?t.sibling:null);wi(e);break;case 19:var r=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(fa(t,e,n,!1),i=(n&e.childLanes)!==0),r){if(i)return z0(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Te(ke,ke.current),i)break;return null;case 22:return e.lanes=0,U0(t,e,n,e.pendingProps);case 24:Si(e,Fe,t.memoizedState.cache)}return ii(t,e,n)}function j0(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ke=!0;else{if(!op(t,n)&&!(e.flags&128))return Ke=!1,CC(t,e,n);Ke=!!(t.flags&131072)}else Ke=!1,le&&e.flags&1048576&&HT(e,Vo,e.index);switch(e.lanes=0,e.tag){case 16:e:{var i=e.pendingProps;if(t=Cr(e.elementType),e.type=t,typeof t=="function")zm(t)?(i=qr(t,i),e.tag=1,e=T_(null,e,t,i,n)):(e.tag=0,e=Rd(null,e,t,i,n));else{if(t!=null){var r=t.$$typeof;if(r===wm){e.tag=11,e=g_(null,e,t,i,n);break e}else if(r===Rm){e.tag=14,e=y_(null,e,t,i,n);break e}}throw e=Zf(t)||t,Error(U(306,e,""))}}return e;case 0:return Rd(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,r=qr(i,e.pendingProps),T_(t,e,i,r,n);case 3:e:{if(ju(e,e.stateNode.containerInfo),t===null)throw Error(U(387));i=e.pendingProps;var s=e.memoizedState;r=s.element,yd(t,e),go(e,i,null,n);var a=e.memoizedState;if(i=a.cache,Si(e,Fe,i),i!==s.cache&&pd(e,[Fe],n,!0),po(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=b_(t,e,i,n);break e}else if(i!==r){r=Wt(Error(U(424)),e),Po(r),e=b_(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Se=rn(t.firstChild),ot=e,le=!0,ji=null,Zt=!0,n=$T(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(kr(),i===r){e=ii(t,e,n);break e}rt(t,e,i,n)}e=e.child}return e;case 26:return Tu(t,e),t===null?(n=H_(e.type,null,e.pendingProps,null))?e.memoizedState=n:le||(n=e.type,t=e.pendingProps,i=lc(zi.current).createElement(n),i[at]=e,i[Ot]=t,ct(i,n,t),nt(i),e.stateNode=i):e.memoizedState=H_(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return td(e),t===null&&le&&(i=e.stateNode=Db(e.type,e.pendingProps,zi.current),ot=e,Zt=!0,r=Se,fr(e.type)?(Bd=r,Se=rn(i.firstChild)):Se=r),rt(t,e,e.pendingProps.children,n),Tu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&le&&((r=i=Se)&&(i=iI(i,e.type,e.pendingProps,Zt),i!==null?(e.stateNode=i,ot=e,Se=rn(i.firstChild),Zt=!1,r=!0):r=!1),r||er(e)),td(e),r=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,i=s.children,Ud(r,s)?i=null:a!==null&&Ud(r,a)&&(e.flags|=32),e.memoizedState!==null&&(r=Ym(t,e,_C,null,null,n),Bo._currentValue=r),Tu(t,e),rt(t,e,i,n),e.child;case 6:return t===null&&le&&((t=n=Se)&&(n=rI(n,e.pendingProps,Zt),n!==null?(e.stateNode=n,ot=e,Se=null,t=!0):t=!1),t||er(e)),null;case 13:return k0(t,e,n);case 4:return ju(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=jr(e,null,i,n):rt(t,e,i,n),e.child;case 11:return g_(t,e,e.type,e.pendingProps,n);case 7:return rt(t,e,e.pendingProps,n),e.child;case 8:return rt(t,e,e.pendingProps.children,n),e.child;case 12:return rt(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,Si(e,e.type,i.value),rt(t,e,i.children,n),e.child;case 9:return r=e.type._context,i=e.pendingProps.children,zr(e),r=ut(r),i=i(r),e.flags|=1,rt(t,e,i,n),e.child;case 14:return y_(t,e,e.type,e.pendingProps,n);case 15:return L0(t,e,e.type,e.pendingProps,n);case 19:return z0(t,e,n);case 31:return RC(t,e,n);case 22:return U0(t,e,n,e.pendingProps);case 24:return zr(e),i=ut(Fe),t===null?(r=Hm(),r===null&&(r=_e,s=qm(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),e.memoizedState={parent:i,cache:r},Gm(e),Si(e,Fe,r)):(t.lanes&n&&(yd(t,e),go(e,null,null,n),po()),r=t.memoizedState,s=e.memoizedState,r.parent!==i?(r={parent:i,cache:i},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),Si(e,Fe,i)):(i=s.cache,Si(e,Fe,i),i!==r.cache&&pd(e,[Fe],n,!0))),rt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(U(156,e.tag))}function Un(t){t.flags|=4}function vf(t,e,n,i,r){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(r&335544128)===r)if(t.stateNode.complete)t.flags|=8192;else if(cb())t.flags|=8192;else throw Vr=Yu,Fm}else t.flags&=-16777217}function S_(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!Mb(e))if(cb())t.flags|=8192;else throw Vr=Yu,Fm}function Jl(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?hT():536870912,t.lanes|=e,$s|=e)}function Ka(t,e){if(!le)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ae(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function IC(t,e,n){var i=e.pendingProps;switch(Bm(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(e),null;case 1:return Ae(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Xn(Fe),Hs(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(us(e)?Un(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cf())),Ae(e),null;case 26:var r=e.type,s=e.memoizedState;return t===null?(Un(e),s!==null?(Ae(e),S_(e,s)):(Ae(e),vf(e,r,null,i,n))):s?s!==t.memoizedState?(Un(e),Ae(e),S_(e,s)):(Ae(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&Un(e),Ae(e),vf(e,r,t,i,n)),null;case 27:if(Bu(e),n=zi.current,r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Un(e);else{if(!i){if(e.stateNode===null)throw Error(U(166));return Ae(e),null}t=En.current,us(e)?Zy(e):(t=Db(r,i,n),e.stateNode=t,Un(e))}return Ae(e),null;case 5:if(Bu(e),r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Un(e);else{if(!i){if(e.stateNode===null)throw Error(U(166));return Ae(e),null}if(s=En.current,us(e))Zy(e);else{var a=lc(zi.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":s=a.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?s.multiple=!0:i.size&&(s.size=i.size);break;default:s=typeof i.is=="string"?a.createElement(r,{is:i.is}):a.createElement(r)}}s[at]=e,s[Ot]=i;e:for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)s.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=s;e:switch(ct(s,r,i),r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Un(e)}}return Ae(e),vf(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&Un(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(U(166));if(t=zi.current,us(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,r=ot,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}t[at]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Rb(t.nodeValue,n)),t||er(e,!0)}else t=lc(t).createTextNode(i),t[at]=e,e.stateNode=t}return Ae(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=us(e),n!==null){if(t===null){if(!i)throw Error(U(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(557));t[at]=e}else kr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ae(e),t=!1}else n=cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Pt(e),e):(Pt(e),null);if(e.flags&128)throw Error(U(558))}return Ae(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=us(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(U(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(U(317));r[at]=e}else kr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ae(e),r=!1}else r=cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(Pt(e),e):(Pt(e),null)}return Pt(e),e.flags&128?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Jl(e,e.updateQueue),Ae(e),null);case 4:return Hs(),t===null&&mp(e.stateNode.containerInfo),Ae(e),null;case 10:return Xn(e.type),Ae(e),null;case 19:if(it(ke),i=e.memoizedState,i===null)return Ae(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)Ka(i,!1);else{if(Me!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Xu(t),s!==null){for(e.flags|=128,Ka(i,!1),t=s.updateQueue,e.updateQueue=t,Jl(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)BT(n,t),n=n.sibling;return Te(ke,ke.current&1|2),le&&qn(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&jt()>nc&&(e.flags|=128,r=!0,Ka(i,!1),e.lanes=4194304)}else{if(!r)if(t=Xu(s),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,Jl(e,t),Ka(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!le)return Ae(e),null}else 2*jt()-i.renderingStartTime>nc&&n!==536870912&&(e.flags|=128,r=!0,Ka(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(t=i.last,t!==null?t.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=jt(),t.sibling=null,n=ke.current,Te(ke,r?n&1|2:n&1),le&&qn(e,i.treeForkCount),t):(Ae(e),null);case 22:case 23:return Pt(e),Km(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(Ae(e),e.subtreeFlags&6&&(e.flags|=8192)):Ae(e),n=e.updateQueue,n!==null&&Jl(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&it(Mr),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Xn(Fe),Ae(e),null;case 25:return null;case 30:return null}throw Error(U(156,e.tag))}function NC(t,e){switch(Bm(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xn(Fe),Hs(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Bu(e),null;case 31:if(e.memoizedState!==null){if(Pt(e),e.alternate===null)throw Error(U(340));kr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Pt(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));kr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return it(ke),null;case 4:return Hs(),null;case 10:return Xn(e.type),null;case 22:case 23:return Pt(e),Km(),t!==null&&it(Mr),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Xn(Fe),null;case 25:return null;default:return null}}function B0(t,e){switch(Bm(e),e.tag){case 3:Xn(Fe),Hs();break;case 26:case 27:case 5:Bu(e);break;case 4:Hs();break;case 31:e.memoizedState!==null&&Pt(e);break;case 13:Pt(e);break;case 19:it(ke);break;case 10:Xn(e.type);break;case 22:case 23:Pt(e),Km(),t!==null&&it(Mr);break;case 24:Xn(Fe)}}function ul(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&t)===t){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(l){me(e,e.return,l)}}function tr(t,e,n){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&t)===t){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=e;var u=n,c=l;try{c()}catch(f){me(r,u,f)}}}i=i.next}while(i!==s)}}catch(f){me(e,e.return,f)}}function q0(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{JT(e,n)}catch(i){me(t,t.return,i)}}}function H0(t,e,n){n.props=qr(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){me(t,e,i)}}function _o(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(r){me(t,e,r)}}function _n(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){me(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){me(t,e,r)}else n.current=null}function F0(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){me(t,t.return,r)}}function Ef(t,e,n){try{var i=t.stateNode;JC(i,t.type,n,e),i[Ot]=e}catch(r){me(t,t.return,r)}}function G0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&fr(t.type)||t.tag===4}function Tf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||G0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&fr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Id(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Gn));else if(i!==4&&(i===27&&fr(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Id(t,e,n),t=t.sibling;t!==null;)Id(t,e,n),t=t.sibling}function tc(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&fr(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(tc(t,e,n),t=t.sibling;t!==null;)tc(t,e,n),t=t.sibling}function K0(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);ct(e,i,n),e[at]=t,e[Ot]=n}catch(s){me(t,t.return,s)}}var Hn=!1,He=!1,bf=!1,w_=typeof WeakSet=="function"?WeakSet:Set,tt=null;function DC(t,e){if(t=t.containerInfo,Pd=fc,t=MT(t),Lm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,c=0,f=0,m=t,p=null;t:for(;;){for(var g;m!==n||r!==0&&m.nodeType!==3||(l=a+r),m!==s||i!==0&&m.nodeType!==3||(u=a+i),m.nodeType===3&&(a+=m.nodeValue.length),(g=m.firstChild)!==null;)p=m,m=g;for(;;){if(m===t)break t;if(p===n&&++c===r&&(l=a),p===s&&++f===i&&(u=a),(g=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=g}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ld={focusedElem:t,selectionRange:n},fc=!1,tt=e;tt!==null;)if(e=tt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,tt=t;else for(;tt!==null;){switch(e=tt,s=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)r=t[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var C=qr(n.type,r);t=i.getSnapshotBeforeUpdate(C,s),i.__reactInternalSnapshotBeforeUpdate=t}catch(O){me(n,n.return,O)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)kd(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":kd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(U(163))}if(t=e.sibling,t!==null){t.return=e.return,tt=t;break}tt=e.return}}function Q0(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:zn(t,n),i&4&&ul(5,n);break;case 1:if(zn(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){me(n,n.return,a)}else{var r=qr(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){me(n,n.return,a)}}i&64&&q0(n),i&512&&_o(n,n.return);break;case 3:if(zn(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{JT(t,e)}catch(a){me(n,n.return,a)}}break;case 27:e===null&&i&4&&K0(n);case 26:case 5:zn(t,n),e===null&&i&4&&F0(n),i&512&&_o(n,n.return);break;case 12:zn(t,n);break;case 31:zn(t,n),i&4&&X0(t,n);break;case 13:zn(t,n),i&4&&J0(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=zC.bind(null,n),sI(t,n))));break;case 22:if(i=n.memoizedState!==null||Hn,!i){e=e!==null&&e.memoizedState!==null||He,r=Hn;var s=He;Hn=i,(He=e)&&!s?jn(t,n,(n.subtreeFlags&8772)!==0):zn(t,n),Hn=r,He=s}break;case 30:break;default:zn(t,n)}}function Y0(t){var e=t.alternate;e!==null&&(t.alternate=null,Y0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Dm(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ie=null,Rt=!1;function kn(t,e,n){for(n=n.child;n!==null;)$0(t,e,n),n=n.sibling}function $0(t,e,n){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(nl,n)}catch{}switch(n.tag){case 26:He||_n(n,e),kn(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:He||_n(n,e);var i=Ie,r=Rt;fr(n.type)&&(Ie=n.stateNode,Rt=!1),kn(t,e,n),bo(n.stateNode),Ie=i,Rt=r;break;case 5:He||_n(n,e);case 6:if(i=Ie,r=Rt,Ie=null,kn(t,e,n),Ie=i,Rt=r,Ie!==null)if(Rt)try{(Ie.nodeType===9?Ie.body:Ie.nodeName==="HTML"?Ie.ownerDocument.body:Ie).removeChild(n.stateNode)}catch(s){me(n,e,s)}else try{Ie.removeChild(n.stateNode)}catch(s){me(n,e,s)}break;case 18:Ie!==null&&(Rt?(t=Ie,k_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Zs(t)):k_(Ie,n.stateNode));break;case 4:i=Ie,r=Rt,Ie=n.stateNode.containerInfo,Rt=!0,kn(t,e,n),Ie=i,Rt=r;break;case 0:case 11:case 14:case 15:tr(2,n,e),He||tr(4,n,e),kn(t,e,n);break;case 1:He||(_n(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&H0(n,e,i)),kn(t,e,n);break;case 21:kn(t,e,n);break;case 22:He=(i=He)||n.memoizedState!==null,kn(t,e,n),He=i;break;default:kn(t,e,n)}}function X0(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Zs(t)}catch(n){me(e,e.return,n)}}}function J0(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Zs(t)}catch(n){me(e,e.return,n)}}function OC(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new w_),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new w_),e;default:throw Error(U(435,t.tag))}}function Wl(t,e){var n=OC(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var r=jC.bind(null,t,i);i.then(r,r)}})}function St(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 27:if(fr(l.type)){Ie=l.stateNode,Rt=!1;break e}break;case 5:Ie=l.stateNode,Rt=!1;break e;case 3:case 4:Ie=l.stateNode.containerInfo,Rt=!0;break e}l=l.return}if(Ie===null)throw Error(U(160));$0(s,a,r),Ie=null,Rt=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)W0(e,t),e=e.sibling}var ln=null;function W0(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:St(e,t),wt(t),i&4&&(tr(3,t,t.return),ul(3,t),tr(5,t,t.return));break;case 1:St(e,t),wt(t),i&512&&(He||n===null||_n(n,n.return)),i&64&&Hn&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=ln;if(St(e,t),wt(t),i&512&&(He||n===null||_n(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[sl]||s[at]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),ct(s,i,n),s[at]=t,nt(s),i=s;break e;case"link":var a=G_("link","href",r).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break t}}s=r.createElement(i),ct(s,i,n),r.head.appendChild(s);break;case"meta":if(a=G_("meta","content",r).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break t}}s=r.createElement(i),ct(s,i,n),r.head.appendChild(s);break;default:throw Error(U(468,i))}s[at]=t,nt(s),i=s}t.stateNode=i}else K_(r,t.type,t.stateNode);else t.stateNode=F_(r,i,t.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?K_(r,t.type,t.stateNode):F_(r,i,t.memoizedProps)):i===null&&t.stateNode!==null&&Ef(t,t.memoizedProps,n.memoizedProps)}break;case 27:St(e,t),wt(t),i&512&&(He||n===null||_n(n,n.return)),n!==null&&i&4&&Ef(t,t.memoizedProps,n.memoizedProps);break;case 5:if(St(e,t),wt(t),i&512&&(He||n===null||_n(n,n.return)),t.flags&32){r=t.stateNode;try{Gs(r,"")}catch(C){me(t,t.return,C)}}i&4&&t.stateNode!=null&&(r=t.memoizedProps,Ef(t,r,n!==null?n.memoizedProps:r)),i&1024&&(bf=!0);break;case 6:if(St(e,t),wt(t),i&4){if(t.stateNode===null)throw Error(U(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(C){me(t,t.return,C)}}break;case 3:if(Su=null,r=ln,ln=uc(e.containerInfo),St(e,t),ln=r,wt(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Zs(e.containerInfo)}catch(C){me(t,t.return,C)}bf&&(bf=!1,Z0(t));break;case 4:i=ln,ln=uc(t.stateNode.containerInfo),St(e,t),wt(t),ln=i;break;case 12:St(e,t),wt(t);break;case 31:St(e,t),wt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Wl(t,i)));break;case 13:St(e,t),wt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Yc=jt()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Wl(t,i)));break;case 22:r=t.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,c=Hn,f=He;if(Hn=c||r,He=f||u,St(e,t),He=f,Hn=c,wt(t),i&8192)e:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(n===null||u||Hn||He||Ir(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){u=n=e;try{if(s=u.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var m=u.memoizedProps.style,p=m!=null&&m.hasOwnProperty("display")?m.display:null;l.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(C){me(u,u.return,C)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(C){me(u,u.return,C)}}}else if(e.tag===18){if(n===null){u=e;try{var g=u.stateNode;r?z_(g,!0):z_(u.stateNode,!1)}catch(C){me(u,u.return,C)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Wl(t,n))));break;case 19:St(e,t),wt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Wl(t,i)));break;case 30:break;case 21:break;default:St(e,t),wt(t)}}function wt(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(G0(i)){n=i;break}i=i.return}if(n==null)throw Error(U(160));switch(n.tag){case 27:var r=n.stateNode,s=Tf(t);tc(t,s,r);break;case 5:var a=n.stateNode;n.flags&32&&(Gs(a,""),n.flags&=-33);var l=Tf(t);tc(t,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,c=Tf(t);Id(t,c,u);break;default:throw Error(U(161))}}catch(f){me(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Z0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Z0(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function zn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Q0(t,e.alternate,e),e=e.sibling}function Ir(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:tr(4,e,e.return),Ir(e);break;case 1:_n(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&H0(e,e.return,n),Ir(e);break;case 27:bo(e.stateNode);case 26:case 5:_n(e,e.return),Ir(e);break;case 22:e.memoizedState===null&&Ir(e);break;case 30:Ir(e);break;default:Ir(e)}t=t.sibling}}function jn(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,r=t,s=e,a=s.flags;switch(s.tag){case 0:case 11:case 15:jn(r,s,n),ul(4,s);break;case 1:if(jn(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(c){me(i,i.return,c)}if(i=s,r=i.updateQueue,r!==null){var l=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)XT(u[r],l)}catch(c){me(i,i.return,c)}}n&&a&64&&q0(s),_o(s,s.return);break;case 27:K0(s);case 26:case 5:jn(r,s,n),n&&i===null&&a&4&&F0(s),_o(s,s.return);break;case 12:jn(r,s,n);break;case 31:jn(r,s,n),n&&a&4&&X0(r,s);break;case 13:jn(r,s,n),n&&a&4&&J0(r,s);break;case 22:s.memoizedState===null&&jn(r,s,n),_o(s,s.return);break;case 30:break;default:jn(r,s,n)}e=e.sibling}}function lp(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&ol(n))}function up(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ol(t))}function on(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)eb(t,e,n,i),e=e.sibling}function eb(t,e,n,i){var r=e.flags;switch(e.tag){case 0:case 11:case 15:on(t,e,n,i),r&2048&&ul(9,e);break;case 1:on(t,e,n,i);break;case 3:on(t,e,n,i),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ol(t)));break;case 12:if(r&2048){on(t,e,n,i),t=e.stateNode;try{var s=e.memoizedProps,a=s.id,l=s.onPostCommit;typeof l=="function"&&l(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){me(e,e.return,u)}}else on(t,e,n,i);break;case 31:on(t,e,n,i);break;case 13:on(t,e,n,i);break;case 23:break;case 22:s=e.stateNode,a=e.alternate,e.memoizedState!==null?s._visibility&2?on(t,e,n,i):vo(t,e):s._visibility&2?on(t,e,n,i):(s._visibility|=2,fs(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),r&2048&&lp(a,e);break;case 24:on(t,e,n,i),r&2048&&up(e.alternate,e);break;default:on(t,e,n,i)}}function fs(t,e,n,i,r){for(r=r&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var s=t,a=e,l=n,u=i,c=a.flags;switch(a.tag){case 0:case 11:case 15:fs(s,a,l,u,r),ul(8,a);break;case 23:break;case 22:var f=a.stateNode;a.memoizedState!==null?f._visibility&2?fs(s,a,l,u,r):vo(s,a):(f._visibility|=2,fs(s,a,l,u,r)),r&&c&2048&&lp(a.alternate,a);break;case 24:fs(s,a,l,u,r),r&&c&2048&&up(a.alternate,a);break;default:fs(s,a,l,u,r)}e=e.sibling}}function vo(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,r=i.flags;switch(i.tag){case 22:vo(n,i),r&2048&&lp(i.alternate,i);break;case 24:vo(n,i),r&2048&&up(i.alternate,i);break;default:vo(n,i)}e=e.sibling}}var to=8192;function cs(t,e,n){if(t.subtreeFlags&to)for(t=t.child;t!==null;)tb(t,e,n),t=t.sibling}function tb(t,e,n){switch(t.tag){case 26:cs(t,e,n),t.flags&to&&t.memoizedState!==null&&yI(n,ln,t.memoizedState,t.memoizedProps);break;case 5:cs(t,e,n);break;case 3:case 4:var i=ln;ln=uc(t.stateNode.containerInfo),cs(t,e,n),ln=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=to,to=16777216,cs(t,e,n),to=i):cs(t,e,n));break;default:cs(t,e,n)}}function nb(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Qa(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];tt=i,rb(i,t)}nb(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ib(t),t=t.sibling}function ib(t){switch(t.tag){case 0:case 11:case 15:Qa(t),t.flags&2048&&tr(9,t,t.return);break;case 3:Qa(t);break;case 12:Qa(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,bu(t)):Qa(t);break;default:Qa(t)}}function bu(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];tt=i,rb(i,t)}nb(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:tr(8,e,e.return),bu(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,bu(e));break;default:bu(e)}t=t.sibling}}function rb(t,e){for(;tt!==null;){var n=tt;switch(n.tag){case 0:case 11:case 15:tr(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:ol(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,tt=i;else e:for(n=t;tt!==null;){i=tt;var r=i.sibling,s=i.return;if(Y0(i),i===n){tt=null;break e}if(r!==null){r.return=s,tt=r;break e}tt=s}}}var xC={getCacheForType:function(t){var e=ut(Fe),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return ut(Fe).controller.signal}},MC=typeof WeakMap=="function"?WeakMap:Map,ce=0,_e=null,ie=null,oe=0,de=0,Vt=null,Pi=!1,ma=!1,cp=!1,ri=0,Me=0,nr=0,Pr=0,hp=0,Ut=0,$s=0,Eo=null,Ct=null,Nd=!1,Yc=0,sb=0,nc=1/0,ic=null,Hi=null,Xe=0,Fi=null,Xs=null,Jn=0,Dd=0,Od=null,ab=null,To=0,xd=null;function Ht(){return ce&2&&oe!==0?oe&-oe:Y.T!==null?dp():pT()}function ob(){if(Ut===0)if(!(oe&536870912)||le){var t=Fl;Fl<<=1,!(Fl&3932160)&&(Fl=262144),Ut=t}else Ut=536870912;return t=Gt.current,t!==null&&(t.flags|=32),Ut}function Dt(t,e,n){(t===_e&&(de===2||de===9)||t.cancelPendingCommit!==null)&&(Js(t,0),Li(t,oe,Ut,!1)),rl(t,n),(!(ce&2)||t!==_e)&&(t===_e&&(!(ce&2)&&(Pr|=n),Me===4&&Li(t,oe,Ut,!1)),xn(t))}function lb(t,e,n){if(ce&6)throw Error(U(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||il(t,e),r=i?LC(t,e):Af(t,e,!0),s=i;do{if(r===0){ma&&!i&&Li(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!VC(n)){r=Af(t,e,!1),s=!1;continue}if(r===2){if(s=e,t.errorRecoveryDisabledLanes&s)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var l=t;r=Eo;var u=l.current.memoizedState.isDehydrated;if(u&&(Js(l,a).flags|=256),a=Af(l,a,!1),a!==2){if(cp&&!u){l.errorRecoveryDisabledLanes|=s,Pr|=s,r=4;break e}s=Ct,Ct=r,s!==null&&(Ct===null?Ct=s:Ct.push.apply(Ct,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){Js(t,0),Li(t,e,0,!0);break}e:{switch(i=t,s=r,s){case 0:case 1:throw Error(U(345));case 4:if((e&4194048)!==e)break;case 6:Li(i,e,Ut,!Pi);break e;case 2:Ct=null;break;case 3:case 5:break;default:throw Error(U(329))}if((e&62914560)===e&&(r=Yc+300-jt(),10<r)){if(Li(i,e,Ut,!Pi),Uc(i,0,!0)!==0)break e;Jn=e,i.timeoutHandle=Ib(R_.bind(null,i,n,Ct,ic,Nd,e,Ut,Pr,$s,Pi,s,"Throttled",-0,0),r);break e}R_(i,n,Ct,ic,Nd,e,Ut,Pr,$s,Pi,s,null,-0,0)}}break}while(!0);xn(t)}function R_(t,e,n,i,r,s,a,l,u,c,f,m,p,g){if(t.timeoutHandle=-1,m=e.subtreeFlags,m&8192||(m&16785408)===16785408){m={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},tb(e,s,m);var C=(s&62914560)===s?Yc-jt():(s&4194048)===s?sb-jt():0;if(C=_I(m,C),C!==null){Jn=s,t.cancelPendingCommit=C(I_.bind(null,t,e,s,n,i,r,a,l,u,f,m,null,p,g)),Li(t,s,a,!c);return}}I_(t,e,s,n,i,r,a,l,u)}function VC(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Ft(s(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Li(t,e,n,i){e&=~hp,e&=~Pr,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var r=e;0<r;){var s=31-qt(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&fT(t,n,e)}function $c(){return ce&6?!0:(cl(0),!1)}function fp(){if(ie!==null){if(de===0)var t=ie.return;else t=ie,Kn=Zr=null,Jm(t),Ps=null,Lo=0,t=ie;for(;t!==null;)B0(t.alternate,t),t=t.return;ie=null}}function Js(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,eI(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Jn=0,fp(),_e=t,ie=n=$n(t.current,null),oe=e,de=0,Vt=null,Pi=!1,ma=il(t,e),cp=!1,$s=Ut=hp=Pr=nr=Me=0,Ct=Eo=null,Nd=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var r=31-qt(i),s=1<<r;e|=t[r],i&=~s}return ri=e,Bc(),n}function ub(t,e){Z=null,Y.H=ko,e===da||e===Hc?(e=r_(),de=3):e===Fm?(e=r_(),de=4):de=e===ap?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Vt=e,ie===null&&(Me=1,Zu(t,Wt(e,t.current)))}function cb(){var t=Gt.current;return t===null?!0:(oe&4194048)===oe?nn===null:(oe&62914560)===oe||oe&536870912?t===nn:!1}function hb(){var t=Y.H;return Y.H=ko,t===null?ko:t}function fb(){var t=Y.A;return Y.A=xC,t}function rc(){Me=4,Pi||(oe&4194048)!==oe&&Gt.current!==null||(ma=!0),!(nr&134217727)&&!(Pr&134217727)||_e===null||Li(_e,oe,Ut,!1)}function Af(t,e,n){var i=ce;ce|=2;var r=hb(),s=fb();(_e!==t||oe!==e)&&(ic=null,Js(t,e)),e=!1;var a=Me;e:do try{if(de!==0&&ie!==null){var l=ie,u=Vt;switch(de){case 8:fp(),a=6;break e;case 3:case 2:case 9:case 6:Gt.current===null&&(e=!0);var c=de;if(de=0,Vt=null,Ns(t,l,u,c),n&&ma){a=0;break e}break;default:c=de,de=0,Vt=null,Ns(t,l,u,c)}}PC(),a=Me;break}catch(f){ub(t,f)}while(!0);return e&&t.shellSuspendCounter++,Kn=Zr=null,ce=i,Y.H=r,Y.A=s,ie===null&&(_e=null,oe=0,Bc()),a}function PC(){for(;ie!==null;)db(ie)}function LC(t,e){var n=ce;ce|=2;var i=hb(),r=fb();_e!==t||oe!==e?(ic=null,nc=jt()+500,Js(t,e)):ma=il(t,e);e:do try{if(de!==0&&ie!==null){e=ie;var s=Vt;t:switch(de){case 1:de=0,Vt=null,Ns(t,e,s,1);break;case 2:case 9:if(i_(s)){de=0,Vt=null,C_(e);break}e=function(){de!==2&&de!==9||_e!==t||(de=7),xn(t)},s.then(e,e);break e;case 3:de=7;break e;case 4:de=5;break e;case 7:i_(s)?(de=0,Vt=null,C_(e)):(de=0,Vt=null,Ns(t,e,s,7));break;case 5:var a=null;switch(ie.tag){case 26:a=ie.memoizedState;case 5:case 27:var l=ie;if(a?Mb(a):l.stateNode.complete){de=0,Vt=null;var u=l.sibling;if(u!==null)ie=u;else{var c=l.return;c!==null?(ie=c,Xc(c)):ie=null}break t}}de=0,Vt=null,Ns(t,e,s,5);break;case 6:de=0,Vt=null,Ns(t,e,s,6);break;case 8:fp(),Me=6;break e;default:throw Error(U(462))}}UC();break}catch(f){ub(t,f)}while(!0);return Kn=Zr=null,Y.H=i,Y.A=r,ce=n,ie!==null?0:(_e=null,oe=0,Bc(),Me)}function UC(){for(;ie!==null&&!aR();)db(ie)}function db(t){var e=j0(t.alternate,t,ri);t.memoizedProps=t.pendingProps,e===null?Xc(t):ie=e}function C_(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=E_(n,e,e.pendingProps,e.type,void 0,oe);break;case 11:e=E_(n,e,e.pendingProps,e.type.render,e.ref,oe);break;case 5:Jm(e);default:B0(n,e),e=ie=BT(e,ri),e=j0(n,e,ri)}t.memoizedProps=t.pendingProps,e===null?Xc(t):ie=e}function Ns(t,e,n,i){Kn=Zr=null,Jm(e),Ps=null,Lo=0;var r=e.return;try{if(wC(t,r,e,n,oe)){Me=1,Zu(t,Wt(n,t.current)),ie=null;return}}catch(s){if(r!==null)throw ie=r,s;Me=1,Zu(t,Wt(n,t.current)),ie=null;return}e.flags&32768?(le||i===1?t=!0:ma||oe&536870912?t=!1:(Pi=t=!0,(i===2||i===9||i===3||i===6)&&(i=Gt.current,i!==null&&i.tag===13&&(i.flags|=16384))),mb(e,t)):Xc(e)}function Xc(t){var e=t;do{if(e.flags&32768){mb(e,Pi);return}t=e.return;var n=IC(e.alternate,e,ri);if(n!==null){ie=n;return}if(e=e.sibling,e!==null){ie=e;return}ie=e=t}while(e!==null);Me===0&&(Me=5)}function mb(t,e){do{var n=NC(t.alternate,t);if(n!==null){n.flags&=32767,ie=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){ie=t;return}ie=t=n}while(t!==null);Me=6,ie=null}function I_(t,e,n,i,r,s,a,l,u){t.cancelPendingCommit=null;do Jc();while(Xe!==0);if(ce&6)throw Error(U(327));if(e!==null){if(e===t.current)throw Error(U(177));if(s=e.lanes|e.childLanes,s|=Um,gR(t,n,s,a,l,u),t===_e&&(ie=_e=null,oe=0),Xs=e,Fi=t,Jn=n,Dd=s,Od=r,ab=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,BC(qu,function(){return vb(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=Y.T,Y.T=null,r=he.p,he.p=2,a=ce,ce|=4;try{DC(t,e,n)}finally{ce=a,he.p=r,Y.T=i}}Xe=1,pb(),gb(),yb()}}function pb(){if(Xe===1){Xe=0;var t=Fi,e=Xs,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Y.T,Y.T=null;var i=he.p;he.p=2;var r=ce;ce|=4;try{W0(e,t);var s=Ld,a=MT(t.containerInfo),l=s.focusedElem,u=s.selectionRange;if(a!==l&&l&&l.ownerDocument&&xT(l.ownerDocument.documentElement,l)){if(u!==null&&Lm(l)){var c=u.start,f=u.end;if(f===void 0&&(f=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(f,l.value.length);else{var m=l.ownerDocument||document,p=m&&m.defaultView||window;if(p.getSelection){var g=p.getSelection(),C=l.textContent.length,O=Math.min(u.start,C),N=u.end===void 0?O:Math.min(u.end,C);!g.extend&&O>N&&(a=N,N=O,O=a);var E=Xy(l,O),_=Xy(l,N);if(E&&_&&(g.rangeCount!==1||g.anchorNode!==E.node||g.anchorOffset!==E.offset||g.focusNode!==_.node||g.focusOffset!==_.offset)){var b=m.createRange();b.setStart(E.node,E.offset),g.removeAllRanges(),O>N?(g.addRange(b),g.extend(_.node,_.offset)):(b.setEnd(_.node,_.offset),g.addRange(b))}}}}for(m=[],g=l;g=g.parentNode;)g.nodeType===1&&m.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<m.length;l++){var I=m[l];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}fc=!!Pd,Ld=Pd=null}finally{ce=r,he.p=i,Y.T=n}}t.current=e,Xe=2}}function gb(){if(Xe===2){Xe=0;var t=Fi,e=Xs,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Y.T,Y.T=null;var i=he.p;he.p=2;var r=ce;ce|=4;try{Q0(t,e.alternate,e)}finally{ce=r,he.p=i,Y.T=n}}Xe=3}}function yb(){if(Xe===4||Xe===3){Xe=0,oR();var t=Fi,e=Xs,n=Jn,i=ab;e.subtreeFlags&10256||e.flags&10256?Xe=5:(Xe=0,Xs=Fi=null,_b(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(Hi=null),Nm(n),e=e.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(nl,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=Y.T,r=he.p,he.p=2,Y.T=null;try{for(var s=t.onRecoverableError,a=0;a<i.length;a++){var l=i[a];s(l.value,{componentStack:l.stack})}}finally{Y.T=e,he.p=r}}Jn&3&&Jc(),xn(t),r=t.pendingLanes,n&261930&&r&42?t===xd?To++:(To=0,xd=t):To=0,cl(0)}}function _b(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,ol(e)))}function Jc(){return pb(),gb(),yb(),vb()}function vb(){if(Xe!==5)return!1;var t=Fi,e=Dd;Dd=0;var n=Nm(Jn),i=Y.T,r=he.p;try{he.p=32>n?32:n,Y.T=null,n=Od,Od=null;var s=Fi,a=Jn;if(Xe=0,Xs=Fi=null,Jn=0,ce&6)throw Error(U(331));var l=ce;if(ce|=4,ib(s.current),eb(s,s.current,a,n),ce=l,cl(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(nl,s)}catch{}return!0}finally{he.p=r,Y.T=i,_b(t,e)}}function N_(t,e,n){e=Wt(n,e),e=wd(t.stateNode,e,2),t=qi(t,e,2),t!==null&&(rl(t,2),xn(t))}function me(t,e,n){if(t.tag===3)N_(t,t,n);else for(;e!==null;){if(e.tag===3){N_(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Hi===null||!Hi.has(i))){t=Wt(n,t),n=V0(2),i=qi(e,n,2),i!==null&&(P0(n,i,e,t),rl(i,2),xn(i));break}}e=e.return}}function Sf(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new MC;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(cp=!0,r.add(n),t=kC.bind(null,t,e,n),e.then(t,t))}function kC(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,_e===t&&(oe&n)===n&&(Me===4||Me===3&&(oe&62914560)===oe&&300>jt()-Yc?!(ce&2)&&Js(t,0):hp|=n,$s===oe&&($s=0)),xn(t)}function Eb(t,e){e===0&&(e=hT()),t=Wr(t,e),t!==null&&(rl(t,e),xn(t))}function zC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Eb(t,n)}function jC(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(U(314))}i!==null&&i.delete(e),Eb(t,n)}function BC(t,e){return Cm(t,e)}var sc=null,ds=null,Md=!1,ac=!1,wf=!1,Ui=0;function xn(t){t!==ds&&t.next===null&&(ds===null?sc=ds=t:ds=ds.next=t),ac=!0,Md||(Md=!0,HC())}function cl(t,e){if(!wf&&ac){wf=!0;do for(var n=!1,i=sc;i!==null;){if(t!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,l=i.pingedLanes;s=(1<<31-qt(42|t)+1)-1,s&=r&~(a&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,D_(i,s))}else s=oe,s=Uc(i,i===_e?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||il(i,s)||(n=!0,D_(i,s));i=i.next}while(n);wf=!1}}function qC(){Tb()}function Tb(){ac=Md=!1;var t=0;Ui!==0&&ZC()&&(t=Ui);for(var e=jt(),n=null,i=sc;i!==null;){var r=i.next,s=bb(i,e);s===0?(i.next=null,n===null?sc=r:n.next=r,r===null&&(ds=n)):(n=i,(t!==0||s&3)&&(ac=!0)),i=r}Xe!==0&&Xe!==5||cl(t),Ui!==0&&(Ui=0)}function bb(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var a=31-qt(s),l=1<<a,u=r[a];u===-1?(!(l&n)||l&i)&&(r[a]=pR(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}if(e=_e,n=oe,n=Uc(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(de===2||de===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Wh(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||il(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Wh(i),Nm(n)){case 2:case 8:n=uT;break;case 32:n=qu;break;case 268435456:n=cT;break;default:n=qu}return i=Ab.bind(null,t),n=Cm(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Wh(i),t.callbackPriority=2,t.callbackNode=null,2}function Ab(t,e){if(Xe!==0&&Xe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Jc()&&t.callbackNode!==n)return null;var i=oe;return i=Uc(t,t===_e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(lb(t,i,e),bb(t,jt()),t.callbackNode!=null&&t.callbackNode===n?Ab.bind(null,t):null)}function D_(t,e){if(Jc())return null;lb(t,e,!0)}function HC(){tI(function(){ce&6?Cm(lT,qC):Tb()})}function dp(){if(Ui===0){var t=Ks;t===0&&(t=Hl,Hl<<=1,!(Hl&261888)&&(Hl=256)),Ui=t}return Ui}function O_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:du(""+t)}function x_(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function FC(t,e,n,i,r){if(e==="submit"&&n&&n.stateNode===r){var s=O_((r[Ot]||null).action),a=i.submitter;a&&(e=(e=a[Ot]||null)?O_(e.formAction):a.getAttribute("formAction"),e!==null&&(s=e,a=null));var l=new kc("action","action",null,i,r);t.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Ui!==0){var u=a?x_(r,a):new FormData(r);Ad(n,{pending:!0,data:u,method:r.method,action:s},null,u)}}else typeof s=="function"&&(l.preventDefault(),u=a?x_(r,a):new FormData(r),Ad(n,{pending:!0,data:u,method:r.method,action:s},s,u))},currentTarget:r}]})}}for(var Rf=0;Rf<hd.length;Rf++){var Cf=hd[Rf],GC=Cf.toLowerCase(),KC=Cf[0].toUpperCase()+Cf.slice(1);fn(GC,"on"+KC)}fn(PT,"onAnimationEnd");fn(LT,"onAnimationIteration");fn(UT,"onAnimationStart");fn("dblclick","onDoubleClick");fn("focusin","onFocus");fn("focusout","onBlur");fn(lC,"onTransitionRun");fn(uC,"onTransitionStart");fn(cC,"onTransitionCancel");fn(kT,"onTransitionEnd");Fs("onMouseEnter",["mouseout","mouseover"]);Fs("onMouseLeave",["mouseout","mouseover"]);Fs("onPointerEnter",["pointerout","pointerover"]);Fs("onPointerLeave",["pointerout","pointerover"]);$r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$r("onBeforeInput",["compositionend","keypress","textInput","paste"]);$r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zo));function Sb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=c;try{s(r)}catch(f){Fu(f)}r.currentTarget=null,s=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=c;try{s(r)}catch(f){Fu(f)}r.currentTarget=null,s=u}}}}function ne(t,e){var n=e[id];n===void 0&&(n=e[id]=new Set);var i=t+"__bubble";n.has(i)||(wb(e,t,2,!1),n.add(i))}function If(t,e,n){var i=0;e&&(i|=4),wb(n,t,i,e)}var Zl="_reactListening"+Math.random().toString(36).slice(2);function mp(t){if(!t[Zl]){t[Zl]=!0,gT.forEach(function(n){n!=="selectionchange"&&(QC.has(n)||If(n,!1,t),If(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zl]||(e[Zl]=!0,If("selectionchange",!1,e))}}function wb(t,e,n,i){switch(kb(e)){case 2:var r=TI;break;case 8:r=bI;break;default:r=_p}n=r.bind(null,e,n,t),r=void 0,!ld||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Nf(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=Es(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=s=a;continue e}l=l.parentNode}}i=i.return}ST(function(){var c=s,f=xm(n),m=[];e:{var p=zT.get(t);if(p!==void 0){var g=kc,C=t;switch(t){case"keypress":if(pu(n)===0)break e;case"keydown":case"keyup":g=jR;break;case"focusin":C="focus",g=rf;break;case"focusout":C="blur",g=rf;break;case"beforeblur":case"afterblur":g=rf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=jy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=IR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=HR;break;case PT:case LT:case UT:g=OR;break;case kT:g=GR;break;case"scroll":case"scrollend":g=RR;break;case"wheel":g=QR;break;case"copy":case"cut":case"paste":g=MR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=qy;break;case"toggle":case"beforetoggle":g=$R}var O=(e&4)!==0,N=!O&&(t==="scroll"||t==="scrollend"),E=O?p!==null?p+"Capture":null:p;O=[];for(var _=c,b;_!==null;){var I=_;if(b=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||b===null||E===null||(I=Oo(_,E),I!=null&&O.push(jo(_,I,b))),N)break;_=_.return}0<O.length&&(p=new g(p,C,null,n,f),m.push({event:p,listeners:O}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==od&&(C=n.relatedTarget||n.fromElement)&&(Es(C)||C[ca]))break e;if((g||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,g?(C=n.relatedTarget||n.toElement,g=c,C=C?Es(C):null,C!==null&&(N=tl(C),O=C.tag,C!==N||O!==5&&O!==27&&O!==6)&&(C=null)):(g=null,C=c),g!==C)){if(O=jy,I="onMouseLeave",E="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(O=qy,I="onPointerLeave",E="onPointerEnter",_="pointer"),N=g==null?p:Za(g),b=C==null?p:Za(C),p=new O(I,_+"leave",g,n,f),p.target=N,p.relatedTarget=b,I=null,Es(f)===c&&(O=new O(E,_+"enter",C,n,f),O.target=b,O.relatedTarget=N,I=O),N=I,g&&C)t:{for(O=YC,E=g,_=C,b=0,I=E;I;I=O(I))b++;I=0;for(var z=_;z;z=O(z))I++;for(;0<b-I;)E=O(E),b--;for(;0<I-b;)_=O(_),I--;for(;b--;){if(E===_||_!==null&&E===_.alternate){O=E;break t}E=O(E),_=O(_)}O=null}else O=null;g!==null&&M_(m,p,g,O,!1),C!==null&&N!==null&&M_(m,N,C,O,!0)}}e:{if(p=c?Za(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var j=Ky;else if(Gy(p))if(DT)j=sC;else{j=iC;var T=nC}else g=p.nodeName,!g||g.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?c&&Om(c.elementType)&&(j=Ky):j=rC;if(j&&(j=j(t,c))){NT(m,j,n,f);break e}T&&T(t,p,c),t==="focusout"&&c&&p.type==="number"&&c.memoizedProps.value!=null&&ad(p,"number",p.value)}switch(T=c?Za(c):window,t){case"focusin":(Gy(T)||T.contentEditable==="true")&&(As=T,ud=c,ho=null);break;case"focusout":ho=ud=As=null;break;case"mousedown":cd=!0;break;case"contextmenu":case"mouseup":case"dragend":cd=!1,Jy(m,n,f);break;case"selectionchange":if(oC)break;case"keydown":case"keyup":Jy(m,n,f)}var v;if(Pm)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else bs?CT(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(RT&&n.locale!=="ko"&&(bs||A!=="onCompositionStart"?A==="onCompositionEnd"&&bs&&(v=wT()):(Vi=f,Mm="value"in Vi?Vi.value:Vi.textContent,bs=!0)),T=oc(c,A),0<T.length&&(A=new By(A,t,null,n,f),m.push({event:A,listeners:T}),v?A.data=v:(v=IT(n),v!==null&&(A.data=v)))),(v=JR?WR(t,n):ZR(t,n))&&(A=oc(c,"onBeforeInput"),0<A.length&&(T=new By("onBeforeInput","beforeinput",null,n,f),m.push({event:T,listeners:A}),T.data=v)),FC(m,t,c,n,f)}Sb(m,e)})}function jo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function oc(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=Oo(t,n),r!=null&&i.unshift(jo(t,r,s)),r=Oo(t,e),r!=null&&i.push(jo(t,r,s))),t.tag===3)return i;t=t.return}return[]}function YC(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function M_(t,e,n,i,r){for(var s=e._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,c=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||c===null||(u=c,r?(c=Oo(n,s),c!=null&&a.unshift(jo(n,c,u))):r||(c=Oo(n,s),c!=null&&a.push(jo(n,c,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var $C=/\r\n?/g,XC=/\u0000|\uFFFD/g;function V_(t){return(typeof t=="string"?t:""+t).replace($C,`
`).replace(XC,"")}function Rb(t,e){return e=V_(e),V_(t)===e}function pe(t,e,n,i,r,s){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||Gs(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&Gs(t,""+i);break;case"className":Kl(t,"class",i);break;case"tabIndex":Kl(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Kl(t,n,i);break;case"style":AT(t,i,s);break;case"data":if(e!=="object"){Kl(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=du(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&pe(t,e,"name",r.name,r,null),pe(t,e,"formEncType",r.formEncType,r,null),pe(t,e,"formMethod",r.formMethod,r,null),pe(t,e,"formTarget",r.formTarget,r,null)):(pe(t,e,"encType",r.encType,r,null),pe(t,e,"method",r.method,r,null),pe(t,e,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=du(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=Gn);break;case"onScroll":i!=null&&ne("scroll",t);break;case"onScrollEnd":i!=null&&ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(U(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(U(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=du(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":ne("beforetoggle",t),ne("toggle",t),fu(t,"popover",i);break;case"xlinkActuate":Ln(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Ln(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Ln(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Ln(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Ln(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Ln(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Ln(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Ln(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Ln(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":fu(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=SR.get(n)||n,fu(t,n,i))}}function Vd(t,e,n,i,r,s){switch(n){case"style":AT(t,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(U(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(U(60));t.innerHTML=n}}break;case"children":typeof i=="string"?Gs(t,i):(typeof i=="number"||typeof i=="bigint")&&Gs(t,""+i);break;case"onScroll":i!=null&&ne("scroll",t);break;case"onScrollEnd":i!=null&&ne("scrollend",t);break;case"onClick":i!=null&&(t.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yT.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),s=t[Ot]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,r);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):fu(t,n,i)}}}function ct(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ne("error",t),ne("load",t);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(U(137,e));default:pe(t,e,s,a,n,null)}}r&&pe(t,e,"srcSet",n.srcSet,n,null),i&&pe(t,e,"src",n.src,n,null);return;case"input":ne("invalid",t);var l=s=a=r=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var f=n[i];if(f!=null)switch(i){case"name":r=f;break;case"type":a=f;break;case"checked":u=f;break;case"defaultChecked":c=f;break;case"value":s=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(U(137,e));break;default:pe(t,e,i,f,n,null)}}ET(t,s,l,u,c,a,r,!1);return;case"select":ne("invalid",t),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:pe(t,e,r,l,n,null)}e=s,n=a,t.multiple=!!i,e!=null?xs(t,!!i,e,!1):n!=null&&xs(t,!!i,n,!0);return;case"textarea":ne("invalid",t),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(U(91));break;default:pe(t,e,a,l,n,null)}bT(t,i,r,s);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:pe(t,e,u,i,n,null)}return;case"dialog":ne("beforetoggle",t),ne("toggle",t),ne("cancel",t),ne("close",t);break;case"iframe":case"object":ne("load",t);break;case"video":case"audio":for(i=0;i<zo.length;i++)ne(zo[i],t);break;case"image":ne("error",t),ne("load",t);break;case"details":ne("toggle",t);break;case"embed":case"source":case"link":ne("error",t),ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(U(137,e));default:pe(t,e,c,i,n,null)}return;default:if(Om(e)){for(f in n)n.hasOwnProperty(f)&&(i=n[f],i!==void 0&&Vd(t,e,f,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&pe(t,e,l,i,n,null))}function JC(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,u=null,c=null,f=null;for(g in n){var m=n[g];if(n.hasOwnProperty(g)&&m!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":u=m;default:i.hasOwnProperty(g)||pe(t,e,g,null,i,m)}}for(var p in i){var g=i[p];if(m=n[p],i.hasOwnProperty(p)&&(g!=null||m!=null))switch(p){case"type":s=g;break;case"name":r=g;break;case"checked":c=g;break;case"defaultChecked":f=g;break;case"value":a=g;break;case"defaultValue":l=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(U(137,e));break;default:g!==m&&pe(t,e,p,g,i,m)}}sd(t,a,l,u,c,f,s,r);return;case"select":g=a=l=p=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":g=u;default:i.hasOwnProperty(s)||pe(t,e,s,null,i,u)}for(r in i)if(s=i[r],u=n[r],i.hasOwnProperty(r)&&(s!=null||u!=null))switch(r){case"value":p=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&pe(t,e,r,s,i,u)}e=l,n=a,i=g,p!=null?xs(t,!!n,p,!1):!!i!=!!n&&(e!=null?xs(t,!!n,e,!0):xs(t,!!n,n?[]:"",!1));return;case"textarea":g=p=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:pe(t,e,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":p=r;break;case"defaultValue":g=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(U(91));break;default:r!==s&&pe(t,e,a,r,i,s)}TT(t,p,g);return;case"option":for(var C in n)if(p=n[C],n.hasOwnProperty(C)&&p!=null&&!i.hasOwnProperty(C))switch(C){case"selected":t.selected=!1;break;default:pe(t,e,C,null,i,p)}for(u in i)if(p=i[u],g=n[u],i.hasOwnProperty(u)&&p!==g&&(p!=null||g!=null))switch(u){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:pe(t,e,u,p,i,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var O in n)p=n[O],n.hasOwnProperty(O)&&p!=null&&!i.hasOwnProperty(O)&&pe(t,e,O,null,i,p);for(c in i)if(p=i[c],g=n[c],i.hasOwnProperty(c)&&p!==g&&(p!=null||g!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(U(137,e));break;default:pe(t,e,c,p,i,g)}return;default:if(Om(e)){for(var N in n)p=n[N],n.hasOwnProperty(N)&&p!==void 0&&!i.hasOwnProperty(N)&&Vd(t,e,N,void 0,i,p);for(f in i)p=i[f],g=n[f],!i.hasOwnProperty(f)||p===g||p===void 0&&g===void 0||Vd(t,e,f,p,i,g);return}}for(var E in n)p=n[E],n.hasOwnProperty(E)&&p!=null&&!i.hasOwnProperty(E)&&pe(t,e,E,null,i,p);for(m in i)p=i[m],g=n[m],!i.hasOwnProperty(m)||p===g||p==null&&g==null||pe(t,e,m,p,i,g)}function P_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function WC(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var r=n[i],s=r.transferSize,a=r.initiatorType,l=r.duration;if(s&&l&&P_(a)){for(a=0,l=r.responseEnd,i+=1;i<n.length;i++){var u=n[i],c=u.startTime;if(c>l)break;var f=u.transferSize,m=u.initiatorType;f&&P_(m)&&(u=u.responseEnd,a+=f*(u<l?1:(l-c)/(u-c)))}if(--i,e+=8*(s+a)/(r.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Pd=null,Ld=null;function lc(t){return t.nodeType===9?t:t.ownerDocument}function L_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cb(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Ud(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Df=null;function ZC(){var t=window.event;return t&&t.type==="popstate"?t===Df?!1:(Df=t,!0):(Df=null,!1)}var Ib=typeof setTimeout=="function"?setTimeout:void 0,eI=typeof clearTimeout=="function"?clearTimeout:void 0,U_=typeof Promise=="function"?Promise:void 0,tI=typeof queueMicrotask=="function"?queueMicrotask:typeof U_<"u"?function(t){return U_.resolve(null).then(t).catch(nI)}:Ib;function nI(t){setTimeout(function(){throw t})}function fr(t){return t==="head"}function k_(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(r),Zs(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")bo(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,bo(n);for(var s=n.firstChild;s;){var a=s.nextSibling,l=s.nodeName;s[sl]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=a}}else n==="body"&&bo(t.ownerDocument.body);n=r}while(n);Zs(e)}function z_(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function kd(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":kd(n),Dm(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function iI(t,e,n,i){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[sl])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=rn(t.nextSibling),t===null)break}return null}function rI(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=rn(t.nextSibling),t===null))return null;return t}function Nb(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=rn(t.nextSibling),t===null))return null;return t}function zd(t){return t.data==="$?"||t.data==="$~"}function jd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function sI(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function rn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Bd=null;function j_(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return rn(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function B_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function Db(t,e,n){switch(e=lc(n),t){case"html":if(t=e.documentElement,!t)throw Error(U(452));return t;case"head":if(t=e.head,!t)throw Error(U(453));return t;case"body":if(t=e.body,!t)throw Error(U(454));return t;default:throw Error(U(451))}}function bo(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Dm(t)}var sn=new Map,q_=new Set;function uc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hi=he.d;he.d={f:aI,r:oI,D:lI,C:uI,L:cI,m:hI,X:dI,S:fI,M:mI};function aI(){var t=hi.f(),e=$c();return t||e}function oI(t){var e=ha(t);e!==null&&e.tag===5&&e.type==="form"?A0(e):hi.r(t)}var pa=typeof document>"u"?null:document;function Ob(t,e,n){var i=pa;if(i&&typeof e=="string"&&e){var r=Jt(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),q_.has(r)||(q_.add(r),t={rel:t,crossOrigin:n,href:e},i.querySelector(r)===null&&(e=i.createElement("link"),ct(e,"link",t),nt(e),i.head.appendChild(e)))}}function lI(t){hi.D(t),Ob("dns-prefetch",t,null)}function uI(t,e){hi.C(t,e),Ob("preconnect",t,e)}function cI(t,e,n){hi.L(t,e,n);var i=pa;if(i&&t&&e){var r='link[rel="preload"][as="'+Jt(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Jt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Jt(n.imageSizes)+'"]')):r+='[href="'+Jt(t)+'"]';var s=r;switch(e){case"style":s=Ws(t);break;case"script":s=ga(t)}sn.has(s)||(t=Ce({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),sn.set(s,t),i.querySelector(r)!==null||e==="style"&&i.querySelector(hl(s))||e==="script"&&i.querySelector(fl(s))||(e=i.createElement("link"),ct(e,"link",t),nt(e),i.head.appendChild(e)))}}function hI(t,e){hi.m(t,e);var n=pa;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+Jt(i)+'"][href="'+Jt(t)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=ga(t)}if(!sn.has(s)&&(t=Ce({rel:"modulepreload",href:t},e),sn.set(s,t),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(fl(s)))return}i=n.createElement("link"),ct(i,"link",t),nt(i),n.head.appendChild(i)}}}function fI(t,e,n){hi.S(t,e,n);var i=pa;if(i&&t){var r=Os(i).hoistableStyles,s=Ws(t);e=e||"default";var a=r.get(s);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(hl(s)))l.loading=5;else{t=Ce({rel:"stylesheet",href:t,"data-precedence":e},n),(n=sn.get(s))&&pp(t,n);var u=a=i.createElement("link");nt(u),ct(u,"link",t),u._p=new Promise(function(c,f){u.onload=c,u.onerror=f}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Au(a,e,i)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(s,a)}}}function dI(t,e){hi.X(t,e);var n=pa;if(n&&t){var i=Os(n).hoistableScripts,r=ga(t),s=i.get(r);s||(s=n.querySelector(fl(r)),s||(t=Ce({src:t,async:!0},e),(e=sn.get(r))&&gp(t,e),s=n.createElement("script"),nt(s),ct(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function mI(t,e){hi.M(t,e);var n=pa;if(n&&t){var i=Os(n).hoistableScripts,r=ga(t),s=i.get(r);s||(s=n.querySelector(fl(r)),s||(t=Ce({src:t,async:!0,type:"module"},e),(e=sn.get(r))&&gp(t,e),s=n.createElement("script"),nt(s),ct(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function H_(t,e,n,i){var r=(r=zi.current)?uc(r):null;if(!r)throw Error(U(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Ws(n.href),n=Os(r).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Ws(n.href);var s=Os(r).hoistableStyles,a=s.get(t);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,a),(s=r.querySelector(hl(t)))&&!s._p&&(a.instance=s,a.state.loading=5),sn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},sn.set(t,n),s||pI(r,t,n,a.state))),e&&i===null)throw Error(U(528,""));return a}if(e&&i!==null)throw Error(U(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ga(n),n=Os(r).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(U(444,t))}}function Ws(t){return'href="'+Jt(t)+'"'}function hl(t){return'link[rel="stylesheet"]['+t+"]"}function xb(t){return Ce({},t,{"data-precedence":t.precedence,precedence:null})}function pI(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),ct(e,"link",n),nt(e),t.head.appendChild(e))}function ga(t){return'[src="'+Jt(t)+'"]'}function fl(t){return"script[async]"+t}function F_(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+Jt(n.href)+'"]');if(i)return e.instance=i,nt(i),i;var r=Ce({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),nt(i),ct(i,"style",r),Au(i,n.precedence,t),e.instance=i;case"stylesheet":r=Ws(n.href);var s=t.querySelector(hl(r));if(s)return e.state.loading|=4,e.instance=s,nt(s),s;i=xb(n),(r=sn.get(r))&&pp(i,r),s=(t.ownerDocument||t).createElement("link"),nt(s);var a=s;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),ct(s,"link",i),e.state.loading|=4,Au(s,n.precedence,t),e.instance=s;case"script":return s=ga(n.src),(r=t.querySelector(fl(s)))?(e.instance=r,nt(r),r):(i=n,(r=sn.get(s))&&(i=Ce({},n),gp(i,r)),t=t.ownerDocument||t,r=t.createElement("script"),nt(r),ct(r,"link",i),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(U(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,Au(i,n.precedence,t));return e.instance}function Au(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===e)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function pp(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function gp(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Su=null;function G_(t,e,n){if(Su===null){var i=new Map,r=Su=new Map;r.set(n,i)}else r=Su,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var s=n[r];if(!(s[sl]||s[at]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(e)||"";a=t+a;var l=i.get(a);l?l.push(s):i.set(a,[s])}}return i}function K_(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function gI(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Mb(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function yI(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=Ws(i.href),s=e.querySelector(hl(r));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=cc.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=s,nt(s);return}s=e.ownerDocument||e,i=xb(i),(r=sn.get(r))&&pp(i,r),s=s.createElement("link"),nt(s);var a=s;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),ct(s,"link",i),n.instance=s}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=cc.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Of=0;function _I(t,e){return t.stylesheets&&t.count===0&&wu(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&wu(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4+e);0<t.imgBytes&&Of===0&&(Of=62500*WC());var r=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&wu(t,t.stylesheets),t.unsuspend)){var s=t.unsuspend;t.unsuspend=null,s()}},(t.imgBytes>Of?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}function cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var hc=null;function wu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,hc=new Map,e.forEach(vI,t),hc=null,cc.call(t))}function vI(t,e){if(!(e.state.loading&4)){var n=hc.get(t);if(n)var i=n.get(null);else{n=new Map,hc.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=e.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=cc.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var Bo={$$typeof:Fn,Provider:null,Consumer:null,_currentValue:Or,_currentValue2:Or,_threadCount:0};function EI(t,e,n,i,r,s,a,l,u){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zh(0),this.hiddenUpdates=Zh(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function Vb(t,e,n,i,r,s,a,l,u,c,f,m){return t=new EI(t,e,n,a,u,c,f,m,l),e=1,s===!0&&(e|=24),s=Lt(3,null,null,e),t.current=s,s.stateNode=t,e=qm(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:e},Gm(s),t}function Pb(t){return t?(t=Rs,t):Rs}function Lb(t,e,n,i,r,s){r=Pb(r),i.context===null?i.context=r:i.pendingContext=r,i=Bi(e),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=qi(t,i,e),n!==null&&(Dt(n,t,e),mo(n,t,e))}function Q_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function yp(t,e){Q_(t,e),(t=t.alternate)&&Q_(t,e)}function Ub(t){if(t.tag===13||t.tag===31){var e=Wr(t,67108864);e!==null&&Dt(e,t,67108864),yp(t,67108864)}}function Y_(t){if(t.tag===13||t.tag===31){var e=Ht();e=Im(e);var n=Wr(t,e);n!==null&&Dt(n,t,e),yp(t,e)}}var fc=!0;function TI(t,e,n,i){var r=Y.T;Y.T=null;var s=he.p;try{he.p=2,_p(t,e,n,i)}finally{he.p=s,Y.T=r}}function bI(t,e,n,i){var r=Y.T;Y.T=null;var s=he.p;try{he.p=8,_p(t,e,n,i)}finally{he.p=s,Y.T=r}}function _p(t,e,n,i){if(fc){var r=qd(i);if(r===null)Nf(t,e,i,dc,n),$_(t,i);else if(SI(r,t,e,n,i))i.stopPropagation();else if($_(t,i),e&4&&-1<AI.indexOf(t)){for(;r!==null;){var s=ha(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=Rr(s.pendingLanes);if(a!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-qt(a);l.entanglements[1]|=u,a&=~u}xn(s),!(ce&6)&&(nc=jt()+500,cl(0))}}break;case 31:case 13:l=Wr(s,2),l!==null&&Dt(l,s,2),$c(),yp(s,2)}if(s=qd(i),s===null&&Nf(t,e,i,dc,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Nf(t,e,i,null,n)}}function qd(t){return t=xm(t),vp(t)}var dc=null;function vp(t){if(dc=null,t=Es(t),t!==null){var e=tl(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=iT(e),t!==null)return t;t=null}else if(n===31){if(t=rT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return dc=t,null}function kb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lR()){case lT:return 2;case uT:return 8;case qu:case uR:return 32;case cT:return 268435456;default:return 32}default:return 32}}var Hd=!1,Gi=null,Ki=null,Qi=null,qo=new Map,Ho=new Map,Ci=[],AI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $_(t,e){switch(t){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":Qi=null;break;case"pointerover":case"pointerout":qo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ho.delete(e.pointerId)}}function Ya(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=ha(e),e!==null&&Ub(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function SI(t,e,n,i,r){switch(e){case"focusin":return Gi=Ya(Gi,t,e,n,i,r),!0;case"dragenter":return Ki=Ya(Ki,t,e,n,i,r),!0;case"mouseover":return Qi=Ya(Qi,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return qo.set(s,Ya(qo.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Ho.set(s,Ya(Ho.get(s)||null,t,e,n,i,r)),!0}return!1}function zb(t){var e=Es(t.target);if(e!==null){var n=tl(e);if(n!==null){if(e=n.tag,e===13){if(e=iT(n),e!==null){t.blockedOn=e,My(t.priority,function(){Y_(n)});return}}else if(e===31){if(e=rT(n),e!==null){t.blockedOn=e,My(t.priority,function(){Y_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ru(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=qd(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);od=i,n.target.dispatchEvent(i),od=null}else return e=ha(n),e!==null&&Ub(e),t.blockedOn=n,!1;e.shift()}return!0}function X_(t,e,n){Ru(t)&&n.delete(e)}function wI(){Hd=!1,Gi!==null&&Ru(Gi)&&(Gi=null),Ki!==null&&Ru(Ki)&&(Ki=null),Qi!==null&&Ru(Qi)&&(Qi=null),qo.forEach(X_),Ho.forEach(X_)}function eu(t,e){t.blockedOn===e&&(t.blockedOn=null,Hd||(Hd=!0,We.unstable_scheduleCallback(We.unstable_NormalPriority,wI)))}var tu=null;function J_(t){tu!==t&&(tu=t,We.unstable_scheduleCallback(We.unstable_NormalPriority,function(){tu===t&&(tu=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],r=t[e+2];if(typeof i!="function"){if(vp(i||n)===null)continue;break}var s=ha(n);s!==null&&(t.splice(e,3),e-=3,Ad(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function Zs(t){function e(u){return eu(u,t)}Gi!==null&&eu(Gi,t),Ki!==null&&eu(Ki,t),Qi!==null&&eu(Qi,t),qo.forEach(e),Ho.forEach(e);for(var n=0;n<Ci.length;n++){var i=Ci[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Ci.length&&(n=Ci[0],n.blockedOn===null);)zb(n),n.blockedOn===null&&Ci.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[Ot]||null;if(typeof s=="function")a||J_(n);else if(a){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[Ot]||null)l=a.formAction;else if(vp(r)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),J_(n)}}}function jb(){function t(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(a){return r=a})},focusReset:"manual",scroll:"manual"})}function e(){r!==null&&(r(),r=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,r=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),r!==null&&(r(),r=null)}}}function Ep(t){this._internalRoot=t}Wc.prototype.render=Ep.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));var n=e.current,i=Ht();Lb(n,i,t,e,null,null)};Wc.prototype.unmount=Ep.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Lb(t.current,2,null,t,null,null),$c(),e[ca]=null}};function Wc(t){this._internalRoot=t}Wc.prototype.unstable_scheduleHydration=function(t){if(t){var e=pT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ci.length&&e!==0&&e<Ci[n].priority;n++);Ci.splice(n,0,t),n===0&&zb(t)}};var W_=tT.version;if(W_!=="19.2.0")throw Error(U(527,W_,"19.2.0"));he.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=tR(e),t=t!==null?sT(t):null,t=t===null?null:t.stateNode,t};var RI={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{nl=nu.inject(RI),Bt=nu}catch{}}Pc.createRoot=function(t,e){if(!nT(t))throw Error(U(299));var n=!1,i="",r=O0,s=x0,a=M0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=Vb(t,1,!1,null,null,n,i,null,r,s,a,jb),t[ca]=e.current,mp(t),new Ep(e)};Pc.hydrateRoot=function(t,e,n){if(!nT(t))throw Error(U(299));var i=!1,r="",s=O0,a=x0,l=M0,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),e=Vb(t,1,!0,e,n??null,i,r,u,s,a,l,jb),e.context=Pb(null),n=e.current,i=Ht(),i=Im(i),r=Bi(i),r.callback=null,qi(n,r,i),n=i,e.current.lanes=n,rl(e,n),xn(e),t[ca]=e.current,mp(t),new Wc(e)};Pc.version="19.2.0";function Bb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bb)}catch(t){console.error(t)}}Bb(),$E.exports=Pc;var CI=$E.exports;const II=zE(CI);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Z_="popstate";function NI(t={}){function e(i,r){let{pathname:s,search:a,hash:l}=i.location;return Fd("",{pathname:s,search:a,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Fo(r)}return OI(e,n,null,t)}function Ne(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Nn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DI(){return Math.random().toString(36).substring(2,10)}function ev(t,e){return{usr:t.state,key:t.key,idx:e}}function Fd(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ya(e):e,state:n,key:e&&e.key||i||DI()}}function Fo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ya(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function OI(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,l="POP",u=null,c=f();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function f(){return(a.state||{idx:null}).idx}function m(){l="POP";let N=f(),E=N==null?null:N-c;c=N,u&&u({action:l,location:O.location,delta:E})}function p(N,E){l="PUSH";let _=Fd(O.location,N,E);c=f()+1;let b=ev(_,c),I=O.createHref(_);try{a.pushState(b,"",I)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;r.location.assign(I)}s&&u&&u({action:l,location:O.location,delta:1})}function g(N,E){l="REPLACE";let _=Fd(O.location,N,E);c=f();let b=ev(_,c),I=O.createHref(_);a.replaceState(b,"",I),s&&u&&u({action:l,location:O.location,delta:0})}function C(N){return xI(N)}let O={get action(){return l},get location(){return t(r,a)},listen(N){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(Z_,m),u=N,()=>{r.removeEventListener(Z_,m),u=null}},createHref(N){return e(r,N)},createURL:C,encodeLocation(N){let E=C(N);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:g,go(N){return a.go(N)}};return O}function xI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ne(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Fo(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function qb(t,e,n="/"){return MI(t,e,n,!1)}function MI(t,e,n,i){let r=typeof e=="string"?ya(e):e,s=si(r.pathname||"/",n);if(s==null)return null;let a=Hb(t);VI(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let c=GI(s);l=HI(a[u],c,i)}return l}function Hb(t,e=[],n=[],i="",r=!1){let s=(a,l,u=r,c)=>{let f={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(i)&&u)return;Ne(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length)}let m=Wn([i,f.relativePath]),p=n.concat(f);a.children&&a.children.length>0&&(Ne(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Hb(a.children,e,p,m,u)),!(a.path==null&&!a.index)&&e.push({path:m,score:BI(m,a.index),routesMeta:p})};return t.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))s(a,l);else for(let c of Fb(a.path))s(a,l,!0,c)}),e}function Fb(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=Fb(i.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),r&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function VI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:qI(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var PI=/^:[\w-]+$/,LI=3,UI=2,kI=1,zI=10,jI=-2,tv=t=>t==="*";function BI(t,e){let n=t.split("/"),i=n.length;return n.some(tv)&&(i+=jI),e&&(i+=UI),n.filter(r=>!tv(r)).reduce((r,s)=>r+(PI.test(s)?LI:s===""?kI:zI),i)}function qI(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function HI(t,e,n=!1){let{routesMeta:i}=t,r={},s="/",a=[];for(let l=0;l<i.length;++l){let u=i[l],c=l===i.length-1,f=s==="/"?e:e.slice(s.length)||"/",m=mc({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),p=u.route;if(!m&&c&&n&&!i[i.length-1].route.index&&(m=mc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(r,m.params),a.push({params:r,pathname:Wn([s,m.pathname]),pathnameBase:$I(Wn([s,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(s=Wn([s,m.pathnameBase]))}return a}function mc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=FI(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((c,{paramName:f,isOptional:m},p)=>{if(f==="*"){let C=l[p]||"";a=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const g=l[p];return m&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function FI(t,e=!1,n=!0){Nn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(i.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function GI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function si(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function KI(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?ya(t):t;return{pathname:n?n.startsWith("/")?n:QI(n,e):e,search:XI(i),hash:JI(r)}}function QI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function xf(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Gb(t){let e=YI(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Kb(t,e,n,i=!1){let r;typeof t=="string"?r=ya(t):(r={...t},Ne(!r.pathname||!r.pathname.includes("?"),xf("?","pathname","search",r)),Ne(!r.pathname||!r.pathname.includes("#"),xf("#","pathname","hash",r)),Ne(!r.search||!r.search.includes("#"),xf("#","search","hash",r)));let s=t===""||r.pathname==="",a=s?"/":r.pathname,l;if(a==null)l=n;else{let m=e.length-1;if(!i&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),m-=1;r.pathname=p.join("/")}l=m>=0?e[m]:"/"}let u=KI(r,l),c=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}var Wn=t=>t.join("/").replace(/\/\/+/g,"/"),$I=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),XI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,JI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function WI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Qb=["POST","PUT","PATCH","DELETE"];new Set(Qb);var ZI=["GET",...Qb];new Set(ZI);var _a=V.createContext(null);_a.displayName="DataRouter";var Zc=V.createContext(null);Zc.displayName="DataRouterState";V.createContext(!1);var Yb=V.createContext({isTransitioning:!1});Yb.displayName="ViewTransition";var e2=V.createContext(new Map);e2.displayName="Fetchers";var t2=V.createContext(null);t2.displayName="Await";var Mn=V.createContext(null);Mn.displayName="Navigation";var dl=V.createContext(null);dl.displayName="Location";var Vn=V.createContext({outlet:null,matches:[],isDataRoute:!1});Vn.displayName="Route";var Tp=V.createContext(null);Tp.displayName="RouteError";function n2(t,{relative:e}={}){Ne(ml(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=V.useContext(Mn),{hash:r,pathname:s,search:a}=pl(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:Wn([n,s])),i.createHref({pathname:l,search:a,hash:r})}function ml(){return V.useContext(dl)!=null}function es(){return Ne(ml(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(dl).location}var $b="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Xb(t){V.useContext(Mn).static||V.useLayoutEffect(t)}function fi(){let{isDataRoute:t}=V.useContext(Vn);return t?p2():i2()}function i2(){Ne(ml(),"useNavigate() may be used only in the context of a <Router> component.");let t=V.useContext(_a),{basename:e,navigator:n}=V.useContext(Mn),{matches:i}=V.useContext(Vn),{pathname:r}=es(),s=JSON.stringify(Gb(i)),a=V.useRef(!1);return Xb(()=>{a.current=!0}),V.useCallback((u,c={})=>{if(Nn(a.current,$b),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=Kb(u,JSON.parse(s),r,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Wn([e,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[e,n,s,r,t])}V.createContext(null);function Jb(){let{matches:t}=V.useContext(Vn),e=t[t.length-1];return e?e.params:{}}function pl(t,{relative:e}={}){let{matches:n}=V.useContext(Vn),{pathname:i}=es(),r=JSON.stringify(Gb(n));return V.useMemo(()=>Kb(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function r2(t,e){return Wb(t,e)}function Wb(t,e,n,i,r){var _;Ne(ml(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=V.useContext(Mn),{matches:a}=V.useContext(Vn),l=a[a.length-1],u=l?l.params:{},c=l?l.pathname:"/",f=l?l.pathnameBase:"/",m=l&&l.route;{let b=m&&m.path||"";Zb(c,!m||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let p=es(),g;if(e){let b=typeof e=="string"?ya(e):e;Ne(f==="/"||((_=b.pathname)==null?void 0:_.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${b.pathname}" was given in the \`location\` prop.`),g=b}else g=p;let C=g.pathname||"/",O=C;if(f!=="/"){let b=f.replace(/^\//,"").split("/");O="/"+C.replace(/^\//,"").split("/").slice(b.length).join("/")}let N=qb(t,{pathname:O});Nn(m||N!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Nn(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=u2(N&&N.map(b=>Object.assign({},b,{params:Object.assign({},u,b.params),pathname:Wn([f,s.encodeLocation?s.encodeLocation(b.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?f:Wn([f,s.encodeLocation?s.encodeLocation(b.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathnameBase])})),a,n,i,r);return e&&E?V.createElement(dl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},E):E}function s2(){let t=m2(),e=WI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:s},"ErrorBoundary")," or"," ",V.createElement("code",{style:s},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:r},n):null,a)}var a2=V.createElement(s2,null),o2=class extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?V.createElement(Vn.Provider,{value:this.props.routeContext},V.createElement(Tp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function l2({routeContext:t,match:e,children:n}){let i=V.useContext(_a);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(Vn.Provider,{value:t},n)}function u2(t,e=[],n=null,i=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let c=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);Ne(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n)for(let c=0;c<s.length;c++){let f=s[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:m,errors:p}=n,g=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,f,m)=>{let p,g=!1,C=null,O=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,C=f.route.errorElement||a2,l&&(u<0&&m===0?(Zb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,O=null):u===m&&(g=!0,O=f.route.hydrateFallbackElement||null)));let N=e.concat(s.slice(0,m+1)),E=()=>{let _;return p?_=C:g?_=O:f.route.Component?_=V.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=c,V.createElement(l2,{match:f,routeContext:{outlet:c,matches:N,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?V.createElement(o2,{location:n.location,revalidation:n.revalidation,component:C,error:p,children:E(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:i}):E()},null)}function bp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function c2(t){let e=V.useContext(_a);return Ne(e,bp(t)),e}function h2(t){let e=V.useContext(Zc);return Ne(e,bp(t)),e}function f2(t){let e=V.useContext(Vn);return Ne(e,bp(t)),e}function Ap(t){let e=f2(t),n=e.matches[e.matches.length-1];return Ne(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function d2(){return Ap("useRouteId")}function m2(){var i;let t=V.useContext(Tp),e=h2("useRouteError"),n=Ap("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function p2(){let{router:t}=c2("useNavigate"),e=Ap("useNavigate"),n=V.useRef(!1);return Xb(()=>{n.current=!0}),V.useCallback(async(r,s={})=>{Nn(n.current,$b),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var nv={};function Zb(t,e,n){!e&&!nv[t]&&(nv[t]=!0,Nn(!1,n))}V.memo(g2);function g2({routes:t,future:e,state:n,unstable_onError:i}){return Wb(t,void 0,n,i,e)}function Bn(t){Ne(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function y2({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:s=!1}){Ne(!ml(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=V.useMemo(()=>({basename:a,navigator:r,static:s,future:{}}),[a,r,s]);typeof n=="string"&&(n=ya(n));let{pathname:u="/",search:c="",hash:f="",state:m=null,key:p="default"}=n,g=V.useMemo(()=>{let C=si(u,a);return C==null?null:{location:{pathname:C,search:c,hash:f,state:m,key:p},navigationType:i}},[a,u,c,f,m,p,i]);return Nn(g!=null,`<Router basename="${a}"> is not able to match the URL "${u}${c}${f}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:V.createElement(Mn.Provider,{value:l},V.createElement(dl.Provider,{children:e,value:g}))}function _2({children:t,location:e}){return r2(Gd(t),e)}function Gd(t,e=[]){let n=[];return V.Children.forEach(t,(i,r)=>{if(!V.isValidElement(i))return;let s=[...e,r];if(i.type===V.Fragment){n.push.apply(n,Gd(i.props.children,s));return}Ne(i.type===Bn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ne(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=Gd(i.props.children,s)),n.push(a)}),n}var Cu="get",Iu="application/x-www-form-urlencoded";function eh(t){return t!=null&&typeof t.tagName=="string"}function v2(t){return eh(t)&&t.tagName.toLowerCase()==="button"}function E2(t){return eh(t)&&t.tagName.toLowerCase()==="form"}function T2(t){return eh(t)&&t.tagName.toLowerCase()==="input"}function b2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function A2(t,e){return t.button===0&&(!e||e==="_self")&&!b2(t)}var iu=null;function S2(){if(iu===null)try{new FormData(document.createElement("form"),0),iu=!1}catch{iu=!0}return iu}var w2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mf(t){return t!=null&&!w2.has(t)?(Nn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Iu}"`),null):t}function R2(t,e){let n,i,r,s,a;if(E2(t)){let l=t.getAttribute("action");i=l?si(l,e):null,n=t.getAttribute("method")||Cu,r=Mf(t.getAttribute("enctype"))||Iu,s=new FormData(t)}else if(v2(t)||T2(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(i=u?si(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Cu,r=Mf(t.getAttribute("formenctype"))||Mf(l.getAttribute("enctype"))||Iu,s=new FormData(l,t),!S2()){let{name:c,type:f,value:m}=t;if(f==="image"){let p=c?`${c}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else c&&s.append(c,m)}}else{if(eh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Cu,i=null,r=Iu,a=t}return s&&r==="text/plain"&&(a=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function C2(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&si(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function I2(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function N2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function D2(t,e,n){let i=await Promise.all(t.map(async r=>{let s=e.routes[r.route.id];if(s){let a=await I2(s,n);return a.links?a.links():[]}return[]}));return V2(i.flat(1).filter(N2).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function iv(t,e,n,i,r,s){let a=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,l=(u,c)=>{var f;return n[c].pathname!==u.pathname||((f=n[c].route.path)==null?void 0:f.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return s==="assets"?e.filter((u,c)=>a(u,c)||l(u,c)):s==="data"?e.filter((u,c)=>{var m;let f=i.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(a(u,c)||l(u,c))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function O2(t,e,{includeHydrateFallback:n}={}){return x2(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function x2(t){return[...new Set(t)]}function M2(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function V2(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let s=JSON.stringify(M2(r));return n.has(s)||(n.add(s),i.push({key:s,link:r})),i},[])}function eA(){let t=V.useContext(_a);return Sp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function P2(){let t=V.useContext(Zc);return Sp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var wp=V.createContext(void 0);wp.displayName="FrameworkContext";function tA(){let t=V.useContext(wp);return Sp(t,"You must render this element inside a <HydratedRouter> element"),t}function L2(t,e){let n=V.useContext(wp),[i,r]=V.useState(!1),[s,a]=V.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:f,onTouchStart:m}=e,p=V.useRef(null);V.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let O=E=>{E.forEach(_=>{a(_.isIntersecting)})},N=new IntersectionObserver(O,{threshold:.5});return p.current&&N.observe(p.current),()=>{N.disconnect()}}},[t]),V.useEffect(()=>{if(i){let O=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(O)}}},[i]);let g=()=>{r(!0)},C=()=>{r(!1),a(!1)};return n?t!=="intent"?[s,p,{}]:[s,p,{onFocus:$a(l,g),onBlur:$a(u,C),onMouseEnter:$a(c,g),onMouseLeave:$a(f,C),onTouchStart:$a(m,g)}]:[!1,p,{}]}function $a(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function U2({page:t,...e}){let{router:n}=eA(),i=V.useMemo(()=>qb(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?V.createElement(z2,{page:t,matches:i,...e}):null}function k2(t){let{manifest:e,routeModules:n}=tA(),[i,r]=V.useState([]);return V.useEffect(()=>{let s=!1;return D2(t,e,n).then(a=>{s||r(a)}),()=>{s=!0}},[t,e,n]),i}function z2({page:t,matches:e,...n}){let i=es(),{manifest:r,routeModules:s}=tA(),{basename:a}=eA(),{loaderData:l,matches:u}=P2(),c=V.useMemo(()=>iv(t,e,u,r,i,"data"),[t,e,u,r,i]),f=V.useMemo(()=>iv(t,e,u,r,i,"assets"),[t,e,u,r,i]),m=V.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let C=new Set,O=!1;if(e.forEach(E=>{var b;let _=r.routes[E.route.id];!_||!_.hasLoader||(!c.some(I=>I.route.id===E.route.id)&&E.route.id in l&&((b=s[E.route.id])!=null&&b.shouldRevalidate)||_.hasClientLoader?O=!0:C.add(E.route.id))}),C.size===0)return[];let N=C2(t,a,"data");return O&&C.size>0&&N.searchParams.set("_routes",e.filter(E=>C.has(E.route.id)).map(E=>E.route.id).join(",")),[N.pathname+N.search]},[a,l,i,r,c,e,t,s]),p=V.useMemo(()=>O2(f,r),[f,r]),g=k2(f);return V.createElement(V.Fragment,null,m.map(C=>V.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),p.map(C=>V.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),g.map(({key:C,link:O})=>V.createElement("link",{key:C,nonce:n.nonce,...O})))}function j2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var nA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nA&&(window.__reactRouterVersion="7.9.5")}catch{}function B2({basename:t,children:e,window:n}){let i=V.useRef();i.current==null&&(i.current=NI({window:n,v5Compat:!0}));let r=i.current,[s,a]=V.useState({action:r.action,location:r.location}),l=V.useCallback(u=>{V.startTransition(()=>a(u))},[a]);return V.useLayoutEffect(()=>r.listen(l),[r,l]),V.createElement(y2,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:r})}var iA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rA=V.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:s,replace:a,state:l,target:u,to:c,preventScrollReset:f,viewTransition:m,...p},g){let{basename:C}=V.useContext(Mn),O=typeof c=="string"&&iA.test(c),N,E=!1;if(typeof c=="string"&&O&&(N=c,nA))try{let A=new URL(window.location.href),S=c.startsWith("//")?new URL(A.protocol+c):new URL(c),R=si(S.pathname,C);S.origin===A.origin&&R!=null?c=R+S.search+S.hash:E=!0}catch{Nn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=n2(c,{relative:r}),[b,I,z]=L2(i,p),j=G2(c,{replace:a,state:l,target:u,preventScrollReset:f,relative:r,viewTransition:m});function T(A){e&&e(A),A.defaultPrevented||j(A)}let v=V.createElement("a",{...p,...z,href:N||_,onClick:E||s?e:T,ref:j2(g,I),target:u,"data-discover":!O&&n==="render"?"true":void 0});return b&&!O?V.createElement(V.Fragment,null,v,V.createElement(U2,{page:_})):v});rA.displayName="Link";var q2=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:s,to:a,viewTransition:l,children:u,...c},f){let m=pl(a,{relative:c.relative}),p=es(),g=V.useContext(Zc),{navigator:C,basename:O}=V.useContext(Mn),N=g!=null&&X2(m)&&l===!0,E=C.encodeLocation?C.encodeLocation(m).pathname:m.pathname,_=p.pathname,b=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(_=_.toLowerCase(),b=b?b.toLowerCase():null,E=E.toLowerCase()),b&&O&&(b=si(b,O)||b);const I=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let z=_===E||!r&&_.startsWith(E)&&_.charAt(I)==="/",j=b!=null&&(b===E||!r&&b.startsWith(E)&&b.charAt(E.length)==="/"),T={isActive:z,isPending:j,isTransitioning:N},v=z?e:void 0,A;typeof i=="function"?A=i(T):A=[i,z?"active":null,j?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let S=typeof s=="function"?s(T):s;return V.createElement(rA,{...c,"aria-current":v,className:A,ref:f,style:S,to:a,viewTransition:l},typeof u=="function"?u(T):u)});q2.displayName="NavLink";var H2=V.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:s,method:a=Cu,action:l,onSubmit:u,relative:c,preventScrollReset:f,viewTransition:m,...p},g)=>{let C=Y2(),O=$2(l,{relative:c}),N=a.toLowerCase()==="get"?"get":"post",E=typeof l=="string"&&iA.test(l),_=b=>{if(u&&u(b),b.defaultPrevented)return;b.preventDefault();let I=b.nativeEvent.submitter,z=(I==null?void 0:I.getAttribute("formmethod"))||a;C(I||b.currentTarget,{fetcherKey:e,method:z,navigate:n,replace:r,state:s,relative:c,preventScrollReset:f,viewTransition:m})};return V.createElement("form",{ref:g,method:N,action:O,onSubmit:i?u:_,...p,"data-discover":!E&&t==="render"?"true":void 0})});H2.displayName="Form";function F2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sA(t){let e=V.useContext(_a);return Ne(e,F2(t)),e}function G2(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:s,viewTransition:a}={}){let l=fi(),u=es(),c=pl(t,{relative:s});return V.useCallback(f=>{if(A2(f,e)){f.preventDefault();let m=n!==void 0?n:Fo(u)===Fo(c);l(t,{replace:m,state:i,preventScrollReset:r,relative:s,viewTransition:a})}},[u,l,c,n,i,e,t,r,s,a])}var K2=0,Q2=()=>`__${String(++K2)}__`;function Y2(){let{router:t}=sA("useSubmit"),{basename:e}=V.useContext(Mn),n=d2();return V.useCallback(async(i,r={})=>{let{action:s,method:a,encType:l,formData:u,body:c}=R2(i,e);if(r.navigate===!1){let f=r.fetcherKey||Q2();await t.fetch(f,n,r.action||s,{preventScrollReset:r.preventScrollReset,formData:u,body:c,formMethod:r.method||a,formEncType:r.encType||l,flushSync:r.flushSync})}else await t.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:u,body:c,formMethod:r.method||a,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function $2(t,{relative:e}={}){let{basename:n}=V.useContext(Mn),i=V.useContext(Vn);Ne(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...pl(t||".",{relative:e})},a=es();if(t==null){s.search=a.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(f=>f==="")){l.delete("index"),u.filter(m=>m).forEach(m=>l.append("index",m));let f=l.toString();s.search=f?`?${f}`:""}}return(!t||t===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Wn([n,s.pathname])),Fo(s)}function X2(t,{relative:e}={}){let n=V.useContext(Yb);Ne(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=sA("useViewTransitionState"),r=pl(t,{relative:e});if(!n.isTransitioning)return!1;let s=si(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=si(n.nextLocation.pathname,i)||n.nextLocation.pathname;return mc(r.pathname,a)!=null||mc(r.pathname,s)!=null}const J2=()=>{};var rv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},W2=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],a=t[n++],l=t[n++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],a=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return e.join("")},oA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],a=r+1<t.length,l=a?t[r+1]:0,u=r+2<t.length,c=u?t[r+2]:0,f=s>>2,m=(s&3)<<4|l>>4;let p=(l&15)<<2|c>>6,g=c&63;u||(g=64,a||(p=64)),i.push(n[f],n[m],n[p],n[g])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):W2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const m=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||l==null||c==null||m==null)throw new Z2;const p=s<<2|l>>4;if(i.push(p),c!==64){const g=l<<4&240|c>>2;if(i.push(g),m!==64){const C=c<<6&192|m;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Z2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eN=function(t){const e=aA(t);return oA.encodeByteArray(e,!0)},pc=function(t){return eN(t).replace(/\./g,"")},lA=function(t){try{return oA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=()=>tN().__FIREBASE_DEFAULTS__,iN=()=>{if(typeof process>"u"||typeof rv>"u")return;const t=rv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&lA(t[1]);return e&&JSON.parse(e)},th=()=>{try{return J2()||nN()||iN()||rN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uA=t=>{var e,n;return(n=(e=th())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},cA=t=>{const e=uA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},hA=()=>{var t;return(t=th())==null?void 0:t.config},fA=t=>{var e;return(e=th())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Rp(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[pc(JSON.stringify(n)),pc(JSON.stringify(a)),""].join(".")}const Ao={};function aN(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ao))Ao[e]?t.emulator.push(e):t.prod.push(e);return t}function oN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let sv=!1;function Cp(t,e){if(typeof window>"u"||typeof document>"u"||!dr(window.location.host)||Ao[t]===e||Ao[t]||sv)return;Ao[t]=e;function n(p){return`__firebase__banner__${p}`}const i="__firebase__banner",s=aN().prod.length>0;function a(){const p=document.getElementById(i);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{sv=!0,a()},p}function f(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function m(){const p=oN(i),g=n("text"),C=document.getElementById(g)||document.createElement("span"),O=n("learnmore"),N=document.getElementById(O)||document.createElement("a"),E=n("preprendIcon"),_=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const b=p.element;l(b),f(N,O);const I=c();u(_,E),b.append(_,C,N,I),document.body.appendChild(b)}s?(C.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function uN(){var e;const t=(e=th())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dN(){const t=yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function mN(){return!uN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pN(){try{return typeof indexedDB=="object"}catch{return!1}}function gN(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="FirebaseError";class Pn extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=yN,Object.setPrototypeOf(this,Pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gl.prototype.create)}}class gl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],a=s?_N(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new Pn(r,l,i)}}function _N(t,e){return t.replace(vN,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const vN=/\{\$([^}]+)}/g;function EN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hr(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],a=e[r];if(av(s)&&av(a)){if(!Hr(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function av(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function no(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function io(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function TN(t,e){const n=new bN(t,e);return n.subscribe.bind(n)}class bN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");AN(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Vf),r.error===void 0&&(r.error=Vf),r.complete===void 0&&(r.complete=Vf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t){return t&&t._delegate?t._delegate:t}class ir{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new sN;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RN(e))try{this.getOrInitializeService({instanceIdentifier:Nr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Nr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Nr){return this.instances.has(e)}getOptions(e=Nr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:wN(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Nr){return this.component?this.component.multipleInstances?e:Nr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wN(t){return t===Nr?void 0:t}function RN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new SN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(re||(re={}));const IN={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},NN=re.INFO,DN={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},ON=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=DN[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ip{constructor(e){this.name=e,this._logLevel=NN,this._logHandler=ON,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...e),this._logHandler(this,re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...e),this._logHandler(this,re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,re.INFO,...e),this._logHandler(this,re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,re.WARN,...e),this._logHandler(this,re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...e),this._logHandler(this,re.ERROR,...e)}}const xN=(t,e)=>e.some(n=>t instanceof n);let ov,lv;function MN(){return ov||(ov=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VN(){return lv||(lv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mA=new WeakMap,Kd=new WeakMap,pA=new WeakMap,Pf=new WeakMap,Np=new WeakMap;function PN(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Yi(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&mA.set(n,t)}).catch(()=>{}),Np.set(e,t),e}function LN(t){if(Kd.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Kd.set(t,e)}let Qd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Kd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function UN(t){Qd=t(Qd)}function kN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Lf(this),e,...n);return pA.set(i,e.sort?e.sort():[e]),Yi(i)}:VN().includes(t)?function(...e){return t.apply(Lf(this),e),Yi(mA.get(this))}:function(...e){return Yi(t.apply(Lf(this),e))}}function zN(t){return typeof t=="function"?kN(t):(t instanceof IDBTransaction&&LN(t),xN(t,MN())?new Proxy(t,Qd):t)}function Yi(t){if(t instanceof IDBRequest)return PN(t);if(Pf.has(t))return Pf.get(t);const e=zN(t);return e!==t&&(Pf.set(t,e),Np.set(e,t)),e}const Lf=t=>Np.get(t);function jN(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(t,e),l=Yi(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Yi(a.result),u.oldVersion,u.newVersion,Yi(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const BN=["get","getKey","getAll","getAllKeys","count"],qN=["put","add","delete","clear"],Uf=new Map;function uv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Uf.get(e))return Uf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=qN.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||BN.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,r?"readwrite":"readonly");let c=u.store;return i&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),r&&u.done]))[0]};return Uf.set(e,s),s}UN(t=>({...t,get:(e,n,i)=>uv(e,n)||t.get(e,n,i),has:(e,n)=>!!uv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FN(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function FN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yd="@firebase/app",cv="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new Ip("@firebase/app"),GN="@firebase/app-compat",KN="@firebase/analytics-compat",QN="@firebase/analytics",YN="@firebase/app-check-compat",$N="@firebase/app-check",XN="@firebase/auth",JN="@firebase/auth-compat",WN="@firebase/database",ZN="@firebase/data-connect",eD="@firebase/database-compat",tD="@firebase/functions",nD="@firebase/functions-compat",iD="@firebase/installations",rD="@firebase/installations-compat",sD="@firebase/messaging",aD="@firebase/messaging-compat",oD="@firebase/performance",lD="@firebase/performance-compat",uD="@firebase/remote-config",cD="@firebase/remote-config-compat",hD="@firebase/storage",fD="@firebase/storage-compat",dD="@firebase/firestore",mD="@firebase/ai",pD="@firebase/firestore-compat",gD="firebase",yD="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="[DEFAULT]",_D={[Yd]:"fire-core",[GN]:"fire-core-compat",[QN]:"fire-analytics",[KN]:"fire-analytics-compat",[$N]:"fire-app-check",[YN]:"fire-app-check-compat",[XN]:"fire-auth",[JN]:"fire-auth-compat",[WN]:"fire-rtdb",[ZN]:"fire-data-connect",[eD]:"fire-rtdb-compat",[tD]:"fire-fn",[nD]:"fire-fn-compat",[iD]:"fire-iid",[rD]:"fire-iid-compat",[sD]:"fire-fcm",[aD]:"fire-fcm-compat",[oD]:"fire-perf",[lD]:"fire-perf-compat",[uD]:"fire-rc",[cD]:"fire-rc-compat",[hD]:"fire-gcs",[fD]:"fire-gcs-compat",[dD]:"fire-fst",[pD]:"fire-fst-compat",[mD]:"fire-vertex","fire-js":"fire-js",[gD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=new Map,vD=new Map,Xd=new Map;function hv(t,e){try{t.container.addComponent(e)}catch(n){ai.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fr(t){const e=t.name;if(Xd.has(e))return ai.debug(`There were multiple attempts to register component ${e}.`),!1;Xd.set(e,t);for(const n of gc.values())hv(n,t);for(const n of vD.values())hv(n,t);return!0}function nh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function en(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$i=new gl("app","Firebase",ED);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ir("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=yD;function gA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:$d,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw $i.create("bad-app-name",{appName:String(r)});if(n||(n=hA()),!n)throw $i.create("no-options");const s=gc.get(r);if(s){if(Hr(n,s.options)&&Hr(i,s.config))return s;throw $i.create("duplicate-app",{appName:r})}const a=new CN(r);for(const u of Xd.values())a.addComponent(u);const l=new TD(n,i,a);return gc.set(r,l),l}function Dp(t=$d){const e=gc.get(t);if(!e&&t===$d&&hA())return gA();if(!e)throw $i.create("no-app",{appName:t});return e}function Tn(t,e,n){let i=_D[t]??t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),s=e.match(/\s|\//);if(r||s){const a=[`Unable to register library "${i}" with version "${e}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ai.warn(a.join(" "));return}Fr(new ir(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="firebase-heartbeat-database",AD=1,Go="firebase-heartbeat-store";let kf=null;function yA(){return kf||(kf=jN(bD,AD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Go)}catch(n){console.warn(n)}}}}).catch(t=>{throw $i.create("idb-open",{originalErrorMessage:t.message})})),kf}async function SD(t){try{const n=(await yA()).transaction(Go),i=await n.objectStore(Go).get(_A(t));return await n.done,i}catch(e){if(e instanceof Pn)ai.warn(e.message);else{const n=$i.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ai.warn(n.message)}}}async function fv(t,e){try{const i=(await yA()).transaction(Go,"readwrite");await i.objectStore(Go).put(e,_A(t)),await i.done}catch(n){if(n instanceof Pn)ai.warn(n.message);else{const i=$i.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ai.warn(i.message)}}}function _A(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=1024,RD=30;class CD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ND(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=dv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>RD){const a=DD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ai.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=dv(),{heartbeatsToSend:i,unsentEntries:r}=ID(this._heartbeatsCache.heartbeats),s=pc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ai.warn(n),""}}}function dv(){return new Date().toISOString().substring(0,10)}function ID(t,e=wD){const n=[];let i=t.slice();for(const r of t){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),mv(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),mv(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class ND{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pN()?gN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await SD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return fv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return fv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function mv(t){return pc(JSON.stringify({version:2,heartbeats:t})).length}function DD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(t){Fr(new ir("platform-logger",e=>new HN(e),"PRIVATE")),Fr(new ir("heartbeat",e=>new CD(e),"PRIVATE")),Tn(Yd,cv,t),Tn(Yd,cv,"esm2020"),Tn("fire-js","")}OD("");var pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xi,vA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,v){function A(){}A.prototype=v.prototype,T.F=v.prototype,T.prototype=new A,T.prototype.constructor=T,T.D=function(S,R,x){for(var w=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)w[ft-2]=arguments[ft];return v.prototype[R].apply(S,w)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(T,v,A){A||(A=0);const S=Array(16);if(typeof v=="string")for(var R=0;R<16;++R)S[R]=v.charCodeAt(A++)|v.charCodeAt(A++)<<8|v.charCodeAt(A++)<<16|v.charCodeAt(A++)<<24;else for(R=0;R<16;++R)S[R]=v[A++]|v[A++]<<8|v[A++]<<16|v[A++]<<24;v=T.g[0],A=T.g[1],R=T.g[2];let x=T.g[3],w;w=v+(x^A&(R^x))+S[0]+3614090360&4294967295,v=A+(w<<7&4294967295|w>>>25),w=x+(R^v&(A^R))+S[1]+3905402710&4294967295,x=v+(w<<12&4294967295|w>>>20),w=R+(A^x&(v^A))+S[2]+606105819&4294967295,R=x+(w<<17&4294967295|w>>>15),w=A+(v^R&(x^v))+S[3]+3250441966&4294967295,A=R+(w<<22&4294967295|w>>>10),w=v+(x^A&(R^x))+S[4]+4118548399&4294967295,v=A+(w<<7&4294967295|w>>>25),w=x+(R^v&(A^R))+S[5]+1200080426&4294967295,x=v+(w<<12&4294967295|w>>>20),w=R+(A^x&(v^A))+S[6]+2821735955&4294967295,R=x+(w<<17&4294967295|w>>>15),w=A+(v^R&(x^v))+S[7]+4249261313&4294967295,A=R+(w<<22&4294967295|w>>>10),w=v+(x^A&(R^x))+S[8]+1770035416&4294967295,v=A+(w<<7&4294967295|w>>>25),w=x+(R^v&(A^R))+S[9]+2336552879&4294967295,x=v+(w<<12&4294967295|w>>>20),w=R+(A^x&(v^A))+S[10]+4294925233&4294967295,R=x+(w<<17&4294967295|w>>>15),w=A+(v^R&(x^v))+S[11]+2304563134&4294967295,A=R+(w<<22&4294967295|w>>>10),w=v+(x^A&(R^x))+S[12]+1804603682&4294967295,v=A+(w<<7&4294967295|w>>>25),w=x+(R^v&(A^R))+S[13]+4254626195&4294967295,x=v+(w<<12&4294967295|w>>>20),w=R+(A^x&(v^A))+S[14]+2792965006&4294967295,R=x+(w<<17&4294967295|w>>>15),w=A+(v^R&(x^v))+S[15]+1236535329&4294967295,A=R+(w<<22&4294967295|w>>>10),w=v+(R^x&(A^R))+S[1]+4129170786&4294967295,v=A+(w<<5&4294967295|w>>>27),w=x+(A^R&(v^A))+S[6]+3225465664&4294967295,x=v+(w<<9&4294967295|w>>>23),w=R+(v^A&(x^v))+S[11]+643717713&4294967295,R=x+(w<<14&4294967295|w>>>18),w=A+(x^v&(R^x))+S[0]+3921069994&4294967295,A=R+(w<<20&4294967295|w>>>12),w=v+(R^x&(A^R))+S[5]+3593408605&4294967295,v=A+(w<<5&4294967295|w>>>27),w=x+(A^R&(v^A))+S[10]+38016083&4294967295,x=v+(w<<9&4294967295|w>>>23),w=R+(v^A&(x^v))+S[15]+3634488961&4294967295,R=x+(w<<14&4294967295|w>>>18),w=A+(x^v&(R^x))+S[4]+3889429448&4294967295,A=R+(w<<20&4294967295|w>>>12),w=v+(R^x&(A^R))+S[9]+568446438&4294967295,v=A+(w<<5&4294967295|w>>>27),w=x+(A^R&(v^A))+S[14]+3275163606&4294967295,x=v+(w<<9&4294967295|w>>>23),w=R+(v^A&(x^v))+S[3]+4107603335&4294967295,R=x+(w<<14&4294967295|w>>>18),w=A+(x^v&(R^x))+S[8]+1163531501&4294967295,A=R+(w<<20&4294967295|w>>>12),w=v+(R^x&(A^R))+S[13]+2850285829&4294967295,v=A+(w<<5&4294967295|w>>>27),w=x+(A^R&(v^A))+S[2]+4243563512&4294967295,x=v+(w<<9&4294967295|w>>>23),w=R+(v^A&(x^v))+S[7]+1735328473&4294967295,R=x+(w<<14&4294967295|w>>>18),w=A+(x^v&(R^x))+S[12]+2368359562&4294967295,A=R+(w<<20&4294967295|w>>>12),w=v+(A^R^x)+S[5]+4294588738&4294967295,v=A+(w<<4&4294967295|w>>>28),w=x+(v^A^R)+S[8]+2272392833&4294967295,x=v+(w<<11&4294967295|w>>>21),w=R+(x^v^A)+S[11]+1839030562&4294967295,R=x+(w<<16&4294967295|w>>>16),w=A+(R^x^v)+S[14]+4259657740&4294967295,A=R+(w<<23&4294967295|w>>>9),w=v+(A^R^x)+S[1]+2763975236&4294967295,v=A+(w<<4&4294967295|w>>>28),w=x+(v^A^R)+S[4]+1272893353&4294967295,x=v+(w<<11&4294967295|w>>>21),w=R+(x^v^A)+S[7]+4139469664&4294967295,R=x+(w<<16&4294967295|w>>>16),w=A+(R^x^v)+S[10]+3200236656&4294967295,A=R+(w<<23&4294967295|w>>>9),w=v+(A^R^x)+S[13]+681279174&4294967295,v=A+(w<<4&4294967295|w>>>28),w=x+(v^A^R)+S[0]+3936430074&4294967295,x=v+(w<<11&4294967295|w>>>21),w=R+(x^v^A)+S[3]+3572445317&4294967295,R=x+(w<<16&4294967295|w>>>16),w=A+(R^x^v)+S[6]+76029189&4294967295,A=R+(w<<23&4294967295|w>>>9),w=v+(A^R^x)+S[9]+3654602809&4294967295,v=A+(w<<4&4294967295|w>>>28),w=x+(v^A^R)+S[12]+3873151461&4294967295,x=v+(w<<11&4294967295|w>>>21),w=R+(x^v^A)+S[15]+530742520&4294967295,R=x+(w<<16&4294967295|w>>>16),w=A+(R^x^v)+S[2]+3299628645&4294967295,A=R+(w<<23&4294967295|w>>>9),w=v+(R^(A|~x))+S[0]+4096336452&4294967295,v=A+(w<<6&4294967295|w>>>26),w=x+(A^(v|~R))+S[7]+1126891415&4294967295,x=v+(w<<10&4294967295|w>>>22),w=R+(v^(x|~A))+S[14]+2878612391&4294967295,R=x+(w<<15&4294967295|w>>>17),w=A+(x^(R|~v))+S[5]+4237533241&4294967295,A=R+(w<<21&4294967295|w>>>11),w=v+(R^(A|~x))+S[12]+1700485571&4294967295,v=A+(w<<6&4294967295|w>>>26),w=x+(A^(v|~R))+S[3]+2399980690&4294967295,x=v+(w<<10&4294967295|w>>>22),w=R+(v^(x|~A))+S[10]+4293915773&4294967295,R=x+(w<<15&4294967295|w>>>17),w=A+(x^(R|~v))+S[1]+2240044497&4294967295,A=R+(w<<21&4294967295|w>>>11),w=v+(R^(A|~x))+S[8]+1873313359&4294967295,v=A+(w<<6&4294967295|w>>>26),w=x+(A^(v|~R))+S[15]+4264355552&4294967295,x=v+(w<<10&4294967295|w>>>22),w=R+(v^(x|~A))+S[6]+2734768916&4294967295,R=x+(w<<15&4294967295|w>>>17),w=A+(x^(R|~v))+S[13]+1309151649&4294967295,A=R+(w<<21&4294967295|w>>>11),w=v+(R^(A|~x))+S[4]+4149444226&4294967295,v=A+(w<<6&4294967295|w>>>26),w=x+(A^(v|~R))+S[11]+3174756917&4294967295,x=v+(w<<10&4294967295|w>>>22),w=R+(v^(x|~A))+S[2]+718787259&4294967295,R=x+(w<<15&4294967295|w>>>17),w=A+(x^(R|~v))+S[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(R+(w<<21&4294967295|w>>>11))&4294967295,T.g[2]=T.g[2]+R&4294967295,T.g[3]=T.g[3]+x&4294967295}i.prototype.v=function(T,v){v===void 0&&(v=T.length);const A=v-this.blockSize,S=this.C;let R=this.h,x=0;for(;x<v;){if(R==0)for(;x<=A;)r(this,T,x),x+=this.blockSize;if(typeof T=="string"){for(;x<v;)if(S[R++]=T.charCodeAt(x++),R==this.blockSize){r(this,S),R=0;break}}else for(;x<v;)if(S[R++]=T[x++],R==this.blockSize){r(this,S),R=0;break}}this.h=R,this.o+=v},i.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;v=this.o*8;for(var A=T.length-8;A<T.length;++A)T[A]=v&255,v/=256;for(this.v(T),T=Array(16),v=0,A=0;A<4;++A)for(let S=0;S<32;S+=8)T[v++]=this.g[A]>>>S&255;return T};function s(T,v){var A=l;return Object.prototype.hasOwnProperty.call(A,T)?A[T]:A[T]=v(T)}function a(T,v){this.h=v;const A=[];let S=!0;for(let R=T.length-1;R>=0;R--){const x=T[R]|0;S&&x==v||(A[R]=x,S=!1)}this.g=A}var l={};function u(T){return-128<=T&&T<128?s(T,function(v){return new a([v|0],v<0?-1:0)}):new a([T|0],T<0?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return m;if(T<0)return N(c(-T));const v=[];let A=1;for(let S=0;T>=A;S++)v[S]=T/A|0,A*=4294967296;return new a(v,0)}function f(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return N(f(T.substring(1),v));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=c(Math.pow(v,8));let S=m;for(let x=0;x<T.length;x+=8){var R=Math.min(8,T.length-x);const w=parseInt(T.substring(x,x+R),v);R<8?(R=c(Math.pow(v,R)),S=S.j(R).add(c(w))):(S=S.j(A),S=S.add(c(w)))}return S}var m=u(0),p=u(1),g=u(16777216);t=a.prototype,t.m=function(){if(O(this))return-N(this).m();let T=0,v=1;for(let A=0;A<this.g.length;A++){const S=this.i(A);T+=(S>=0?S:4294967296+S)*v,v*=4294967296}return T},t.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(C(this))return"0";if(O(this))return"-"+N(this).toString(T);const v=c(Math.pow(T,6));var A=this;let S="";for(;;){const R=I(A,v).g;A=E(A,R.j(v));let x=((A.g.length>0?A.g[0]:A.h)>>>0).toString(T);if(A=R,C(A))return x+S;for(;x.length<6;)x="0"+x;S=x+S}},t.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function C(T){if(T.h!=0)return!1;for(let v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function O(T){return T.h==-1}t.l=function(T){return T=E(this,T),O(T)?-1:C(T)?0:1};function N(T){const v=T.g.length,A=[];for(let S=0;S<v;S++)A[S]=~T.g[S];return new a(A,~T.h).add(p)}t.abs=function(){return O(this)?N(this):this},t.add=function(T){const v=Math.max(this.g.length,T.g.length),A=[];let S=0;for(let R=0;R<=v;R++){let x=S+(this.i(R)&65535)+(T.i(R)&65535),w=(x>>>16)+(this.i(R)>>>16)+(T.i(R)>>>16);S=w>>>16,x&=65535,w&=65535,A[R]=w<<16|x}return new a(A,A[A.length-1]&-2147483648?-1:0)};function E(T,v){return T.add(N(v))}t.j=function(T){if(C(this)||C(T))return m;if(O(this))return O(T)?N(this).j(N(T)):N(N(this).j(T));if(O(T))return N(this.j(N(T)));if(this.l(g)<0&&T.l(g)<0)return c(this.m()*T.m());const v=this.g.length+T.g.length,A=[];for(var S=0;S<2*v;S++)A[S]=0;for(S=0;S<this.g.length;S++)for(let R=0;R<T.g.length;R++){const x=this.i(S)>>>16,w=this.i(S)&65535,ft=T.i(R)>>>16,an=T.i(R)&65535;A[2*S+2*R]+=w*an,_(A,2*S+2*R),A[2*S+2*R+1]+=x*an,_(A,2*S+2*R+1),A[2*S+2*R+1]+=w*ft,_(A,2*S+2*R+1),A[2*S+2*R+2]+=x*ft,_(A,2*S+2*R+2)}for(T=0;T<v;T++)A[T]=A[2*T+1]<<16|A[2*T];for(T=v;T<2*v;T++)A[T]=0;return new a(A,0)};function _(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function b(T,v){this.g=T,this.h=v}function I(T,v){if(C(v))throw Error("division by zero");if(C(T))return new b(m,m);if(O(T))return v=I(N(T),v),new b(N(v.g),N(v.h));if(O(v))return v=I(T,N(v)),new b(N(v.g),v.h);if(T.g.length>30){if(O(T)||O(v))throw Error("slowDivide_ only works with positive integers.");for(var A=p,S=v;S.l(T)<=0;)A=z(A),S=z(S);var R=j(A,1),x=j(S,1);for(S=j(S,2),A=j(A,2);!C(S);){var w=x.add(S);w.l(T)<=0&&(R=R.add(A),x=w),S=j(S,1),A=j(A,1)}return v=E(T,R.j(v)),new b(R,v)}for(R=m;T.l(v)>=0;){for(A=Math.max(1,Math.floor(T.m()/v.m())),S=Math.ceil(Math.log(A)/Math.LN2),S=S<=48?1:Math.pow(2,S-48),x=c(A),w=x.j(v);O(w)||w.l(T)>0;)A-=S,x=c(A),w=x.j(v);C(x)&&(x=p),R=R.add(x),T=E(T,w)}return new b(R,T)}t.B=function(T){return I(this,T).h},t.and=function(T){const v=Math.max(this.g.length,T.g.length),A=[];for(let S=0;S<v;S++)A[S]=this.i(S)&T.i(S);return new a(A,this.h&T.h)},t.or=function(T){const v=Math.max(this.g.length,T.g.length),A=[];for(let S=0;S<v;S++)A[S]=this.i(S)|T.i(S);return new a(A,this.h|T.h)},t.xor=function(T){const v=Math.max(this.g.length,T.g.length),A=[];for(let S=0;S<v;S++)A[S]=this.i(S)^T.i(S);return new a(A,this.h^T.h)};function z(T){const v=T.g.length+1,A=[];for(let S=0;S<v;S++)A[S]=T.i(S)<<1|T.i(S-1)>>>31;return new a(A,T.h)}function j(T,v){const A=v>>5;v%=32;const S=T.g.length-A,R=[];for(let x=0;x<S;x++)R[x]=v>0?T.i(x+A)>>>v|T.i(x+A+1)<<32-v:T.i(x+A);return new a(R,T.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,vA=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=f,Xi=a}).apply(typeof pv<"u"?pv:typeof self<"u"?self:typeof window<"u"?window:{});var ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var EA,ro,TA,Nu,Jd,bA,AA,SA;(function(){var t,e=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof ru=="object"&&ru];for(var h=0;h<o.length;++h){var d=o[h];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var i=n(this);function r(o,h){if(h)e:{var d=i;o=o.split(".");for(var y=0;y<o.length-1;y++){var M=o[y];if(!(M in d))break e;d=d[M]}o=o[o.length-1],y=d[o],h=h(y),h!=y&&h!=null&&e(d,o,{configurable:!0,writable:!0,value:h})}}r("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(o){return o||function(h){var d=[],y;for(y in h)Object.prototype.hasOwnProperty.call(h,y)&&d.push([y,h[y]]);return d}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(o){var h=typeof o;return h=="object"&&o!=null||h=="function"}function u(o,h,d){return o.call.apply(o.bind,arguments)}function c(o,h,d){return c=u,c.apply(null,arguments)}function f(o,h){var d=Array.prototype.slice.call(arguments,1);return function(){var y=d.slice();return y.push.apply(y,arguments),o.apply(this,y)}}function m(o,h){function d(){}d.prototype=h.prototype,o.Z=h.prototype,o.prototype=new d,o.prototype.constructor=o,o.Ob=function(y,M,P){for(var B=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)B[ee-2]=arguments[ee];return h.prototype[M].apply(y,B)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function g(o){const h=o.length;if(h>0){const d=Array(h);for(let y=0;y<h;y++)d[y]=o[y];return d}return[]}function C(o,h){for(let y=1;y<arguments.length;y++){const M=arguments[y];var d=typeof M;if(d=d!="object"?d:M?Array.isArray(M)?"array":d:"null",d=="array"||d=="object"&&typeof M.length=="number"){d=o.length||0;const P=M.length||0;o.length=d+P;for(let B=0;B<P;B++)o[d+B]=M[B]}else o.push(M)}}class O{constructor(h,d){this.i=h,this.j=d,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function N(o){a.setTimeout(()=>{throw o},0)}function E(){var o=T;let h=null;return o.g&&(h=o.g,o.g=o.g.next,o.g||(o.h=null),h.next=null),h}class _{constructor(){this.h=this.g=null}add(h,d){const y=b.get();y.set(h,d),this.h?this.h.next=y:this.g=y,this.h=y}}var b=new O(()=>new I,o=>o.reset());class I{constructor(){this.next=this.g=this.h=null}set(h,d){this.h=h,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let z,j=!1,T=new _,v=()=>{const o=Promise.resolve(void 0);z=()=>{o.then(A)}};function A(){for(var o;o=E();){try{o.h.call(o.g)}catch(d){N(d)}var h=b;h.j(o),h.h<100&&(h.h++,o.next=h.g,h.g=o)}j=!1}function S(){this.u=this.u,this.C=this.C}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(o,h){this.type=o,this.g=this.target=h,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var x=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,h=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const d=()=>{};a.addEventListener("test",d,h),a.removeEventListener("test",d,h)}catch{}return o}();function w(o){return/^[\s\xa0]*$/.test(o)}function ft(o,h){R.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,h)}m(ft,R),ft.prototype.init=function(o,h){const d=this.type=o.type,y=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=h,h=o.relatedTarget,h||(d=="mouseover"?h=o.fromElement:d=="mouseout"&&(h=o.toElement)),this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&ft.Z.h.call(this)},ft.prototype.h=function(){ft.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var an="closure_listenable_"+(Math.random()*1e6|0),H=0;function te(o,h,d,y,M){this.listener=o,this.proxy=null,this.src=h,this.type=d,this.capture=!!y,this.ha=M,this.key=++H,this.da=this.fa=!1}function J(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function ve(o,h,d){for(const y in o)h.call(d,o[y],y,o)}function je(o,h){for(const d in o)h.call(void 0,o[d],d,o)}function yr(o){const h={};for(const d in o)h[d]=o[d];return h}const _r="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ss(o,h){let d,y;for(let M=1;M<arguments.length;M++){y=arguments[M];for(d in y)o[d]=y[d];for(let P=0;P<_r.length;P++)d=_r[P],Object.prototype.hasOwnProperty.call(y,d)&&(o[d]=y[d])}}function Kt(o){this.src=o,this.g={},this.h=0}Kt.prototype.add=function(o,h,d,y,M){const P=o.toString();o=this.g[P],o||(o=this.g[P]=[],this.h++);const B=wh(o,h,y,M);return B>-1?(h=o[B],d||(h.fa=!1)):(h=new te(h,this.src,P,!!y,M),h.fa=d,o.push(h)),h};function di(o,h){const d=h.type;if(d in o.g){var y=o.g[d],M=Array.prototype.indexOf.call(y,h,void 0),P;(P=M>=0)&&Array.prototype.splice.call(y,M,1),P&&(J(h),o.g[d].length==0&&(delete o.g[d],o.h--))}}function wh(o,h,d,y){for(let M=0;M<o.length;++M){const P=o[M];if(!P.da&&P.listener==h&&P.capture==!!d&&P.ha==y)return M}return-1}var Rh="closure_lm_"+(Math.random()*1e6|0),Ch={};function Cg(o,h,d,y,M){if(Array.isArray(h)){for(let P=0;P<h.length;P++)Cg(o,h[P],d,y,M);return null}return d=Dg(d),o&&o[an]?o.J(h,d,l(y)?!!y.capture:!1,M):t1(o,h,d,!1,y,M)}function t1(o,h,d,y,M,P){if(!h)throw Error("Invalid event type");const B=l(M)?!!M.capture:!!M;let ee=Nh(o);if(ee||(o[Rh]=ee=new Kt(o)),d=ee.add(h,d,y,B,P),d.proxy)return d;if(y=n1(),d.proxy=y,y.src=o,y.listener=d,o.addEventListener)x||(M=B),M===void 0&&(M=!1),o.addEventListener(h.toString(),y,M);else if(o.attachEvent)o.attachEvent(Ng(h.toString()),y);else if(o.addListener&&o.removeListener)o.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return d}function n1(){function o(d){return h.call(o.src,o.listener,d)}const h=i1;return o}function Ig(o,h,d,y,M){if(Array.isArray(h))for(var P=0;P<h.length;P++)Ig(o,h[P],d,y,M);else y=l(y)?!!y.capture:!!y,d=Dg(d),o&&o[an]?(o=o.i,P=String(h).toString(),P in o.g&&(h=o.g[P],d=wh(h,d,y,M),d>-1&&(J(h[d]),Array.prototype.splice.call(h,d,1),h.length==0&&(delete o.g[P],o.h--)))):o&&(o=Nh(o))&&(h=o.g[h.toString()],o=-1,h&&(o=wh(h,d,y,M)),(d=o>-1?h[o]:null)&&Ih(d))}function Ih(o){if(typeof o!="number"&&o&&!o.da){var h=o.src;if(h&&h[an])di(h.i,o);else{var d=o.type,y=o.proxy;h.removeEventListener?h.removeEventListener(d,y,o.capture):h.detachEvent?h.detachEvent(Ng(d),y):h.addListener&&h.removeListener&&h.removeListener(y),(d=Nh(h))?(di(d,o),d.h==0&&(d.src=null,h[Rh]=null)):J(o)}}}function Ng(o){return o in Ch?Ch[o]:Ch[o]="on"+o}function i1(o,h){if(o.da)o=!0;else{h=new ft(h,this);const d=o.listener,y=o.ha||o.src;o.fa&&Ih(o),o=d.call(y,h)}return o}function Nh(o){return o=o[Rh],o instanceof Kt?o:null}var Dh="__closure_events_fn_"+(Math.random()*1e9>>>0);function Dg(o){return typeof o=="function"?o:(o[Dh]||(o[Dh]=function(h){return o.handleEvent(h)}),o[Dh])}function dt(){S.call(this),this.i=new Kt(this),this.M=this,this.G=null}m(dt,S),dt.prototype[an]=!0,dt.prototype.removeEventListener=function(o,h,d,y){Ig(this,o,h,d,y)};function _t(o,h){var d,y=o.G;if(y)for(d=[];y;y=y.G)d.push(y);if(o=o.M,y=h.type||h,typeof h=="string")h=new R(h,o);else if(h instanceof R)h.target=h.target||o;else{var M=h;h=new R(y,o),ss(h,M)}M=!0;let P,B;if(d)for(B=d.length-1;B>=0;B--)P=h.g=d[B],M=Nl(P,y,!0,h)&&M;if(P=h.g=o,M=Nl(P,y,!0,h)&&M,M=Nl(P,y,!1,h)&&M,d)for(B=0;B<d.length;B++)P=h.g=d[B],M=Nl(P,y,!1,h)&&M}dt.prototype.N=function(){if(dt.Z.N.call(this),this.i){var o=this.i;for(const h in o.g){const d=o.g[h];for(let y=0;y<d.length;y++)J(d[y]);delete o.g[h],o.h--}}this.G=null},dt.prototype.J=function(o,h,d,y){return this.i.add(String(o),h,!1,d,y)},dt.prototype.K=function(o,h,d,y){return this.i.add(String(o),h,!0,d,y)};function Nl(o,h,d,y){if(h=o.i.g[String(h)],!h)return!0;h=h.concat();let M=!0;for(let P=0;P<h.length;++P){const B=h[P];if(B&&!B.da&&B.capture==d){const ee=B.listener,$e=B.ha||B.src;B.fa&&di(o.i,B),M=ee.call($e,y)!==!1&&M}}return M&&!y.defaultPrevented}function r1(o,h){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=c(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:a.setTimeout(o,h||0)}function Og(o){o.g=r1(()=>{o.g=null,o.i&&(o.i=!1,Og(o))},o.l);const h=o.h;o.h=null,o.m.apply(null,h)}class s1 extends S{constructor(h,d){super(),this.m=h,this.l=d,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Og(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ra(o){S.call(this),this.h=o,this.g={}}m(Ra,S);var xg=[];function Mg(o){ve(o.g,function(h,d){this.g.hasOwnProperty(d)&&Ih(h)},o),o.g={}}Ra.prototype.N=function(){Ra.Z.N.call(this),Mg(this)},Ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oh=a.JSON.stringify,a1=a.JSON.parse,o1=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function Vg(){}function Pg(){}var Ca={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xh(){R.call(this,"d")}m(xh,R);function Mh(){R.call(this,"c")}m(Mh,R);var vr={},Lg=null;function Dl(){return Lg=Lg||new dt}vr.Ia="serverreachability";function Ug(o){R.call(this,vr.Ia,o)}m(Ug,R);function Ia(o){const h=Dl();_t(h,new Ug(h))}vr.STAT_EVENT="statevent";function kg(o,h){R.call(this,vr.STAT_EVENT,o),this.stat=h}m(kg,R);function vt(o){const h=Dl();_t(h,new kg(h,o))}vr.Ja="timingevent";function zg(o,h){R.call(this,vr.Ja,o),this.size=h}m(zg,R);function Na(o,h){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},h)}function Da(){this.g=!0}Da.prototype.ua=function(){this.g=!1};function l1(o,h,d,y,M,P){o.info(function(){if(o.g)if(P){var B="",ee=P.split("&");for(let ye=0;ye<ee.length;ye++){var $e=ee[ye].split("=");if($e.length>1){const Ze=$e[0];$e=$e[1];const mn=Ze.split("_");B=mn.length>=2&&mn[1]=="type"?B+(Ze+"="+$e+"&"):B+(Ze+"=redacted&")}}}else B=null;else B=P;return"XMLHTTP REQ ("+y+") [attempt "+M+"]: "+h+`
`+d+`
`+B})}function u1(o,h,d,y,M,P,B){o.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+M+"]: "+h+`
`+d+`
`+P+" "+B})}function as(o,h,d,y){o.info(function(){return"XMLHTTP TEXT ("+h+"): "+h1(o,d)+(y?" "+y:"")})}function c1(o,h){o.info(function(){return"TIMEOUT: "+h})}Da.prototype.info=function(){};function h1(o,h){if(!o.g)return h;if(!h)return null;try{const P=JSON.parse(h);if(P){for(o=0;o<P.length;o++)if(Array.isArray(P[o])){var d=P[o];if(!(d.length<2)){var y=d[1];if(Array.isArray(y)&&!(y.length<1)){var M=y[0];if(M!="noop"&&M!="stop"&&M!="close")for(let B=1;B<y.length;B++)y[B]=""}}}}return Oh(P)}catch{return h}}var Ol={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jg={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bg;function Vh(){}m(Vh,Vg),Vh.prototype.g=function(){return new XMLHttpRequest},Bg=new Vh;function Oa(o){return encodeURIComponent(String(o))}function f1(o){var h=1;o=o.split(":");const d=[];for(;h>0&&o.length;)d.push(o.shift()),h--;return o.length&&d.push(o.join(":")),d}function mi(o,h,d,y){this.j=o,this.i=h,this.l=d,this.S=y||1,this.V=new Ra(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qg}function qg(){this.i=null,this.g="",this.h=!1}var Hg={},Ph={};function Lh(o,h,d){o.M=1,o.A=Ml(dn(h)),o.u=d,o.R=!0,Fg(o,null)}function Fg(o,h){o.F=Date.now(),xl(o),o.B=dn(o.A);var d=o.B,y=o.S;Array.isArray(y)||(y=[String(y)]),iy(d.i,"t",y),o.C=0,d=o.j.L,o.h=new qg,o.g=Ty(o.j,d?h:null,!o.u),o.P>0&&(o.O=new s1(c(o.Y,o,o.g),o.P)),h=o.V,d=o.g,y=o.ba;var M="readystatechange";Array.isArray(M)||(M&&(xg[0]=M.toString()),M=xg);for(let P=0;P<M.length;P++){const B=Cg(d,M[P],y||h.handleEvent,!1,h.h||h);if(!B)break;h.g[B.key]=B}h=o.J?yr(o.J):{},o.u?(o.v||(o.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,h)):(o.v="GET",o.g.ea(o.B,o.v,null,h)),Ia(),l1(o.i,o.v,o.B,o.l,o.S,o.u)}mi.prototype.ba=function(o){o=o.target;const h=this.O;h&&yi(o)==3?h.j():this.Y(o)},mi.prototype.Y=function(o){try{if(o==this.g)e:{const ee=yi(this.g),$e=this.g.ya(),ye=this.g.ca();if(!(ee<3)&&(ee!=3||this.g&&(this.h.h||this.g.la()||cy(this.g)))){this.K||ee!=4||$e==7||($e==8||ye<=0?Ia(3):Ia(2)),Uh(this);var h=this.g.ca();this.X=h;var d=d1(this);if(this.o=h==200,u1(this.i,this.v,this.B,this.l,this.S,ee,h),this.o){if(this.U&&!this.L){t:{if(this.g){var y,M=this.g;if((y=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(y)){var P=y;break t}}P=null}if(o=P)as(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,kh(this,o);else{this.o=!1,this.m=3,vt(12),Er(this),xa(this);break e}}if(this.R){o=!0;let Ze;for(;!this.K&&this.C<d.length;)if(Ze=m1(this,d),Ze==Ph){ee==4&&(this.m=4,vt(14),o=!1),as(this.i,this.l,null,"[Incomplete Response]");break}else if(Ze==Hg){this.m=4,vt(15),as(this.i,this.l,d,"[Invalid Chunk]"),o=!1;break}else as(this.i,this.l,Ze,null),kh(this,Ze);if(Gg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ee!=4||d.length!=0||this.h.h||(this.m=1,vt(16),o=!1),this.o=this.o&&o,!o)as(this.i,this.l,d,"[Invalid Chunked Response]"),Er(this),xa(this);else if(d.length>0&&!this.W){this.W=!0;var B=this.j;B.g==this&&B.aa&&!B.P&&(B.j.info("Great, no buffering proxy detected. Bytes received: "+d.length),Kh(B),B.P=!0,vt(11))}}else as(this.i,this.l,d,null),kh(this,d);ee==4&&Er(this),this.o&&!this.K&&(ee==4?yy(this.j,this):(this.o=!1,xl(this)))}else I1(this.g),h==400&&d.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),Er(this),xa(this)}}}catch{}finally{}};function d1(o){if(!Gg(o))return o.g.la();const h=cy(o.g);if(h==="")return"";let d="";const y=h.length,M=yi(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return Er(o),xa(o),"";o.h.i=new a.TextDecoder}for(let P=0;P<y;P++)o.h.h=!0,d+=o.h.i.decode(h[P],{stream:!(M&&P==y-1)});return h.length=0,o.h.g+=d,o.C=0,o.h.g}function Gg(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function m1(o,h){var d=o.C,y=h.indexOf(`
`,d);return y==-1?Ph:(d=Number(h.substring(d,y)),isNaN(d)?Hg:(y+=1,y+d>h.length?Ph:(h=h.slice(y,y+d),o.C=y+d,h)))}mi.prototype.cancel=function(){this.K=!0,Er(this)};function xl(o){o.T=Date.now()+o.H,Kg(o,o.H)}function Kg(o,h){if(o.D!=null)throw Error("WatchDog timer not null");o.D=Na(c(o.aa,o),h)}function Uh(o){o.D&&(a.clearTimeout(o.D),o.D=null)}mi.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(c1(this.i,this.B),this.M!=2&&(Ia(),vt(17)),Er(this),this.m=2,xa(this)):Kg(this,this.T-o)};function xa(o){o.j.I==0||o.K||yy(o.j,o)}function Er(o){Uh(o);var h=o.O;h&&typeof h.dispose=="function"&&h.dispose(),o.O=null,Mg(o.V),o.g&&(h=o.g,o.g=null,h.abort(),h.dispose())}function kh(o,h){try{var d=o.j;if(d.I!=0&&(d.g==o||zh(d.h,o))){if(!o.L&&zh(d.h,o)&&d.I==3){try{var y=d.Ba.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var M=y;if(M[0]==0){e:if(!d.v){if(d.g)if(d.g.F+3e3<o.F)kl(d),Ll(d);else break e;Gh(d),vt(18)}}else d.xa=M[1],0<d.xa-d.K&&M[2]<37500&&d.F&&d.A==0&&!d.C&&(d.C=Na(c(d.Va,d),6e3));$g(d.h)<=1&&d.ta&&(d.ta=void 0)}else br(d,11)}else if((o.L||d.g==o)&&kl(d),!w(h))for(M=d.Ba.g.parse(h),h=0;h<M.length;h++){let ye=M[h];const Ze=ye[0];if(!(Ze<=d.K))if(d.K=Ze,ye=ye[1],d.I==2)if(ye[0]=="c"){d.M=ye[1],d.ba=ye[2];const mn=ye[3];mn!=null&&(d.ka=mn,d.j.info("VER="+d.ka));const Ar=ye[4];Ar!=null&&(d.za=Ar,d.j.info("SVER="+d.za));const _i=ye[5];_i!=null&&typeof _i=="number"&&_i>0&&(y=1.5*_i,d.O=y,d.j.info("backChannelRequestTimeoutMs_="+y)),y=d;const vi=o.g;if(vi){const jl=vi.g?vi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jl){var P=y.h;P.g||jl.indexOf("spdy")==-1&&jl.indexOf("quic")==-1&&jl.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(jh(P,P.h),P.h=null))}if(y.G){const Qh=vi.g?vi.g.getResponseHeader("X-HTTP-Session-Id"):null;Qh&&(y.wa=Qh,be(y.J,y.G,Qh))}}d.I=3,d.l&&d.l.ra(),d.aa&&(d.T=Date.now()-o.F,d.j.info("Handshake RTT: "+d.T+"ms")),y=d;var B=o;if(y.na=Ey(y,y.L?y.ba:null,y.W),B.L){Xg(y.h,B);var ee=B,$e=y.O;$e&&(ee.H=$e),ee.D&&(Uh(ee),xl(ee)),y.g=B}else py(y);d.i.length>0&&Ul(d)}else ye[0]!="stop"&&ye[0]!="close"||br(d,7);else d.I==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?br(d,7):Fh(d):ye[0]!="noop"&&d.l&&d.l.qa(ye),d.A=0)}}Ia(4)}catch{}}var p1=class{constructor(o,h){this.g=o,this.map=h}};function Qg(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yg(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function $g(o){return o.h?1:o.g?o.g.size:0}function zh(o,h){return o.h?o.h==h:o.g?o.g.has(h):!1}function jh(o,h){o.g?o.g.add(h):o.h=h}function Xg(o,h){o.h&&o.h==h?o.h=null:o.g&&o.g.has(h)&&o.g.delete(h)}Qg.prototype.cancel=function(){if(this.i=Jg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Jg(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let h=o.i;for(const d of o.g.values())h=h.concat(d.G);return h}return g(o.i)}var Wg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function g1(o,h){if(o){o=o.split("&");for(let d=0;d<o.length;d++){const y=o[d].indexOf("=");let M,P=null;y>=0?(M=o[d].substring(0,y),P=o[d].substring(y+1)):M=o[d],h(M,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function pi(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;o instanceof pi?(this.l=o.l,Ma(this,o.j),this.o=o.o,this.g=o.g,Va(this,o.u),this.h=o.h,Bh(this,ry(o.i)),this.m=o.m):o&&(h=String(o).match(Wg))?(this.l=!1,Ma(this,h[1]||"",!0),this.o=Pa(h[2]||""),this.g=Pa(h[3]||"",!0),Va(this,h[4]),this.h=Pa(h[5]||"",!0),Bh(this,h[6]||"",!0),this.m=Pa(h[7]||"")):(this.l=!1,this.i=new Ua(null,this.l))}pi.prototype.toString=function(){const o=[];var h=this.j;h&&o.push(La(h,Zg,!0),":");var d=this.g;return(d||h=="file")&&(o.push("//"),(h=this.o)&&o.push(La(h,Zg,!0),"@"),o.push(Oa(d).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.u,d!=null&&o.push(":",String(d))),(d=this.h)&&(this.g&&d.charAt(0)!="/"&&o.push("/"),o.push(La(d,d.charAt(0)=="/"?v1:_1,!0))),(d=this.i.toString())&&o.push("?",d),(d=this.m)&&o.push("#",La(d,T1)),o.join("")},pi.prototype.resolve=function(o){const h=dn(this);let d=!!o.j;d?Ma(h,o.j):d=!!o.o,d?h.o=o.o:d=!!o.g,d?h.g=o.g:d=o.u!=null;var y=o.h;if(d)Va(h,o.u);else if(d=!!o.h){if(y.charAt(0)!="/")if(this.g&&!this.h)y="/"+y;else{var M=h.h.lastIndexOf("/");M!=-1&&(y=h.h.slice(0,M+1)+y)}if(M=y,M==".."||M==".")y="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){y=M.lastIndexOf("/",0)==0,M=M.split("/");const P=[];for(let B=0;B<M.length;){const ee=M[B++];ee=="."?y&&B==M.length&&P.push(""):ee==".."?((P.length>1||P.length==1&&P[0]!="")&&P.pop(),y&&B==M.length&&P.push("")):(P.push(ee),y=!0)}y=P.join("/")}else y=M}return d?h.h=y:d=o.i.toString()!=="",d?Bh(h,ry(o.i)):d=!!o.m,d&&(h.m=o.m),h};function dn(o){return new pi(o)}function Ma(o,h,d){o.j=d?Pa(h,!0):h,o.j&&(o.j=o.j.replace(/:$/,""))}function Va(o,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);o.u=h}else o.u=null}function Bh(o,h,d){h instanceof Ua?(o.i=h,b1(o.i,o.l)):(d||(h=La(h,E1)),o.i=new Ua(h,o.l))}function be(o,h,d){o.i.set(h,d)}function Ml(o){return be(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function Pa(o,h){return o?h?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function La(o,h,d){return typeof o=="string"?(o=encodeURI(o).replace(h,y1),d&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function y1(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Zg=/[#\/\?@]/g,_1=/[#\?:]/g,v1=/[#\?]/g,E1=/[#\?@]/g,T1=/#/g;function Ua(o,h){this.h=this.g=null,this.i=o||null,this.j=!!h}function Tr(o){o.g||(o.g=new Map,o.h=0,o.i&&g1(o.i,function(h,d){o.add(decodeURIComponent(h.replace(/\+/g," ")),d)}))}t=Ua.prototype,t.add=function(o,h){Tr(this),this.i=null,o=os(this,o);let d=this.g.get(o);return d||this.g.set(o,d=[]),d.push(h),this.h+=1,this};function ey(o,h){Tr(o),h=os(o,h),o.g.has(h)&&(o.i=null,o.h-=o.g.get(h).length,o.g.delete(h))}function ty(o,h){return Tr(o),h=os(o,h),o.g.has(h)}t.forEach=function(o,h){Tr(this),this.g.forEach(function(d,y){d.forEach(function(M){o.call(h,M,y,this)},this)},this)};function ny(o,h){Tr(o);let d=[];if(typeof h=="string")ty(o,h)&&(d=d.concat(o.g.get(os(o,h))));else for(o=Array.from(o.g.values()),h=0;h<o.length;h++)d=d.concat(o[h]);return d}t.set=function(o,h){return Tr(this),this.i=null,o=os(this,o),ty(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[h]),this.h+=1,this},t.get=function(o,h){return o?(o=ny(this,o),o.length>0?String(o[0]):h):h};function iy(o,h,d){ey(o,h),d.length>0&&(o.i=null,o.g.set(os(o,h),g(d)),o.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],h=Array.from(this.g.keys());for(let y=0;y<h.length;y++){var d=h[y];const M=Oa(d);d=ny(this,d);for(let P=0;P<d.length;P++){let B=M;d[P]!==""&&(B+="="+Oa(d[P])),o.push(B)}}return this.i=o.join("&")};function ry(o){const h=new Ua;return h.i=o.i,o.g&&(h.g=new Map(o.g),h.h=o.h),h}function os(o,h){return h=String(h),o.j&&(h=h.toLowerCase()),h}function b1(o,h){h&&!o.j&&(Tr(o),o.i=null,o.g.forEach(function(d,y){const M=y.toLowerCase();y!=M&&(ey(this,y),iy(this,M,d))},o)),o.j=h}function A1(o,h){const d=new Da;if(a.Image){const y=new Image;y.onload=f(gi,d,"TestLoadImage: loaded",!0,h,y),y.onerror=f(gi,d,"TestLoadImage: error",!1,h,y),y.onabort=f(gi,d,"TestLoadImage: abort",!1,h,y),y.ontimeout=f(gi,d,"TestLoadImage: timeout",!1,h,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=o}else h(!1)}function S1(o,h){const d=new Da,y=new AbortController,M=setTimeout(()=>{y.abort(),gi(d,"TestPingServer: timeout",!1,h)},1e4);fetch(o,{signal:y.signal}).then(P=>{clearTimeout(M),P.ok?gi(d,"TestPingServer: ok",!0,h):gi(d,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(M),gi(d,"TestPingServer: error",!1,h)})}function gi(o,h,d,y,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),y(d)}catch{}}function w1(){this.g=new o1}function qh(o){this.i=o.Sb||null,this.h=o.ab||!1}m(qh,Vg),qh.prototype.g=function(){return new Vl(this.i,this.h)};function Vl(o,h){dt.call(this),this.H=o,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Vl,dt),t=Vl.prototype,t.open=function(o,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=h,this.readyState=1,za(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(h.body=o),(this.H||a).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ka(this)),this.readyState=0},t.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,za(this)),this.g&&(this.readyState=3,za(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sy(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function sy(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}t.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var h=o.value?o.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!o.done}))&&(this.response=this.responseText+=h)}o.done?ka(this):za(this),this.readyState==3&&sy(this)}},t.Oa=function(o){this.g&&(this.response=this.responseText=o,ka(this))},t.Na=function(o){this.g&&(this.response=o,ka(this))},t.ga=function(){this.g&&ka(this)};function ka(o){o.readyState=4,o.l=null,o.j=null,o.B=null,za(o)}t.setRequestHeader=function(o,h){this.A.append(o,h)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],h=this.h.entries();for(var d=h.next();!d.done;)d=d.value,o.push(d[0]+": "+d[1]),d=h.next();return o.join(`\r
`)};function za(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Vl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function ay(o){let h="";return ve(o,function(d,y){h+=y,h+=":",h+=d,h+=`\r
`}),h}function Hh(o,h,d){e:{for(y in d){var y=!1;break e}y=!0}y||(d=ay(d),typeof o=="string"?d!=null&&Oa(d):be(o,h,d))}function Oe(o){dt.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Oe,dt);var R1=/^https?$/i,C1=["POST","PUT"];t=Oe.prototype,t.Fa=function(o){this.H=o},t.ea=function(o,h,d,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);h=h?h.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bg.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(h,String(o),!0),this.B=!1}catch(P){oy(this,P);return}if(o=d||"",d=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var M in y)d.set(M,y[M]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const P of y.keys())d.set(P,y.get(P));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(d.keys()).find(P=>P.toLowerCase()=="content-type"),M=a.FormData&&o instanceof a.FormData,!(Array.prototype.indexOf.call(C1,h,void 0)>=0)||y||M||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,B]of d)this.g.setRequestHeader(P,B);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(P){oy(this,P)}};function oy(o,h){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=h,o.o=5,ly(o),Pl(o)}function ly(o){o.A||(o.A=!0,_t(o,"complete"),_t(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,_t(this,"complete"),_t(this,"abort"),Pl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pl(this,!0)),Oe.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?uy(this):this.Xa())},t.Xa=function(){uy(this)};function uy(o){if(o.h&&typeof s<"u"){if(o.v&&yi(o)==4)setTimeout(o.Ca.bind(o),0);else if(_t(o,"readystatechange"),yi(o)==4){o.h=!1;try{const P=o.ca();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var d;if(!(d=h)){var y;if(y=P===0){let B=String(o.D).match(Wg)[1]||null;!B&&a.self&&a.self.location&&(B=a.self.location.protocol.slice(0,-1)),y=!R1.test(B?B.toLowerCase():"")}d=y}if(d)_t(o,"complete"),_t(o,"success");else{o.o=6;try{var M=yi(o)>2?o.g.statusText:""}catch{M=""}o.l=M+" ["+o.ca()+"]",ly(o)}}finally{Pl(o)}}}}function Pl(o,h){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const d=o.g;o.g=null,h||_t(o,"ready");try{d.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function yi(o){return o.g?o.g.readyState:0}t.ca=function(){try{return yi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(o){if(this.g){var h=this.g.responseText;return o&&h.indexOf(o)==0&&(h=h.substring(o.length)),a1(h)}};function cy(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function I1(o){const h={};o=(o.g&&yi(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<o.length;y++){if(w(o[y]))continue;var d=f1(o[y]);const M=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const P=h[M]||[];h[M]=P,P.push(d)}je(h,function(y){return y.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ja(o,h,d){return d&&d.internalChannelParams&&d.internalChannelParams[o]||h}function hy(o){this.za=0,this.i=[],this.j=new Da,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ja("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ja("baseRetryDelayMs",5e3,o),this.Za=ja("retryDelaySeedMs",1e4,o),this.Ta=ja("forwardChannelMaxRetries",2,o),this.va=ja("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new Qg(o&&o.concurrentRequestLimit),this.Ba=new w1,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=hy.prototype,t.ka=8,t.I=1,t.connect=function(o,h,d,y){vt(0),this.W=o,this.H=h||{},d&&y!==void 0&&(this.H.OSID=d,this.H.OAID=y),this.F=this.X,this.J=Ey(this,null,this.W),Ul(this)};function Fh(o){if(fy(o),o.I==3){var h=o.V++,d=dn(o.J);if(be(d,"SID",o.M),be(d,"RID",h),be(d,"TYPE","terminate"),Ba(o,d),h=new mi(o,o.j,h),h.M=2,h.A=Ml(dn(d)),d=!1,a.navigator&&a.navigator.sendBeacon)try{d=a.navigator.sendBeacon(h.A.toString(),"")}catch{}!d&&a.Image&&(new Image().src=h.A,d=!0),d||(h.g=Ty(h.j,null),h.g.ea(h.A)),h.F=Date.now(),xl(h)}vy(o)}function Ll(o){o.g&&(Kh(o),o.g.cancel(),o.g=null)}function fy(o){Ll(o),o.v&&(a.clearTimeout(o.v),o.v=null),kl(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&a.clearTimeout(o.m),o.m=null)}function Ul(o){if(!Yg(o.h)&&!o.m){o.m=!0;var h=o.Ea;z||v(),j||(z(),j=!0),T.add(h,o),o.D=0}}function N1(o,h){return $g(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=h.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=Na(c(o.Ea,o,h),_y(o,o.D)),o.D++,!0)}t.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const M=new mi(this,this.j,o);let P=this.o;if(this.U&&(P?(P=yr(P),ss(P,this.U)):P=this.U),this.u!==null||this.R||(M.J=P,P=null),this.S)e:{for(var h=0,d=0;d<this.i.length;d++){t:{var y=this.i[d];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,h>4096){h=d;break e}if(h===4096||d===this.i.length-1){h=d+1;break e}}h=1e3}else h=1e3;h=my(this,M,h),d=dn(this.J),be(d,"RID",o),be(d,"CVER",22),this.G&&be(d,"X-HTTP-Session-Id",this.G),Ba(this,d),P&&(this.R?h="headers="+Oa(ay(P))+"&"+h:this.u&&Hh(d,this.u,P)),jh(this.h,M),this.Ra&&be(d,"TYPE","init"),this.S?(be(d,"$req",h),be(d,"SID","null"),M.U=!0,Lh(M,d,null)):Lh(M,d,h),this.I=2}}else this.I==3&&(o?dy(this,o):this.i.length==0||Yg(this.h)||dy(this))};function dy(o,h){var d;h?d=h.l:d=o.V++;const y=dn(o.J);be(y,"SID",o.M),be(y,"RID",d),be(y,"AID",o.K),Ba(o,y),o.u&&o.o&&Hh(y,o.u,o.o),d=new mi(o,o.j,d,o.D+1),o.u===null&&(d.J=o.o),h&&(o.i=h.G.concat(o.i)),h=my(o,d,1e3),d.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),jh(o.h,d),Lh(d,y,h)}function Ba(o,h){o.H&&ve(o.H,function(d,y){be(h,y,d)}),o.l&&ve({},function(d,y){be(h,y,d)})}function my(o,h,d){d=Math.min(o.i.length,d);const y=o.l?c(o.l.Ka,o.l,o):null;e:{var M=o.i;let ee=-1;for(;;){const $e=["count="+d];ee==-1?d>0?(ee=M[0].g,$e.push("ofs="+ee)):ee=0:$e.push("ofs="+ee);let ye=!0;for(let Ze=0;Ze<d;Ze++){var P=M[Ze].g;const mn=M[Ze].map;if(P-=ee,P<0)ee=Math.max(0,M[Ze].g-100),ye=!1;else try{P="req"+P+"_"||"";try{var B=mn instanceof Map?mn:Object.entries(mn);for(const[Ar,_i]of B){let vi=_i;l(_i)&&(vi=Oh(_i)),$e.push(P+Ar+"="+encodeURIComponent(vi))}}catch(Ar){throw $e.push(P+"type="+encodeURIComponent("_badmap")),Ar}}catch{y&&y(mn)}}if(ye){B=$e.join("&");break e}}B=void 0}return o=o.i.splice(0,d),h.G=o,B}function py(o){if(!o.g&&!o.v){o.Y=1;var h=o.Da;z||v(),j||(z(),j=!0),T.add(h,o),o.A=0}}function Gh(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=Na(c(o.Da,o),_y(o,o.A)),o.A++,!0)}t.Da=function(){if(this.v=null,gy(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=Na(c(this.Wa,this),o)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),Ll(this),gy(this))};function Kh(o){o.B!=null&&(a.clearTimeout(o.B),o.B=null)}function gy(o){o.g=new mi(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var h=dn(o.na);be(h,"RID","rpc"),be(h,"SID",o.M),be(h,"AID",o.K),be(h,"CI",o.F?"0":"1"),!o.F&&o.ia&&be(h,"TO",o.ia),be(h,"TYPE","xmlhttp"),Ba(o,h),o.u&&o.o&&Hh(h,o.u,o.o),o.O&&(o.g.H=o.O);var d=o.g;o=o.ba,d.M=1,d.A=Ml(dn(h)),d.u=null,d.R=!0,Fg(d,o)}t.Va=function(){this.C!=null&&(this.C=null,Ll(this),Gh(this),vt(19))};function kl(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function yy(o,h){var d=null;if(o.g==h){kl(o),Kh(o),o.g=null;var y=2}else if(zh(o.h,h))d=h.G,Xg(o.h,h),y=1;else return;if(o.I!=0){if(h.o)if(y==1){d=h.u?h.u.length:0,h=Date.now()-h.F;var M=o.D;y=Dl(),_t(y,new zg(y,d)),Ul(o)}else py(o);else if(M=h.m,M==3||M==0&&h.X>0||!(y==1&&N1(o,h)||y==2&&Gh(o)))switch(d&&d.length>0&&(h=o.h,h.i=h.i.concat(d)),M){case 1:br(o,5);break;case 4:br(o,10);break;case 3:br(o,6);break;default:br(o,2)}}}function _y(o,h){let d=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(d*=2),d*h}function br(o,h){if(o.j.info("Error code "+h),h==2){var d=c(o.bb,o),y=o.Ua;const M=!y;y=new pi(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ma(y,"https"),Ml(y),M?A1(y.toString(),d):S1(y.toString(),d)}else vt(2);o.I=0,o.l&&o.l.pa(h),vy(o),fy(o)}t.bb=function(o){o?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function vy(o){if(o.I=0,o.ja=[],o.l){const h=Jg(o.h);(h.length!=0||o.i.length!=0)&&(C(o.ja,h),C(o.ja,o.i),o.h.i.length=0,g(o.i),o.i.length=0),o.l.oa()}}function Ey(o,h,d){var y=d instanceof pi?dn(d):new pi(d);if(y.g!="")h&&(y.g=h+"."+y.g),Va(y,y.u);else{var M=a.location;y=M.protocol,h=h?h+"."+M.hostname:M.hostname,M=+M.port;const P=new pi(null);y&&Ma(P,y),h&&(P.g=h),M&&Va(P,M),d&&(P.h=d),y=P}return d=o.G,h=o.wa,d&&h&&be(y,d,h),be(y,"VER",o.ka),Ba(o,y),y}function Ty(o,h,d){if(h&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=o.Aa&&!o.ma?new Oe(new qh({ab:d})):new Oe(o.ma),h.Fa(o.L),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function by(){}t=by.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function zl(){}zl.prototype.g=function(o,h){return new Mt(o,h)};function Mt(o,h){dt.call(this),this.g=new hy(h),this.l=o,this.h=h&&h.messageUrlParams||null,o=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(o?o["X-WebChannel-Content-Type"]=h.messageContentType:o={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(o?o["X-WebChannel-Client-Profile"]=h.sa:o={"X-WebChannel-Client-Profile":h.sa}),this.g.U=o,(o=h&&h.Qb)&&!w(o)&&(this.g.u=o),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!w(h)&&(this.g.G=h,o=this.h,o!==null&&h in o&&(o=this.h,h in o&&delete o[h])),this.j=new ls(this)}m(Mt,dt),Mt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Mt.prototype.close=function(){Fh(this.g)},Mt.prototype.o=function(o){var h=this.g;if(typeof o=="string"){var d={};d.__data__=o,o=d}else this.v&&(d={},d.__data__=Oh(o),o=d);h.i.push(new p1(h.Ya++,o)),h.I==3&&Ul(h)},Mt.prototype.N=function(){this.g.l=null,delete this.j,Fh(this.g),delete this.g,Mt.Z.N.call(this)};function Ay(o){xh.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var h=o.__sm__;if(h){e:{for(const d in h){o=d;break e}o=void 0}(this.i=o)&&(o=this.i,h=h!==null&&o in h?h[o]:void 0),this.data=h}else this.data=o}m(Ay,xh);function Sy(){Mh.call(this),this.status=1}m(Sy,Mh);function ls(o){this.g=o}m(ls,by),ls.prototype.ra=function(){_t(this.g,"a")},ls.prototype.qa=function(o){_t(this.g,new Ay(o))},ls.prototype.pa=function(o){_t(this.g,new Sy)},ls.prototype.oa=function(){_t(this.g,"b")},zl.prototype.createWebChannel=zl.prototype.g,Mt.prototype.send=Mt.prototype.o,Mt.prototype.open=Mt.prototype.m,Mt.prototype.close=Mt.prototype.close,SA=function(){return new zl},AA=function(){return Dl()},bA=vr,Jd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ol.NO_ERROR=0,Ol.TIMEOUT=8,Ol.HTTP_ERROR=6,Nu=Ol,jg.COMPLETE="complete",TA=jg,Pg.EventType=Ca,Ca.OPEN="a",Ca.CLOSE="b",Ca.ERROR="c",Ca.MESSAGE="d",dt.prototype.listen=dt.prototype.J,ro=Pg,Oe.prototype.listenOnce=Oe.prototype.K,Oe.prototype.getLastError=Oe.prototype.Ha,Oe.prototype.getLastErrorCode=Oe.prototype.ya,Oe.prototype.getStatus=Oe.prototype.ca,Oe.prototype.getResponseJson=Oe.prototype.La,Oe.prototype.getResponseText=Oe.prototype.la,Oe.prototype.send=Oe.prototype.ea,Oe.prototype.setWithCredentials=Oe.prototype.Fa,EA=Oe}).apply(typeof ru<"u"?ru:typeof self<"u"?self:typeof window<"u"?window:{});const gv="@firebase/firestore",yv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pt.UNAUTHENTICATED=new pt(null),pt.GOOGLE_CREDENTIALS=new pt("google-credentials-uid"),pt.FIRST_PARTY=new pt("first-party-uid"),pt.MOCK_USER=new pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let va="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new Ip("@firebase/firestore");function ms(){return Gr.logLevel}function F(t,...e){if(Gr.logLevel<=re.DEBUG){const n=e.map(Op);Gr.debug(`Firestore (${va}): ${t}`,...n)}}function oi(t,...e){if(Gr.logLevel<=re.ERROR){const n=e.map(Op);Gr.error(`Firestore (${va}): ${t}`,...n)}}function ea(t,...e){if(Gr.logLevel<=re.WARN){const n=e.map(Op);Gr.warn(`Firestore (${va}): ${t}`,...n)}}function Op(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,wA(t,i,n)}function wA(t,e,n){let i=`FIRESTORE (${va}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw oi(i),new Error(i)}function fe(t,e,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,t||wA(e,r,i)}function X(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends Pn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pt.UNAUTHENTICATED))}shutdown(){}}class MD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class VD{constructor(e){this.t=e,this.currentUser=pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){fe(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new Zn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Zn,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Zn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(fe(typeof i.accessToken=="string",31837,{l:i}),new RA(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fe(e===null||typeof e=="string",2055,{h:e}),new pt(e)}}class PD{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=pt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class LD{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new PD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _v{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,en(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){fe(this.o===void 0,3512);const i=s=>{s.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,F("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new _v(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new _v(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=kD(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%62))}return i}}function se(t,e){return t<e?-1:t>e?1:0}function Wd(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const r=t.charAt(i),s=e.charAt(i);if(r!==s)return zf(r)===zf(s)?se(r,s):zf(r)?1:-1}return se(t.length,e.length)}const zD=55296,jD=57343;function zf(t){const e=t.charCodeAt(0);return e>=zD&&e<=jD}function ta(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="__name__";class pn{constructor(e,n,i){n===void 0?n=0:n>e.length&&Q(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Q(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return pn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pn?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=pn.compareSegments(e.get(r),n.get(r));if(s!==0)return s}return se(e.length,n.length)}static compareSegments(e,n){const i=pn.isNumericId(e),r=pn.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?pn.extractNumericId(e).compare(pn.extractNumericId(n)):Wd(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xi.fromString(e.substring(4,e.length-2))}}class Ee extends pn{construct(e,n,i){return new Ee(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new q(L.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Ee(n)}static emptyPath(){return new Ee([])}}const BD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lt extends pn{construct(e,n,i){return new lt(e,n,i)}static isValidIdentifier(e){return BD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vv}static keyField(){return new lt([vv])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new q(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new q(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new q(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new q(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lt(n)}static emptyPath(){return new lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(Ee.fromString(e))}static fromName(e){return new G(Ee.fromString(e).popFirst(5))}static empty(){return new G(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ee.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new Ee(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(t,e,n){if(!n)throw new q(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function qD(t,e,n,i){if(e===!0&&i===!0)throw new q(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ev(t){if(!G.isDocumentKey(t))throw new q(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Tv(t){if(G.isDocumentKey(t))throw new q(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function IA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ih(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q(12329,{type:typeof t})}function rr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ih(t);throw new q(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t,e){const n={typeString:t};return e&&(n.value=e),n}function _l(t,e){if(!IA(t))throw new q(L.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const r=e[i].typeString,s="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const a=t[i];if(r&&typeof a!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${i}' field to equal '${s.value}'`;break}}if(n)throw new q(L.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=-62135596800,Av=1e6;class we{static now(){return we.fromMillis(Date.now())}static fromDate(e){return we.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Av);return new we(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<bv)throw new q(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Av}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:we._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_l(e,we._jsonSchema))return new we(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-bv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}we._jsonSchemaVersion="firestore/timestamp/1.0",we._jsonSchema={type:Qe("string",we._jsonSchemaVersion),seconds:Qe("number"),nanoseconds:Qe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${static fromTimestamp(e){return new $(e)}static min(){return new $(new we(0,0))}static max(){return new $(new we(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=-1;function HD(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=$.fromTimestamp(i===1e9?new we(n+1,0):new we(n,i));return new sr(r,G.empty(),e)}function FD(t){return new sr(t.readTime,t.key,Ko)}class sr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new sr($.min(),G.empty(),Ko)}static max(){return new sr($.max(),G.empty(),Ko)}}function GD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ea(t){if(t.code!==L.FAILED_PRECONDITION||t.message!==KD)throw t;F("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new k((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof k?n:k.resolve(n)}catch(n){return k.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):k.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):k.reject(n)}static resolve(e){return new k((n,i)=>{n(e)})}static reject(e){return new k((n,i)=>{i(e)})}static waitFor(e){return new k((n,i)=>{let r=0,s=0,a=!1;e.forEach(l=>{++r,l.next(()=>{++s,a&&s===r&&n()},u=>i(u))}),a=!0,s===r&&n()})}static or(e){let n=k.resolve(!1);for(const i of e)n=n.next(r=>r?k.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new k((i,r)=>{const s=e.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(f=>{a[c]=f,++l,l===s&&i(a)},f=>r(f))}})}static doWhile(e,n){return new k((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function YD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ta(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}rh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp=-1;function sh(t){return t==null}function yc(t){return t===0&&1/t==-1/0}function $D(t){return typeof t=="number"&&Number.isInteger(t)&&!yc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="";function XD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Sv(e)),e=JD(t.get(n),e);return Sv(e)}function JD(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const s=t.charAt(r);switch(s){case"\0":n+="";break;case NA:n+="";break;default:n+=s}}return n}function Sv(t){return t+NA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function DA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,n){this.comparator=e,this.root=n||st.EMPTY}insert(e,n){return new De(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,st.BLACK,null,null))}remove(e){return new De(this.comparator,this.root.remove(e,this.comparator).copy(null,null,st.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new su(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new su(this.root,e,this.comparator,!1)}getReverseIterator(){return new su(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new su(this.root,e,this.comparator,!0)}}class su{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class st{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??st.RED,this.left=r??st.EMPTY,this.right=s??st.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new st(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return st.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return st.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Q(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Q(27949);return e+(this.isRed()?0:1)}}st.EMPTY=null,st.RED=!0,st.BLACK=!1;st.EMPTY=new class{constructor(){this.size=0}get key(){throw Q(57766)}get value(){throw Q(16141)}get color(){throw Q(16727)}get left(){throw Q(29726)}get right(){throw Q(36894)}copy(e,n,i,r,s){return this}insert(e,n,i){return new st(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.comparator=e,this.data=new De(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Rv(this.data.getIterator())}getIteratorFrom(e){return new Rv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Je)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Je(this.comparator);return n.data=e,n}}class Rv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.fields=e,e.sort(lt.comparator)}static empty(){return new kt([])}unionWith(e){let n=new Je(lt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new kt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ta(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new OA("Invalid base64 string: "+s):s}}(e);return new ht(n)}static fromUint8Array(e){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(e);return new ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ht.EMPTY_BYTE_STRING=new ht("");const WD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ar(t){if(fe(!!t,39018),typeof t=="string"){let e=0;const n=WD.exec(t);if(fe(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ue(t.seconds),nanos:Ue(t.nanos)}}function Ue(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function or(t){return typeof t=="string"?ht.fromBase64String(t):ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="server_timestamp",MA="__type__",VA="__previous_value__",PA="__local_write_time__";function Vp(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[MA])==null?void 0:i.stringValue)===xA}function ah(t){const e=t.mapValue.fields[VA];return Vp(e)?ah(e):e}function Qo(t){const e=ar(t.mapValue.fields[PA].timestampValue);return new we(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,n,i,r,s,a,l,u,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=f}}const _c="(default)";class Yo{constructor(e,n){this.projectId=e,this.database=n||_c}static empty(){return new Yo("","")}get isDefaultDatabase(){return this.database===_c}isEqual(e){return e instanceof Yo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="__type__",eO="__max__",au={mapValue:{}},UA="__vector__",vc="value";function lr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vp(t)?4:nO(t)?9007199254740991:tO(t)?10:11:Q(28295,{value:t})}function Dn(t,e){if(t===e)return!0;const n=lr(t);if(n!==lr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qo(t).isEqual(Qo(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=ar(r.timestampValue),l=ar(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return or(r.bytesValue).isEqual(or(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Ue(r.geoPointValue.latitude)===Ue(s.geoPointValue.latitude)&&Ue(r.geoPointValue.longitude)===Ue(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Ue(r.integerValue)===Ue(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=Ue(r.doubleValue),l=Ue(s.doubleValue);return a===l?yc(a)===yc(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return ta(t.arrayValue.values||[],e.arrayValue.values||[],Dn);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},l=s.mapValue.fields||{};if(wv(a)!==wv(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Dn(a[u],l[u])))return!1;return!0}(t,e);default:return Q(52216,{left:t})}}function $o(t,e){return(t.values||[]).find(n=>Dn(n,e))!==void 0}function na(t,e){if(t===e)return 0;const n=lr(t),i=lr(e);if(n!==i)return se(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(t.booleanValue,e.booleanValue);case 2:return function(s,a){const l=Ue(s.integerValue||s.doubleValue),u=Ue(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return Cv(t.timestampValue,e.timestampValue);case 4:return Cv(Qo(t),Qo(e));case 5:return Wd(t.stringValue,e.stringValue);case 6:return function(s,a){const l=or(s),u=or(a);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let c=0;c<l.length&&c<u.length;c++){const f=se(l[c],u[c]);if(f!==0)return f}return se(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const l=se(Ue(s.latitude),Ue(a.latitude));return l!==0?l:se(Ue(s.longitude),Ue(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Iv(t.arrayValue,e.arrayValue);case 10:return function(s,a){var p,g,C,O;const l=s.fields||{},u=a.fields||{},c=(p=l[vc])==null?void 0:p.arrayValue,f=(g=u[vc])==null?void 0:g.arrayValue,m=se(((C=c==null?void 0:c.values)==null?void 0:C.length)||0,((O=f==null?void 0:f.values)==null?void 0:O.length)||0);return m!==0?m:Iv(c,f)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===au.mapValue&&a===au.mapValue)return 0;if(s===au.mapValue)return 1;if(a===au.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=a.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){const p=Wd(u[m],f[m]);if(p!==0)return p;const g=na(l[u[m]],c[f[m]]);if(g!==0)return g}return se(u.length,f.length)}(t.mapValue,e.mapValue);default:throw Q(23264,{he:n})}}function Cv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return se(t,e);const n=ar(t),i=ar(e),r=se(n.seconds,i.seconds);return r!==0?r:se(n.nanos,i.nanos)}function Iv(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=na(n[r],i[r]);if(s)return s}return se(n.length,i.length)}function ia(t){return Zd(t)}function Zd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=ar(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return or(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=Zd(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${Zd(n.fields[a])}`;return r+"}"}(t.mapValue):Q(61005,{value:t})}function Du(t){switch(lr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ah(t);return e?16+Du(e):16;case 5:return 2*t.stringValue.length;case 6:return or(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+Du(s),0)}(t.arrayValue);case 10:case 11:return function(i){let r=0;return mr(i.fields,(s,a)=>{r+=s.length+Du(a)}),r}(t.mapValue);default:throw Q(13486,{value:t})}}function Nv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function em(t){return!!t&&"integerValue"in t}function Pp(t){return!!t&&"arrayValue"in t}function Dv(t){return!!t&&"nullValue"in t}function Ov(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ou(t){return!!t&&"mapValue"in t}function tO(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[LA])==null?void 0:i.stringValue)===UA}function So(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return mr(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=So(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=So(t.arrayValue.values[n]);return e}return{...t}}function nO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===eO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.value=e}static empty(){return new Nt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Ou(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=So(n)}setAll(e){let n=lt.emptyPath(),i={},r=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=So(a):r.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());Ou(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Dn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Ou(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){mr(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Nt(So(this.value))}}function kA(t){const e=[];return mr(t.fields,(n,i)=>{const r=new lt([n]);if(Ou(i)){const s=kA(i.mapValue).fields;if(s.length===0)e.push(r);else for(const a of s)e.push(r.child(a))}else e.push(r)}),new kt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n,i,r,s,a,l){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new gt(e,0,$.min(),$.min(),$.min(),Nt.empty(),0)}static newFoundDocument(e,n,i,r){return new gt(e,1,n,$.min(),i,r,0)}static newNoDocument(e,n){return new gt(e,2,n,$.min(),$.min(),Nt.empty(),0)}static newUnknownDocument(e,n){return new gt(e,3,n,$.min(),$.min(),Nt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n){this.position=e,this.inclusive=n}}function xv(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],a=t.position[r];if(s.field.isKeyField()?i=G.comparator(G.fromName(a.referenceValue),n.key):i=na(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function Mv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Dn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n="asc"){this.field=e,this.dir=n}}function iO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{}class Ge extends zA{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new sO(e,n,i):n==="array-contains"?new lO(e,i):n==="in"?new uO(e,i):n==="not-in"?new cO(e,i):n==="array-contains-any"?new hO(e,i):new Ge(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new aO(e,i):new oO(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(na(n,this.value)):n!==null&&lr(this.value)===lr(n)&&this.matchesComparison(na(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cn extends zA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new cn(e,n)}matches(e){return jA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function jA(t){return t.op==="and"}function BA(t){return rO(t)&&jA(t)}function rO(t){for(const e of t.filters)if(e instanceof cn)return!1;return!0}function tm(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+ia(t.value);if(BA(t))return t.filters.map(e=>tm(e)).join(",");{const e=t.filters.map(n=>tm(n)).join(",");return`${t.op}(${e})`}}function qA(t,e){return t instanceof Ge?function(i,r){return r instanceof Ge&&i.op===r.op&&i.field.isEqual(r.field)&&Dn(i.value,r.value)}(t,e):t instanceof cn?function(i,r){return r instanceof cn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,l)=>s&&qA(a,r.filters[l]),!0):!1}(t,e):void Q(19439)}function HA(t){return t instanceof Ge?function(n){return`${n.field.canonicalString()} ${n.op} ${ia(n.value)}`}(t):t instanceof cn?function(n){return n.op.toString()+" {"+n.getFilters().map(HA).join(" ,")+"}"}(t):"Filter"}class sO extends Ge{constructor(e,n,i){super(e,n,i),this.key=G.fromName(i.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class aO extends Ge{constructor(e,n){super(e,"in",n),this.keys=FA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class oO extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=FA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function FA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(i=>G.fromName(i.referenceValue))}class lO extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pp(n)&&$o(n.arrayValue,this.value)}}class uO extends Ge{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$o(this.value.arrayValue,n)}}class cO extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if($o(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!$o(this.value.arrayValue,n)}}class hO extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>$o(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,n=null,i=[],r=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.Te=null}}function Vv(t,e=null,n=[],i=[],r=null,s=null,a=null){return new fO(t,e,n,i,r,s,a)}function Lp(t){const e=X(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>tm(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),sh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>ia(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>ia(i)).join(",")),e.Te=n}return e.Te}function Up(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!iO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Mv(t.startAt,e.startAt)&&Mv(t.endAt,e.endAt)}function nm(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n=null,i=[],r=[],s=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dO(t,e,n,i,r,s,a,l){return new vl(t,e,n,i,r,s,a,l)}function kp(t){return new vl(t)}function Pv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function GA(t){return t.collectionGroup!==null}function wo(t){const e=X(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Je(lt.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Tc(s,i))}),n.has(lt.keyField().canonicalString())||e.Ie.push(new Tc(lt.keyField(),i))}return e.Ie}function bn(t){const e=X(t);return e.Ee||(e.Ee=mO(e,wo(t))),e.Ee}function mO(t,e){if(t.limitType==="F")return Vv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Tc(r.field,s)});const n=t.endAt?new Ec(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Ec(t.startAt.position,t.startAt.inclusive):null;return Vv(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function im(t,e){const n=t.filters.concat([e]);return new vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function rm(t,e,n){return new vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function oh(t,e){return Up(bn(t),bn(e))&&t.limitType===e.limitType}function KA(t){return`${Lp(bn(t))}|lt:${t.limitType}`}function ps(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>HA(r)).join(", ")}]`),sh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>ia(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>ia(r)).join(",")),`Target(${i})`}(bn(t))}; limitType=${t.limitType})`}function lh(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):G.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of wo(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(a,l,u){const c=xv(a,l,u);return a.inclusive?c<=0:c<0}(i.startAt,wo(i),r)||i.endAt&&!function(a,l,u){const c=xv(a,l,u);return a.inclusive?c>=0:c>0}(i.endAt,wo(i),r))}(t,e)}function pO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function QA(t){return(e,n)=>{let i=!1;for(const r of wo(t)){const s=gO(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function gO(t,e,n){const i=t.field.isKeyField()?G.comparator(e.key,n.key):function(s,a,l){const u=a.data.field(s),c=l.data.field(s);return u!==null&&c!==null?na(u,c):Q(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Q(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){mr(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return DA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=new De(G.comparator);function li(){return yO}const YA=new De(G.comparator);function so(...t){let e=YA;for(const n of t)e=e.insert(n.key,n);return e}function $A(t){let e=YA;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Dr(){return Ro()}function XA(){return Ro()}function Ro(){return new ns(t=>t.toString(),(t,e)=>t.isEqual(e))}const _O=new De(G.comparator),vO=new Je(G.comparator);function ae(...t){let e=vO;for(const n of t)e=e.add(n);return e}const EO=new Je(se);function TO(){return EO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yc(e)?"-0":e}}function JA(t){return{integerValue:""+t}}function bO(t,e){return $D(e)?JA(e):zp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(){this._=void 0}}function AO(t,e,n){return t instanceof Xo?function(r,s){const a={fields:{[MA]:{stringValue:xA},[PA]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Vp(s)&&(s=ah(s)),s&&(a.fields[VA]=s),{mapValue:a}}(n,e):t instanceof Jo?ZA(t,e):t instanceof Wo?eS(t,e):function(r,s){const a=WA(r,s),l=Lv(a)+Lv(r.Ae);return em(a)&&em(r.Ae)?JA(l):zp(r.serializer,l)}(t,e)}function SO(t,e,n){return t instanceof Jo?ZA(t,e):t instanceof Wo?eS(t,e):n}function WA(t,e){return t instanceof bc?function(i){return em(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class Xo extends uh{}class Jo extends uh{constructor(e){super(),this.elements=e}}function ZA(t,e){const n=tS(e);for(const i of t.elements)n.some(r=>Dn(r,i))||n.push(i);return{arrayValue:{values:n}}}class Wo extends uh{constructor(e){super(),this.elements=e}}function eS(t,e){let n=tS(e);for(const i of t.elements)n=n.filter(r=>!Dn(r,i));return{arrayValue:{values:n}}}class bc extends uh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Lv(t){return Ue(t.integerValue||t.doubleValue)}function tS(t){return Pp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,n){this.field=e,this.transform=n}}function RO(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Jo&&r instanceof Jo||i instanceof Wo&&r instanceof Wo?ta(i.elements,r.elements,Dn):i instanceof bc&&r instanceof bc?Dn(i.Ae,r.Ae):i instanceof Xo&&r instanceof Xo}(t.transform,e.transform)}class CO{constructor(e,n){this.version=e,this.transformResults=n}}class An{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new An}static exists(e){return new An(void 0,e)}static updateTime(e){return new An(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ch{}function nS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rS(t.key,An.none()):new El(t.key,t.data,An.none());{const n=t.data,i=Nt.empty();let r=new Je(lt.comparator);for(let s of e.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new pr(t.key,i,new kt(r.toArray()),An.none())}}function IO(t,e,n){t instanceof El?function(r,s,a){const l=r.value.clone(),u=kv(r.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof pr?function(r,s,a){if(!xu(r.precondition,s))return void s.convertToUnknownDocument(a.version);const l=kv(r.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(iS(r)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Co(t,e,n,i){return t instanceof El?function(s,a,l,u){if(!xu(s.precondition,a))return l;const c=s.value.clone(),f=zv(s.fieldTransforms,u,a);return c.setAll(f),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof pr?function(s,a,l,u){if(!xu(s.precondition,a))return l;const c=zv(s.fieldTransforms,u,a),f=a.data;return f.setAll(iS(s)),f.setAll(c),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,i):function(s,a,l){return xu(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function NO(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=WA(i.transform,r||null);s!=null&&(n===null&&(n=Nt.empty()),n.set(i.field,s))}return n||null}function Uv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&ta(i,r,(s,a)=>RO(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class El extends ch{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class pr extends ch{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function iS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function kv(t,e,n){const i=new Map;fe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const s=t[r],a=s.transform,l=e.data.field(s.field);i.set(s.field,SO(a,l,n[r]))}return i}function zv(t,e,n){const i=new Map;for(const r of t){const s=r.transform,a=n.data.field(r.field);i.set(r.field,AO(s,a,e))}return i}class rS extends ch{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DO extends ch{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&IO(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Co(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Co(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=XA();return this.mutations.forEach(r=>{const s=e.get(r.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(r.key)?null:l;const u=nS(a,l);u!==null&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument($.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&ta(this.mutations,e.mutations,(n,i)=>Uv(n,i))&&ta(this.baseMutations,e.baseMutations,(n,i)=>Uv(n,i))}}class jp{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){fe(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let r=function(){return _O}();const s=e.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new jp(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be,ue;function VO(t){switch(t){case L.OK:return Q(64938);case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return Q(15467,{code:t})}}function sS(t){if(t===void 0)return oi("GRPC error has no .code"),L.UNKNOWN;switch(t){case Be.OK:return L.OK;case Be.CANCELLED:return L.CANCELLED;case Be.UNKNOWN:return L.UNKNOWN;case Be.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Be.INTERNAL:return L.INTERNAL;case Be.UNAVAILABLE:return L.UNAVAILABLE;case Be.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Be.NOT_FOUND:return L.NOT_FOUND;case Be.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Be.ABORTED:return L.ABORTED;case Be.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Be.DATA_LOSS:return L.DATA_LOSS;default:return Q(39323,{code:t})}}(ue=Be||(Be={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=new Xi([4294967295,4294967295],0);function jv(t){const e=PO().encode(t),n=new vA;return n.update(e),new Uint8Array(n.digest())}function Bv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Xi([n,i],0),new Xi([r,s],0)]}class Bp{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ao(`Invalid padding: ${n}`);if(i<0)throw new ao(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ao(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new ao(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Xi.fromNumber(this.ge)}ye(e,n,i){let r=e.add(n.multiply(Xi.fromNumber(i)));return r.compare(LO)===1&&(r=new Xi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=jv(e),[i,r]=Bv(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(i,r,s);if(!this.we(a))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new Bp(s,r,n);return i.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const n=jv(e),[i,r]=Bv(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(i,r,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class ao extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,Tl.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new hh($.min(),r,new De(se),li(),ae())}}class Tl{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Tl(i,n,ae(),ae(),ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n,i,r){this.be=e,this.removedTargetIds=n,this.key=i,this.De=r}}class aS{constructor(e,n){this.targetId=e,this.Ce=n}}class oS{constructor(e,n,i=ht.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class qv{constructor(){this.ve=0,this.Fe=Hv(),this.Me=ht.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ae(),n=ae(),i=ae();return this.Fe.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Q(38017,{changeType:s})}}),new Tl(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=Hv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class UO{constructor(e){this.Ge=e,this.ze=new Map,this.je=li(),this.Je=ou(),this.He=ou(),this.Ye=new De(se)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Q(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((i,r)=>{this.rt(r)&&n(r)})}st(e){const n=e.targetId,i=e.Ce.count,r=this.ot(n);if(r){const s=r.target;if(nm(s))if(i===0){const a=new G(s.path);this.et(n,a,gt.newNoDocument(a,$.min()))}else fe(i===1,20013,{expectedCount:i});else{const a=this._t(n);if(a!==i){const l=this.ut(e),u=l?this.ct(l,e,a):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let a,l;try{a=or(i).toUint8Array()}catch(u){if(u instanceof OA)return ea("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Bp(a,r,s)}catch(u){return ea(u instanceof ao?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(n,s,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((s,a)=>{const l=this.ot(a);if(l){if(s.current&&nm(l.target)){const u=new G(l.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,gt.newNoDocument(u,e))}s.Be&&(n.set(a,s.ke()),s.qe())}});let i=ae();this.He.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.je.forEach((s,a)=>a.setReadTime(e));const r=new hh(e,n,this.Ye,this.je,i);return this.je=li(),this.Je=ou(),this.He=ou(),this.Ye=new De(se),r}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new qv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Je(se),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Je(se),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||F("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new qv),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ou(){return new De(G.comparator)}function Hv(){return new De(G.comparator)}const kO={asc:"ASCENDING",desc:"DESCENDING"},zO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jO={and:"AND",or:"OR"};class BO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sm(t,e){return t.useProto3Json||sh(e)?e:{value:e}}function Ac(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qO(t,e){return Ac(t,e.toTimestamp())}function Sn(t){return fe(!!t,49232),$.fromTimestamp(function(n){const i=ar(n);return new we(i.seconds,i.nanos)}(t))}function qp(t,e){return am(t,e).canonicalString()}function am(t,e){const n=function(r){return new Ee(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function uS(t){const e=Ee.fromString(t);return fe(mS(e),10190,{key:e.toString()}),e}function om(t,e){return qp(t.databaseId,e.path)}function jf(t,e){const n=uS(e);if(n.get(1)!==t.databaseId.projectId)throw new q(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(hS(n))}function cS(t,e){return qp(t.databaseId,e)}function HO(t){const e=uS(t);return e.length===4?Ee.emptyPath():hS(e)}function lm(t){return new Ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hS(t){return fe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Fv(t,e,n){return{name:om(t,e),fields:n.value.mapValue.fields}}function FO(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Q(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,f){return c.useProto3Json?(fe(f===void 0||typeof f=="string",58123),ht.fromBase64String(f||"")):(fe(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),ht.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(c){const f=c.code===void 0?L.UNKNOWN:sS(c.code);return new q(f,c.message||"")}(a);n=new oS(i,r,s,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=jf(t,i.document.name),s=Sn(i.document.updateTime),a=i.document.createTime?Sn(i.document.createTime):$.min(),l=new Nt({mapValue:{fields:i.document.fields}}),u=gt.newFoundDocument(r,s,a,l),c=i.targetIds||[],f=i.removedTargetIds||[];n=new Mu(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=jf(t,i.document),s=i.readTime?Sn(i.readTime):$.min(),a=gt.newNoDocument(r,s),l=i.removedTargetIds||[];n=new Mu([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=jf(t,i.document),s=i.removedTargetIds||[];n=new Mu([],s,r,null)}else{if(!("filter"in e))return Q(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new MO(r,s),l=i.targetId;n=new aS(l,a)}}return n}function GO(t,e){let n;if(e instanceof El)n={update:Fv(t,e.key,e.value)};else if(e instanceof rS)n={delete:om(t,e.key)};else if(e instanceof pr)n={update:Fv(t,e.key,e.data),updateMask:ex(e.fieldMask)};else{if(!(e instanceof DO))return Q(16599,{Vt:e.type});n={verify:om(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,a){const l=a.transform;if(l instanceof Xo)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Jo)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Wo)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof bc)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw Q(20930,{transform:a.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:qO(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Q(27497)}(t,e.precondition)),n}function KO(t,e){return t&&t.length>0?(fe(e!==void 0,14353),t.map(n=>function(r,s){let a=r.updateTime?Sn(r.updateTime):Sn(s);return a.isEqual($.min())&&(a=Sn(s)),new CO(a,r.transformResults||[])}(n,e))):[]}function QO(t,e){return{documents:[cS(t,e.path)]}}function YO(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=cS(t,r);const s=function(c){if(c.length!==0)return dS(cn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(f=>function(p){return{field:gs(p.field),direction:JO(p.dir)}}(f))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=sm(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:r}}function $O(t){let e=HO(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){fe(i===1,65062);const f=n.from[0];f.allDescendants?r=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(m){const p=fS(m);return p instanceof cn&&BA(p)?p.getFilters():[p]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(p=>function(C){return new Tc(ys(C.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(m){let p;return p=typeof m=="object"?m.value:m,sh(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(m){const p=!!m.before,g=m.values||[];return new Ec(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(m){const p=!m.before,g=m.values||[];return new Ec(g,p)}(n.endAt)),dO(e,r,a,s,l,"F",u,c)}function XO(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ys(n.unaryFilter.field);return Ge.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=ys(n.unaryFilter.field);return Ge.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ys(n.unaryFilter.field);return Ge.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ys(n.unaryFilter.field);return Ge.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Q(61313);default:return Q(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ge.create(ys(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Q(58110);default:return Q(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return cn.create(n.compositeFilter.filters.map(i=>fS(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Q(1026)}}(n.compositeFilter.op))}(t):Q(30097,{filter:t})}function JO(t){return kO[t]}function WO(t){return zO[t]}function ZO(t){return jO[t]}function gs(t){return{fieldPath:t.canonicalString()}}function ys(t){return lt.fromServerFormat(t.fieldPath)}function dS(t){return t instanceof Ge?function(n){if(n.op==="=="){if(Ov(n.value))return{unaryFilter:{field:gs(n.field),op:"IS_NAN"}};if(Dv(n.value))return{unaryFilter:{field:gs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ov(n.value))return{unaryFilter:{field:gs(n.field),op:"IS_NOT_NAN"}};if(Dv(n.value))return{unaryFilter:{field:gs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gs(n.field),op:WO(n.op),value:n.value}}}(t):t instanceof cn?function(n){const i=n.getFilters().map(r=>dS(r));return i.length===1?i[0]:{compositeFilter:{op:ZO(n.op),filters:i}}}(t):Q(54877,{filter:t})}function ex(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n,i,r,s=$.min(),a=$.min(),l=ht.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e){this.yt=e}}function nx(t){const e=$O({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(){this.Cn=new rx}addToCollectionParentIndex(e,n){return this.Cn.add(n),k.resolve()}getCollectionParents(e,n){return k.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return k.resolve()}deleteFieldIndex(e,n){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,n){return k.resolve()}getDocumentsMatchingTarget(e,n){return k.resolve(null)}getIndexType(e,n){return k.resolve(0)}getFieldIndexes(e,n){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,n){return k.resolve(sr.min())}getMinOffsetFromCollectionGroup(e,n){return k.resolve(sr.min())}updateCollectionGroup(e,n,i){return k.resolve()}updateIndexEntries(e,n){return k.resolve()}}class rx{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Je(Ee.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Je(Ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pS=41943040;class It{static withCacheSize(e){return new It(e,It.DEFAULT_COLLECTION_PERCENTILE,It.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */It.DEFAULT_COLLECTION_PERCENTILE=10,It.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,It.DEFAULT=new It(pS,It.DEFAULT_COLLECTION_PERCENTILE,It.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),It.DISABLED=new It(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ra(0)}static cr(){return new ra(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="LruGarbageCollector",sx=1048576;function Qv([t,e],[n,i]){const r=se(t,n);return r===0?se(e,i):r}class ax{constructor(e){this.Ir=e,this.buffer=new Je(Qv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Qv(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ox{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){F(Kv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ta(n)?F(Kv,"Ignoring IndexedDB error during garbage collection: ",n):await Ea(n)}await this.Vr(3e5)})}}class lx{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return k.resolve(rh.ce);const i=new ax(n);return this.mr.forEachTarget(e,r=>i.Ar(r.sequenceNumber)).next(()=>this.mr.pr(e,r=>i.Ar(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(F("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(Gv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gv):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,r,s,a,l,u,c;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),r=this.params.maximumSequenceNumbersToCollect):r=m,a=Date.now(),this.nthSequenceNumber(e,r))).next(m=>(i=m,l=Date.now(),this.removeTargets(e,i,n))).next(m=>(s=m,u=Date.now(),this.removeOrphanedDocuments(e,i))).next(m=>(c=Date.now(),ms()<=re.DEBUG&&F("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${m} documents in `+(c-u)+`ms
Total Duration: ${c-f}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:m})))}}function ux(t,e){return new lx(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(){this.changes=new ns(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?k.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Co(i.mutation,r,kt.empty(),we.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ae()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ae()){const r=Dr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let a=so();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=Dr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ae()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,i,r){let s=li();const a=Ro(),l=function(){return Ro()}();return n.forEach((u,c)=>{const f=i.get(c.key);r.has(c.key)&&(f===void 0||f.mutation instanceof pr)?s=s.insert(c.key,c):f!==void 0?(a.set(c.key,f.mutation.getFieldMask()),Co(f.mutation,c,f.mutation.getFieldMask(),we.now())):a.set(c.key,kt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,f)=>a.set(c,f)),n.forEach((c,f)=>l.set(c,new hx(f,a.get(c)??null))),l))}recalculateAndSaveOverlays(e,n){const i=Ro();let r=new De((a,l)=>a-l),s=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=i.get(u)||kt.empty();f=l.applyToLocalView(c,f),i.set(u,f);const m=(r.get(l.batchId)||ae()).add(u);r=r.insert(l.batchId,m)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,f=u.value,m=XA();f.forEach(p=>{if(!s.has(p)){const g=nS(n.get(p),i.get(p));g!==null&&m.set(p,g),s=s.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,m))}return k.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(a){return G.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):GA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):k.resolve(Dr());let l=Ko,u=s;return a.next(c=>k.forEach(c,(f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(f)?k.resolve():this.remoteDocumentCache.getEntry(e,f).next(p=>{u=u.insert(f,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ae())).next(f=>({batchId:l,changes:$A(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(i=>{let r=so();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let a=so();return this.indexManager.getCollectionParents(e,s).next(l=>k.forEach(l,u=>{const c=function(m,p){return new vl(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(f=>{f.forEach((m,p)=>{a=a.insert(m,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(a=>{s.forEach((u,c)=>{const f=c.getKey();a.get(f)===null&&(a=a.insert(f,gt.newInvalidDocument(f)))});let l=so();return a.forEach((u,c)=>{const f=s.get(u);f!==void 0&&Co(f.mutation,c,kt.empty(),we.now()),lh(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return k.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Sn(r.createTime)}}(n)),k.resolve()}getNamedQuery(e,n){return k.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(r){return{name:r.name,query:nx(r.bundledQuery),readTime:Sn(r.readTime)}}(n)),k.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this.overlays=new De(G.comparator),this.qr=new Map}getOverlay(e,n){return k.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Dr();return k.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.St(e,n,s)}),k.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(i)),k.resolve()}getOverlaysForCollection(e,n,i){const r=Dr(),s=n.length+1,a=new G(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return k.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new De((c,f)=>c-f);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let f=s.get(c.largestBatchId);f===null&&(f=Dr(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const l=Dr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>l.set(c,f)),!(l.size()>=r)););return k.resolve(l)}St(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new xO(n,i));let s=this.qr.get(n);s===void 0&&(s=ae(),this.qr.set(n,s)),this.qr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(){this.sessionToken=ht.EMPTY_BYTE_STRING}getSessionToken(e){return k.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,k.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(){this.Qr=new Je(et.$r),this.Ur=new Je(et.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new et(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Gr(new et(e,n))}zr(e,n){e.forEach(i=>this.removeReference(i,n))}jr(e){const n=new G(new Ee([])),i=new et(n,e),r=new et(n,e+1),s=[];return this.Ur.forEachInRange([i,r],a=>{this.Gr(a),s.push(a.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new G(new Ee([])),i=new et(n,e),r=new et(n,e+1);let s=ae();return this.Ur.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new et(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class et{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return G.comparator(e.key,n.key)||se(e.Yr,n.Yr)}static Kr(e,n){return se(e.Yr,n.Yr)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Je(et.$r)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new OO(s,n,i,r);this.mutationQueue.push(a);for(const l of r)this.Zr=this.Zr.add(new et(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return k.resolve(a)}lookupMutationBatch(e,n){return k.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.ei(i),s=r<0?0:r;return k.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?Mp:this.tr-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new et(n,0),r=new et(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([i,r],a=>{const l=this.Xr(a.Yr);s.push(l)}),k.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Je(se);return n.forEach(r=>{const s=new et(r,0),a=new et(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],l=>{i=i.add(l.Yr)})}),k.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;G.isDocumentKey(s)||(s=s.child(""));const a=new et(new G(s),0);let l=new Je(se);return this.Zr.forEachWhile(u=>{const c=u.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(l=l.add(u.Yr)),!0)},a),k.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(i=>{const r=this.Xr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return k.forEach(n.mutations,r=>{const s=new et(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,n){const i=new et(n,0),r=this.Zr.firstAfterOrEqual(i);return k.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e){this.ri=e,this.docs=function(){return new De(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return k.resolve(i?i.document.mutableCopy():gt.newInvalidDocument(n))}getEntries(e,n){let i=li();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():gt.newInvalidDocument(r))}),k.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=li();const a=n.path,l=new G(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||GD(FD(f),i)<=0||(r.has(f.key)||lh(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return k.resolve(s)}getAllFromCollectionGroup(e,n,i,r){Q(9500)}ii(e,n){return k.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new _x(this)}getSize(e){return k.resolve(this.size)}}class _x extends cx{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(i)}),k.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e){this.persistence=e,this.si=new ns(n=>Lp(n),Up),this.lastRemoteSnapshotVersion=$.min(),this.highestTargetId=0,this.oi=0,this._i=new Hp,this.targetCount=0,this.ai=ra.ur()}forEachTarget(e,n){return this.si.forEach((i,r)=>n(r)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),k.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ra(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,k.resolve()}updateTargetData(e,n){return this.Pr(n),k.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.si.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),k.waitFor(s).next(()=>r)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return k.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),k.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(e,a))}),k.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),k.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return k.resolve(i)}containsKey(e,n){return k.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,n){this.ui={},this.overlays={},this.ci=new rh(0),this.li=!1,this.li=!0,this.hi=new px,this.referenceDelegate=e(this),this.Pi=new vx(this),this.indexManager=new ix,this.remoteDocumentCache=function(r){return new yx(r)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new tx(n),this.Ii=new dx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new gx(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){F("MemoryPersistence","Starting transaction:",e);const r=new Ex(this.ci.next());return this.referenceDelegate.Ei(),i(r).next(s=>this.referenceDelegate.di(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ai(e,n){return k.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,n)))}}class Ex extends QD{constructor(e){super(),this.currentSequenceNumber=e}}class Fp{constructor(e){this.persistence=e,this.Ri=new Hp,this.Vi=null}static mi(e){return new Fp(e)}get fi(){if(this.Vi)return this.Vi;throw Q(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),k.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),k.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),k.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(r=>this.fi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.fi.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.fi,i=>{const r=G.fromPath(i);return this.gi(e,r).next(s=>{s||n.removeEntry(r,$.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return k.or([()=>k.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Sc{constructor(e,n){this.persistence=e,this.pi=new ns(i=>XD(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=ux(this,n)}static mi(e,n){return new Sc(e,n)}Ei(){}di(e){return k.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}wr(e){let n=0;return this.pr(e,i=>{n++}).next(()=>n)}pr(e,n){return k.forEach(this.pi,(i,r)=>this.br(e,i,r).next(s=>s?k.resolve():n(r)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ii(e,a=>this.br(e,a,n).next(l=>{l||(i++,s.removeEntry(a,$.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),k.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),k.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),k.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),k.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Du(e.data.value)),n}br(e,n,i){return k.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return k.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=r}static As(e,n){let i=ae(),r=ae();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Gp(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return mN()?8:YD(yt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.ys(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ws(e,n,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new Tx;return this.Ss(e,n,a).next(l=>{if(s.result=l,this.Vs)return this.bs(e,n,a,l.size)})}).next(()=>s.result)}bs(e,n,i,r){return i.documentReadCount<this.fs?(ms()<=re.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",ps(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),k.resolve()):(ms()<=re.DEBUG&&F("QueryEngine","Query:",ps(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(ms()<=re.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",ps(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bn(n))):k.resolve())}ys(e,n){if(Pv(n))return k.resolve(null);let i=bn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=rm(n,null,"F"),i=bn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const a=ae(...s);return this.ps.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,i).next(u=>{const c=this.Ds(n,l);return this.Cs(n,c,a,u.readTime)?this.ys(e,rm(n,null,"F")):this.vs(e,c,n,u)}))})))}ws(e,n,i,r){return Pv(n)||r.isEqual($.min())?k.resolve(null):this.ps.getDocuments(e,i).next(s=>{const a=this.Ds(n,s);return this.Cs(n,a,i,r)?k.resolve(null):(ms()<=re.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ps(n)),this.vs(e,a,n,HD(r,Ko)).next(l=>l))})}Ds(e,n){let i=new Je(QA(e));return n.forEach((r,s)=>{lh(e,s)&&(i=i.add(s))}),i}Cs(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(e,n,i){return ms()<=re.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",ps(n)),this.ps.getDocumentsMatchingQuery(e,n,sr.min(),i)}vs(e,n,i,r){return this.ps.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="LocalStore",Ax=3e8;class Sx{constructor(e,n,i,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new De(se),this.xs=new ns(s=>Lp(s),Up),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function wx(t,e,n,i){return new Sx(t,e,n,i)}async function yS(t,e){const n=X(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],l=[];let u=ae();for(const c of r){a.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of s){l.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(i,u).next(c=>({Ls:c,removedBatchIds:a,addedBatchIds:l}))})})}function Rx(t,e){const n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,u,c,f){const m=c.batch,p=m.keys();let g=k.resolve();return p.forEach(C=>{g=g.next(()=>f.getEntry(u,C)).next(O=>{const N=c.docVersions.get(C);fe(N!==null,48541),O.version.compareTo(N)<0&&(m.applyToRemoteDocument(O,c),O.isValidDocument()&&(O.setReadTime(c.commitVersion),f.addEntry(O)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(u,m))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=ae();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function _S(t){const e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function Cx(t,e){const n=X(t),i=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const l=[];e.targetChanges.forEach((f,m)=>{const p=r.get(m);if(!p)return;l.push(n.Pi.removeMatchingKeys(s,f.removedDocuments,m).next(()=>n.Pi.addMatchingKeys(s,f.addedDocuments,m)));let g=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?g=g.withResumeToken(ht.EMPTY_BYTE_STRING,$.min()).withLastLimboFreeSnapshotVersion($.min()):f.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(f.resumeToken,i)),r=r.insert(m,g),function(O,N,E){return O.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=Ax?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,g,f)&&l.push(n.Pi.updateTargetData(s,g))});let u=li(),c=ae();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(Ix(s,a,e.documentUpdates).next(f=>{u=f.ks,c=f.qs})),!i.isEqual($.min())){const f=n.Pi.getLastRemoteSnapshotVersion(s).next(m=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(f)}return k.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ms=r,s))}function Ix(t,e,n){let i=ae(),r=ae();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let a=li();return n.forEach((l,u)=>{const c=s.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual($.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):F(Kp,"Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{ks:a,qs:r}})}function Nx(t,e){const n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Mp),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Dx(t,e){const n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Pi.getTargetData(i,e).next(s=>s?(r=s,k.resolve(r)):n.Pi.allocateTargetId(i).next(a=>(r=new ki(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i})}async function um(t,e,n){const i=X(t),r=i.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!Ta(a))throw a;F(Kp,`Failed to update sequence numbers for target ${e}: ${a}`)}i.Ms=i.Ms.remove(e),i.xs.delete(r.target)}function Yv(t,e,n){const i=X(t);let r=$.min(),s=ae();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,c,f){const m=X(u),p=m.xs.get(f);return p!==void 0?k.resolve(m.Ms.get(p)):m.Pi.getTargetData(c,f)}(i,a,bn(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>i.Fs.getDocumentsMatchingQuery(a,e,n?r:$.min(),n?s:ae())).next(l=>(Ox(i,pO(e),l),{documents:l,Qs:s})))}function Ox(t,e,n){let i=t.Os.get(e)||$.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.Os.set(e,i)}class $v{constructor(){this.activeTargetIds=TO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xx{constructor(){this.Mo=new $v,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new $v,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="ConnectivityMonitor";class Jv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){F(Xv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){F(Xv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lu=null;function cm(){return lu===null?lu=function(){return 268435456+Math.round(2147483648*Math.random())}():lu++,"0x"+lu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="RestConnection",Vx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Px{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===_c?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(e,n,i,r,s){const a=cm(),l=this.zo(e,n.toUriEncodedString());F(Bf,`Sending RPC '${e}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,r,s);const{host:c}=new URL(l),f=dr(c);return this.Jo(e,l,u,i,f).then(m=>(F(Bf,`Received RPC '${e}' ${a}: `,m),m),m=>{throw ea(Bf,`RPC '${e}' ${a} failed with error: `,m,"url: ",l,"request:",i),m})}Ho(e,n,i,r,s,a){return this.Go(e,n,i,r,s)}jo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+va}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}zo(e,n){const i=Vx[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mt="WebChannelConnection";class Ux extends Px{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,r,s){const a=cm();return new Promise((l,u)=>{const c=new EA;c.setWithCredentials(!0),c.listenOnce(TA.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Nu.NO_ERROR:const m=c.getResponseJson();F(mt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),l(m);break;case Nu.TIMEOUT:F(mt,`RPC '${e}' ${a} timed out`),u(new q(L.DEADLINE_EXCEEDED,"Request time out"));break;case Nu.HTTP_ERROR:const p=c.getStatus();if(F(mt,`RPC '${e}' ${a} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const C=g==null?void 0:g.error;if(C&&C.status&&C.message){const O=function(E){const _=E.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(_)>=0?_:L.UNKNOWN}(C.status);u(new q(O,C.message))}else u(new q(L.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new q(L.UNAVAILABLE,"Connection failed."));break;default:Q(9055,{l_:e,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{F(mt,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(r);F(mt,`RPC '${e}' ${a} sending request:`,r),c.send(n,"POST",f,i,15)})}T_(e,n,i){const r=cm(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=SA(),l=AA(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const f=s.join("");F(mt,`Creating RPC '${e}' stream ${r}: ${f}`,u);const m=a.createWebChannel(f,u);this.I_(m);let p=!1,g=!1;const C=new Lx({Yo:N=>{g?F(mt,`Not sending because RPC '${e}' stream ${r} is closed:`,N):(p||(F(mt,`Opening RPC '${e}' stream ${r} transport.`),m.open(),p=!0),F(mt,`RPC '${e}' stream ${r} sending:`,N),m.send(N))},Zo:()=>m.close()}),O=(N,E,_)=>{N.listen(E,b=>{try{_(b)}catch(I){setTimeout(()=>{throw I},0)}})};return O(m,ro.EventType.OPEN,()=>{g||(F(mt,`RPC '${e}' stream ${r} transport opened.`),C.o_())}),O(m,ro.EventType.CLOSE,()=>{g||(g=!0,F(mt,`RPC '${e}' stream ${r} transport closed`),C.a_(),this.E_(m))}),O(m,ro.EventType.ERROR,N=>{g||(g=!0,ea(mt,`RPC '${e}' stream ${r} transport errored. Name:`,N.name,"Message:",N.message),C.a_(new q(L.UNAVAILABLE,"The operation could not be completed")))}),O(m,ro.EventType.MESSAGE,N=>{var E;if(!g){const _=N.data[0];fe(!!_,16349);const b=_,I=(b==null?void 0:b.error)||((E=b[0])==null?void 0:E.error);if(I){F(mt,`RPC '${e}' stream ${r} received error:`,I);const z=I.status;let j=function(A){const S=Be[A];if(S!==void 0)return sS(S)}(z),T=I.message;j===void 0&&(j=L.INTERNAL,T="Unknown error status: "+z+" with message "+I.message),g=!0,C.a_(new q(j,T)),m.close()}else F(mt,`RPC '${e}' stream ${r} received:`,_),C.u_(_)}}),O(l,bA.STAT_EVENT,N=>{N.stat===Jd.PROXY?F(mt,`RPC '${e}' stream ${r} detected buffering proxy`):N.stat===Jd.NOPROXY&&F(mt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{C.__()},0),C}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function qf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(t){return new BO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,n,i=1e3,r=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=r,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-i);r>0&&F("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="PersistentStream";class ES{constructor(e,n,i,r,s,a,l,u){this.Mi=e,this.S_=i,this.b_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(oi(n.toString()),oi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.D_===n&&this.G_(i,r)},i=>{e(()=>{const r=new q(L.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)})})}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{i(()=>this.z_(r))}),this.stream.onMessage(r=>{i(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return F(Wv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(F(Wv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kx extends ES{constructor(e,n,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=FO(this.serializer,e),i=function(s){if(!("targetChange"in s))return $.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?$.min():a.readTime?Sn(a.readTime):$.min()}(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=lm(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=nm(u)?{documents:QO(s,u)}:{query:YO(s,u).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=lS(s,a.resumeToken);const c=sm(s,a.expectedCount);c!==null&&(l.expectedCount=c)}else if(a.snapshotVersion.compareTo($.min())>0){l.readTime=Ac(s,a.snapshotVersion.toTimestamp());const c=sm(s,a.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const i=XO(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=lm(this.serializer),n.removeTarget=e,this.q_(n)}}class zx extends ES{constructor(e,n,i,r,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=KO(e.writeResults,e.commitTime),i=Sn(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=lm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>GO(this.serializer,i))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{}class Bx extends jx{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new q(L.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Go(e,am(n,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(L.UNKNOWN,s.toString())})}Ho(e,n,i,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Ho(e,am(n,i),r,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new q(L.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class qx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(oi(n),this.aa=!1):F("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="RemoteStore";class Hx{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(a=>{i.enqueueAndForget(async()=>{is(this)&&(F(Kr,"Restarting streams for network reachability change."),await async function(u){const c=X(u);c.Ea.add(4),await bl(c),c.Ra.set("Unknown"),c.Ea.delete(4),await dh(c)}(this))})}),this.Ra=new qx(i,r)}}async function dh(t){if(is(t))for(const e of t.da)await e(!0)}async function bl(t){for(const e of t.da)await e(!1)}function TS(t,e){const n=X(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Xp(n)?$p(n):ba(n).O_()&&Yp(n,e))}function Qp(t,e){const n=X(t),i=ba(n);n.Ia.delete(e),i.O_()&&bS(n,e),n.Ia.size===0&&(i.O_()?i.L_():is(n)&&n.Ra.set("Unknown"))}function Yp(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ba(t).Y_(e)}function bS(t,e){t.Va.Ue(e),ba(t).Z_(e)}function $p(t){t.Va=new UO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ba(t).start(),t.Ra.ua()}function Xp(t){return is(t)&&!ba(t).x_()&&t.Ia.size>0}function is(t){return X(t).Ea.size===0}function AS(t){t.Va=void 0}async function Fx(t){t.Ra.set("Online")}async function Gx(t){t.Ia.forEach((e,n)=>{Yp(t,e)})}async function Kx(t,e){AS(t),Xp(t)?(t.Ra.ha(e),$p(t)):t.Ra.set("Unknown")}async function Qx(t,e,n){if(t.Ra.set("Online"),e instanceof oS&&e.state===2&&e.cause)try{await async function(r,s){const a=s.cause;for(const l of s.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ia.delete(l),r.Va.removeTarget(l))}(t,e)}catch(i){F(Kr,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await wc(t,i)}else if(e instanceof Mu?t.Va.Ze(e):e instanceof aS?t.Va.st(e):t.Va.tt(e),!n.isEqual($.min()))try{const i=await _S(t.localStore);n.compareTo(i)>=0&&await function(s,a){const l=s.Va.Tt(a);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.Ia.get(c);f&&s.Ia.set(c,f.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,c)=>{const f=s.Ia.get(u);if(!f)return;s.Ia.set(u,f.withResumeToken(ht.EMPTY_BYTE_STRING,f.snapshotVersion)),bS(s,u);const m=new ki(f.target,u,c,f.sequenceNumber);Yp(s,m)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(i){F(Kr,"Failed to raise snapshot:",i),await wc(t,i)}}async function wc(t,e,n){if(!Ta(e))throw e;t.Ea.add(1),await bl(t),t.Ra.set("Offline"),n||(n=()=>_S(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{F(Kr,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await dh(t)})}function SS(t,e){return e().catch(n=>wc(t,n,e))}async function mh(t){const e=X(t),n=ur(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Mp;for(;Yx(e);)try{const r=await Nx(e.localStore,i);if(r===null){e.Ta.length===0&&n.L_();break}i=r.batchId,$x(e,r)}catch(r){await wc(e,r)}wS(e)&&RS(e)}function Yx(t){return is(t)&&t.Ta.length<10}function $x(t,e){t.Ta.push(e);const n=ur(t);n.O_()&&n.X_&&n.ea(e.mutations)}function wS(t){return is(t)&&!ur(t).x_()&&t.Ta.length>0}function RS(t){ur(t).start()}async function Xx(t){ur(t).ra()}async function Jx(t){const e=ur(t);for(const n of t.Ta)e.ea(n.mutations)}async function Wx(t,e,n){const i=t.Ta.shift(),r=jp.from(i,e,n);await SS(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await mh(t)}async function Zx(t,e){e&&ur(t).X_&&await async function(i,r){if(function(a){return VO(a)&&a!==L.ABORTED}(r.code)){const s=i.Ta.shift();ur(i).B_(),await SS(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await mh(i)}}(t,e),wS(t)&&RS(t)}async function Zv(t,e){const n=X(t);n.asyncQueue.verifyOperationInProgress(),F(Kr,"RemoteStore received new credentials");const i=is(n);n.Ea.add(3),await bl(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await dh(n)}async function eM(t,e){const n=X(t);e?(n.Ea.delete(2),await dh(n)):e||(n.Ea.add(2),await bl(n),n.Ra.set("Unknown"))}function ba(t){return t.ma||(t.ma=function(n,i,r){const s=X(n);return s.sa(),new kx(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Xo:Fx.bind(null,t),t_:Gx.bind(null,t),r_:Kx.bind(null,t),H_:Qx.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Xp(t)?$p(t):t.Ra.set("Unknown")):(await t.ma.stop(),AS(t))})),t.ma}function ur(t){return t.fa||(t.fa=function(n,i,r){const s=X(n);return s.sa(),new zx(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Xx.bind(null,t),r_:Zx.bind(null,t),ta:Jx.bind(null,t),na:Wx.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await mh(t)):(await t.fa.stop(),t.Ta.length>0&&(F(Kr,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Zn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const a=Date.now()+i,l=new Jp(e,n,a,r,s);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wp(t,e){if(oi("AsyncQueue",`${e}: ${t}`),Ta(t))return new q(L.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{static emptySet(e){return new ks(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||G.comparator(n.key,i.key):(n,i)=>G.comparator(n.key,i.key),this.keyedMap=so(),this.sortedSet=new De(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ks)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new ks;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(){this.ga=new De(G.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Q(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,i)=>{e.push(i)}),e}}class sa{constructor(e,n,i,r,s,a,l,u,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new sa(e,n,ks.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class nM{constructor(){this.queries=tE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=X(n),s=r.queries;r.queries=tE(),s.forEach((a,l)=>{for(const u of l.Sa)u.onError(i)})})(this,new q(L.ABORTED,"Firestore shutting down"))}}function tE(){return new ns(t=>KA(t),oh)}async function CS(t,e){const n=X(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.ba()&&e.Da()&&(i=2):(s=new tM,i=e.Da()?0:1);try{switch(i){case 0:s.wa=await n.onListen(r,!0);break;case 1:s.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=Wp(a,`Initialization of query '${ps(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Zp(n)}async function IS(t,e){const n=X(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?r=e.Da()?0:1:!s.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function iM(t,e){const n=X(t);let i=!1;for(const r of e){const s=r.query,a=n.queries.get(s);if(a){for(const l of a.Sa)l.Fa(r)&&(i=!0);a.wa=r}}i&&Zp(n)}function rM(t,e,n){const i=X(t),r=i.queries.get(e);if(r)for(const s of r.Sa)s.onError(n);i.queries.delete(e)}function Zp(t){t.Ca.forEach(e=>{e.next()})}var hm,nE;(nE=hm||(hm={})).Ma="default",nE.Cache="cache";class NS{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new sa(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=sa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e){this.key=e}}class OS{constructor(e){this.key=e}}class sM{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ae(),this.mutatedKeys=ae(),this.eu=QA(e),this.tu=new ks(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new eE,r=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((f,m)=>{const p=r.get(f),g=lh(this.query,m)?m:null,C=!!p&&this.mutatedKeys.has(p.key),O=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let N=!1;p&&g?p.data.isEqual(g.data)?C!==O&&(i.track({type:3,doc:g}),N=!0):this.su(p,g)||(i.track({type:2,doc:g}),N=!0,(u&&this.eu(g,u)>0||c&&this.eu(g,c)<0)&&(l=!0)):!p&&g?(i.track({type:0,doc:g}),N=!0):p&&!g&&(i.track({type:1,doc:p}),N=!0,(u||c)&&(l=!0)),N&&(g?(a=a.add(g),s=O?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),i.track({type:1,doc:f})}return{tu:a,iu:i,Cs:l,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((f,m)=>function(g,C){const O=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q(20277,{Rt:N})}};return O(g)-O(C)}(f.type,m.type)||this.eu(f.doc,m.doc)),this.ou(i),r=r??!1;const l=n&&!r?this._u():[],u=this.Xa.size===0&&this.current&&!r?1:0,c=u!==this.Za;return this.Za=u,a.length!==0||c?{snapshot:new sa(this.query,e.tu,s,a,e.mutatedKeys,u===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new eE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ae(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return e.forEach(i=>{this.Xa.has(i)||n.push(new OS(i))}),this.Xa.forEach(i=>{e.has(i)||n.push(new DS(i))}),n}cu(e){this.Ya=e.Qs,this.Xa=ae();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return sa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const eg="SyncEngine";class aM{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class oM{constructor(e){this.key=e,this.hu=!1}}class lM{constructor(e,n,i,r,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new ns(l=>KA(l),oh),this.Iu=new Map,this.Eu=new Set,this.du=new De(G.comparator),this.Au=new Map,this.Ru=new Hp,this.Vu={},this.mu=new Map,this.fu=ra.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uM(t,e,n=!0){const i=US(t);let r;const s=i.Tu.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.lu()):r=await xS(i,e,n,!0),r}async function cM(t,e){const n=US(t);await xS(n,e,!0,!1)}async function xS(t,e,n,i){const r=await Dx(t.localStore,bn(e)),s=r.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return i&&(l=await hM(t,e,s,a==="current",r.resumeToken)),t.isPrimaryClient&&n&&TS(t.remoteStore,r),l}async function hM(t,e,n,i,r){t.pu=(m,p,g)=>async function(O,N,E,_){let b=N.view.ru(E);b.Cs&&(b=await Yv(O.localStore,N.query,!1).then(({documents:T})=>N.view.ru(T,b)));const I=_&&_.targetChanges.get(N.targetId),z=_&&_.targetMismatches.get(N.targetId)!=null,j=N.view.applyChanges(b,O.isPrimaryClient,I,z);return rE(O,N.targetId,j.au),j.snapshot}(t,m,p,g);const s=await Yv(t.localStore,e,!0),a=new sM(e,s.Qs),l=a.ru(s.documents),u=Tl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=a.applyChanges(l,t.isPrimaryClient,u);rE(t,n,c.au);const f=new aM(e,n,a);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function fM(t,e,n){const i=X(t),r=i.Tu.get(e),s=i.Iu.get(r.targetId);if(s.length>1)return i.Iu.set(r.targetId,s.filter(a=>!oh(a,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await um(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Qp(i.remoteStore,r.targetId),fm(i,r.targetId)}).catch(Ea)):(fm(i,r.targetId),await um(i.localStore,r.targetId,!0))}async function dM(t,e){const n=X(t),i=n.Tu.get(e),r=n.Iu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Qp(n.remoteStore,i.targetId))}async function mM(t,e,n){const i=TM(t);try{const r=await function(a,l){const u=X(a),c=we.now(),f=l.reduce((g,C)=>g.add(C.key),ae());let m,p;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let C=li(),O=ae();return u.Ns.getEntries(g,f).next(N=>{C=N,C.forEach((E,_)=>{_.isValidDocument()||(O=O.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,C)).next(N=>{m=N;const E=[];for(const _ of l){const b=NO(_,m.get(_.key).overlayedDocument);b!=null&&E.push(new pr(_.key,b,kA(b.value.mapValue),An.exists(!0)))}return u.mutationQueue.addMutationBatch(g,c,E,l)}).next(N=>{p=N;const E=N.applyToLocalDocumentSet(m,O);return u.documentOverlayCache.saveOverlays(g,N.batchId,E)})}).then(()=>({batchId:p.batchId,changes:$A(m)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,u){let c=a.Vu[a.currentUser.toKey()];c||(c=new De(se)),c=c.insert(l,u),a.Vu[a.currentUser.toKey()]=c}(i,r.batchId,n),await Al(i,r.changes),await mh(i.remoteStore)}catch(r){const s=Wp(r,"Failed to persist write");n.reject(s)}}async function MS(t,e){const n=X(t);try{const i=await Cx(n.localStore,e);e.targetChanges.forEach((r,s)=>{const a=n.Au.get(s);a&&(fe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.hu=!0:r.modifiedDocuments.size>0?fe(a.hu,14607):r.removedDocuments.size>0&&(fe(a.hu,42227),a.hu=!1))}),await Al(n,i,e)}catch(i){await Ea(i)}}function iE(t,e,n){const i=X(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Tu.forEach((s,a)=>{const l=a.view.va(e);l.snapshot&&r.push(l.snapshot)}),function(a,l){const u=X(a);u.onlineState=l;let c=!1;u.queries.forEach((f,m)=>{for(const p of m.Sa)p.va(l)&&(c=!0)}),c&&Zp(u)}(i.eventManager,e),r.length&&i.Pu.H_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function pM(t,e,n){const i=X(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Au.get(e),s=r&&r.key;if(s){let a=new De(G.comparator);a=a.insert(s,gt.newNoDocument(s,$.min()));const l=ae().add(s),u=new hh($.min(),new Map,new De(se),a,l);await MS(i,u),i.du=i.du.remove(s),i.Au.delete(e),tg(i)}else await um(i.localStore,e,!1).then(()=>fm(i,e,n)).catch(Ea)}async function gM(t,e){const n=X(t),i=e.batch.batchId;try{const r=await Rx(n.localStore,e);PS(n,i,null),VS(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Al(n,r)}catch(r){await Ea(r)}}async function yM(t,e,n){const i=X(t);try{const r=await function(a,l){const u=X(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,l).next(m=>(fe(m!==null,37113),f=m.keys(),u.mutationQueue.removeMutationBatch(c,m))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(i.localStore,e);PS(i,e,n),VS(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Al(i,r)}catch(r){await Ea(r)}}function VS(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function PS(t,e,n){const i=X(t);let r=i.Vu[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Vu[i.currentUser.toKey()]=r}}function fm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(i=>{t.Ru.containsKey(i)||LS(t,i)})}function LS(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Qp(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),tg(t))}function rE(t,e,n){for(const i of n)i instanceof DS?(t.Ru.addReference(i.key,e),_M(t,i)):i instanceof OS?(F(eg,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||LS(t,i.key)):Q(19791,{wu:i})}function _M(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(F(eg,"New document in limbo: "+n),t.Eu.add(i),tg(t))}function tg(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new G(Ee.fromString(e)),i=t.fu.next();t.Au.set(i,new oM(n)),t.du=t.du.insert(n,i),TS(t.remoteStore,new ki(bn(kp(n.path)),i,"TargetPurposeLimboResolution",rh.ce))}}async function Al(t,e,n){const i=X(t),r=[],s=[],a=[];i.Tu.isEmpty()||(i.Tu.forEach((l,u)=>{a.push(i.pu(u,e,n).then(c=>{var f;if((c||n)&&i.isPrimaryClient){const m=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:f.current;i.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(c){r.push(c);const m=Gp.As(u.targetId,c);s.push(m)}}))}),await Promise.all(a),i.Pu.H_(r),await async function(u,c){const f=X(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>k.forEach(c,p=>k.forEach(p.Es,g=>f.persistence.referenceDelegate.addReference(m,p.targetId,g)).next(()=>k.forEach(p.ds,g=>f.persistence.referenceDelegate.removeReference(m,p.targetId,g)))))}catch(m){if(!Ta(m))throw m;F(Kp,"Failed to update sequence numbers: "+m)}for(const m of c){const p=m.targetId;if(!m.fromCache){const g=f.Ms.get(p),C=g.snapshotVersion,O=g.withLastLimboFreeSnapshotVersion(C);f.Ms=f.Ms.insert(p,O)}}}(i.localStore,s))}async function vM(t,e){const n=X(t);if(!n.currentUser.isEqual(e)){F(eg,"User change. New user:",e.toKey());const i=await yS(n.localStore,e);n.currentUser=e,function(s,a){s.mu.forEach(l=>{l.forEach(u=>{u.reject(new q(L.CANCELLED,a))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Al(n,i.Ls)}}function EM(t,e){const n=X(t),i=n.Au.get(e);if(i&&i.hu)return ae().add(i.key);{let r=ae();const s=n.Iu.get(e);if(!s)return r;for(const a of s){const l=n.Tu.get(a);r=r.unionWith(l.view.nu)}return r}}function US(t){const e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=MS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pM.bind(null,e),e.Pu.H_=iM.bind(null,e.eventManager),e.Pu.yu=rM.bind(null,e.eventManager),e}function TM(t){const e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yM.bind(null,e),e}class Rc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return wx(this.persistence,new bx,e.initialUser,this.serializer)}Cu(e){return new gS(Fp.mi,this.serializer)}Du(e){return new xx}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rc.provider={build:()=>new Rc};class bM extends Rc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){fe(this.persistence.referenceDelegate instanceof Sc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new ox(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?It.withCacheSize(this.cacheSizeBytes):It.DEFAULT;return new gS(i=>Sc.mi(i,n),this.serializer)}}class dm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>iE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=vM.bind(null,this.syncEngine),await eM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nM}()}createDatastore(e){const n=fh(e.databaseInfo.databaseId),i=function(s){return new Ux(s)}(e.databaseInfo);return function(s,a,l,u){return new Bx(s,a,l,u)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,a,l){return new Hx(i,r,s,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>iE(this.syncEngine,n,0),function(){return Jv.v()?new Jv:new Mx}())}createSyncEngine(e,n){return function(r,s,a,l,u,c,f){const m=new lM(r,s,a,l,u,c);return f&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const s=X(r);F(Kr,"RemoteStore shutting down."),s.Ea.add(5),await bl(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}dm.provider={build:()=>new dm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):oi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr="FirestoreClient";class AM{constructor(e,n,i,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=pt.UNAUTHENTICATED,this.clientId=xp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{F(cr,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(F(cr,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Wp(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Hf(t,e){t.asyncQueue.verifyOperationInProgress(),F(cr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await yS(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function sE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await SM(t);F(cr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>Zv(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>Zv(e.remoteStore,r)),t._onlineComponents=e}async function SM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){F(cr,"Using user provided OfflineComponentProvider");try{await Hf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===L.FAILED_PRECONDITION||r.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;ea("Error using user provided cache. Falling back to memory cache: "+n),await Hf(t,new Rc)}}else F(cr,"Using default OfflineComponentProvider"),await Hf(t,new bM(void 0));return t._offlineComponents}async function zS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(F(cr,"Using user provided OnlineComponentProvider"),await sE(t,t._uninitializedComponentsProvider._online)):(F(cr,"Using default OnlineComponentProvider"),await sE(t,new dm))),t._onlineComponents}function wM(t){return zS(t).then(e=>e.syncEngine)}async function jS(t){const e=await zS(t),n=e.eventManager;return n.onListen=uM.bind(null,e.syncEngine),n.onUnlisten=fM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=cM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dM.bind(null,e.syncEngine),n}function RM(t,e,n={}){const i=new Zn;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,c){const f=new kS({next:p=>{f.Nu(),a.enqueueAndForget(()=>IS(s,m));const g=p.docs.has(l);!g&&p.fromCache?c.reject(new q(L.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&u&&u.source==="server"?c.reject(new q(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),m=new NS(kp(l.path),f,{includeMetadataChanges:!0,qa:!0});return CS(s,m)}(await jS(t),t.asyncQueue,e,n,i)),i.promise}function CM(t,e,n={}){const i=new Zn;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,c){const f=new kS({next:p=>{f.Nu(),a.enqueueAndForget(()=>IS(s,m)),p.fromCache&&u.source==="server"?c.reject(new q(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),m=new NS(l,f,{includeMetadataChanges:!0,qa:!0});return CS(s,m)}(await jS(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="firestore.googleapis.com",oE=!0;class lE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new q(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qS,this.ssl=oE}else this.host=e.host,this.ssl=e.ssl??oE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sx)throw new q(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BS(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new q(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new q(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new q(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ph{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new xD;switch(i.type){case"firstParty":return new LD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new q(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=aE.get(n);i&&(F("ComponentProvider","Removing Datastore"),aE.delete(n),i.terminate())}(this),Promise.resolve()}}function IM(t,e,n,i={}){var c;t=rr(t,ph);const r=dr(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;r&&(Rp(`https://${l}`),Cp("Firestore",!0)),s.host!==qS&&s.host!==l&&ea("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:l,ssl:r,emulatorOptions:i};if(!Hr(u,a)&&(t._setSettings(u),i.mockUserToken)){let f,m;if(typeof i.mockUserToken=="string")f=i.mockUserToken,m=pt.MOCK_USER;else{f=dA(i.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new q(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new pt(p)}t._authCredentials=new MD(new RA(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Aa(this.firestore,e,this._query)}}class Ye{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ye(this.firestore,e,this._key)}toJSON(){return{type:Ye._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(_l(n,Ye._jsonSchema))return new Ye(e,i||null,new G(Ee.fromString(n.referencePath)))}}Ye._jsonSchemaVersion="firestore/documentReference/1.0",Ye._jsonSchema={type:Qe("string",Ye._jsonSchemaVersion),referencePath:Qe("string")};class Ji extends Aa{constructor(e,n,i){super(e,n,kp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ye(this.firestore,null,new G(e))}withConverter(e){return new Ji(this.firestore,e,this._path)}}function ng(t,e,...n){if(t=Ve(t),CA("collection","path",e),t instanceof ph){const i=Ee.fromString(e,...n);return Tv(i),new Ji(t,null,i)}{if(!(t instanceof Ye||t instanceof Ji))throw new q(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ee.fromString(e,...n));return Tv(i),new Ji(t.firestore,null,i)}}function aa(t,e,...n){if(t=Ve(t),arguments.length===1&&(e=xp.newId()),CA("doc","path",e),t instanceof ph){const i=Ee.fromString(e,...n);return Ev(i),new Ye(t,null,new G(i))}{if(!(t instanceof Ye||t instanceof Ji))throw new q(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ee.fromString(e,...n));return Ev(i),new Ye(t.firestore,t instanceof Ji?t.converter:null,new G(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="AsyncQueue";class cE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vS(this,"async_queue_retry"),this._c=()=>{const i=qf();i&&F(uE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=qf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=qf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Zn;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ta(e))throw e;F(uE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,oi("INTERNAL UNHANDLED ERROR: ",hE(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=Jp.createAndSchedule(this,e,n,i,s=>this.hc(s));return this.tc.push(r),r}uc(){this.nc&&Q(47125,{Pc:hE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function hE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Sl extends ph{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new cE,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cE(e),this._firestoreClient=void 0,await e}}}function NM(t,e){const n=typeof t=="object"?t:Dp(),i=typeof t=="string"?t:_c,r=nh(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=cA("firestore");s&&IM(r,...s)}return r}function ig(t){if(t._terminated)throw new q(L.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||DM(t),t._firestoreClient}function DM(t){var i,r,s;const e=t._freezeSettings(),n=function(l,u,c,f){return new ZD(l,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,BS(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new AM(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tn(ht.fromBase64String(e))}catch(n){throw new q(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new tn(ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:tn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_l(e,tn._jsonSchema))return tn.fromBase64String(e.bytes)}}tn._jsonSchemaVersion="firestore/bytes/1.0",tn._jsonSchema={type:Qe("string",tn._jsonSchemaVersion),bytes:Qe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wn._jsonSchemaVersion}}static fromJSON(e){if(_l(e,wn._jsonSchema))return new wn(e.latitude,e.longitude)}}wn._jsonSchemaVersion="firestore/geoPoint/1.0",wn._jsonSchema={type:Qe("string",wn._jsonSchemaVersion),latitude:Qe("number"),longitude:Qe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Rn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_l(e,Rn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Rn(e.vectorValues);throw new q(L.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Rn._jsonSchemaVersion="firestore/vectorValue/1.0",Rn._jsonSchema={type:Qe("string",Rn._jsonSchemaVersion),vectorValues:Qe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=/^__.*__$/;class xM{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new pr(e,this.data,this.fieldMask,n,this.fieldTransforms):new El(e,this.data,n,this.fieldTransforms)}}class HS{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new pr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function FS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q(40011,{Ac:t})}}class rg{constructor(e,n,i,r,s,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new rg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Cc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(FS(this.Ac)&&OM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class MM{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||fh(e)}Cc(e,n,i,r=!1){return new rg({Ac:e,methodName:n,Dc:i,path:lt.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sg(t){const e=t._freezeSettings(),n=fh(t._databaseId);return new MM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function VM(t,e,n,i,r,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,n,r);og("Data must be an object, but it was:",a,i);const l=GS(i,a);let u,c;if(s.merge)u=new kt(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const p=mm(e,m,n);if(!a.contains(p))throw new q(L.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);QS(f,p)||f.push(p)}u=new kt(f),c=a.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,c=a.fieldTransforms;return new xM(new Nt(l),u,c)}class _h extends yh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _h}}class ag extends yh{_toFieldTransform(e){return new wO(e.path,new Xo)}isEqual(e){return e instanceof ag}}function PM(t,e,n,i){const r=t.Cc(1,e,n);og("Data must be an object, but it was:",r,i);const s=[],a=Nt.empty();mr(i,(u,c)=>{const f=lg(e,u,n);c=Ve(c);const m=r.yc(f);if(c instanceof _h)s.push(f);else{const p=wl(c,m);p!=null&&(s.push(f),a.set(f,p))}});const l=new kt(s);return new HS(a,l,r.fieldTransforms)}function LM(t,e,n,i,r,s){const a=t.Cc(1,e,n),l=[mm(e,i,n)],u=[r];if(s.length%2!=0)throw new q(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)l.push(mm(e,s[p])),u.push(s[p+1]);const c=[],f=Nt.empty();for(let p=l.length-1;p>=0;--p)if(!QS(c,l[p])){const g=l[p];let C=u[p];C=Ve(C);const O=a.yc(g);if(C instanceof _h)c.push(g);else{const N=wl(C,O);N!=null&&(c.push(g),f.set(g,N))}}const m=new kt(c);return new HS(f,m,a.fieldTransforms)}function UM(t,e,n,i=!1){return wl(n,t.Cc(i?4:3,e))}function wl(t,e){if(KS(t=Ve(t)))return og("Unsupported field value:",e,t),GS(t,e);if(t instanceof yh)return function(i,r){if(!FS(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const l of i){let u=wl(l,r.wc(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=Ve(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return bO(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=we.fromDate(i);return{timestampValue:Ac(r.serializer,s)}}if(i instanceof we){const s=new we(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ac(r.serializer,s)}}if(i instanceof wn)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof tn)return{bytesValue:lS(r.serializer,i._byteString)};if(i instanceof Ye){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:qp(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Rn)return function(a,l){return{mapValue:{fields:{[LA]:{stringValue:UA},[vc]:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw l.Sc("VectorValues must only contain numeric values.");return zp(l.serializer,c)})}}}}}}(i,r);throw r.Sc(`Unsupported field value: ${ih(i)}`)}(t,e)}function GS(t,e){const n={};return DA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mr(t,(i,r)=>{const s=wl(r,e.mc(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function KS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof we||t instanceof wn||t instanceof tn||t instanceof Ye||t instanceof yh||t instanceof Rn)}function og(t,e,n){if(!KS(n)||!IA(n)){const i=ih(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function mm(t,e,n){if((e=Ve(e))instanceof gh)return e._internalPath;if(typeof e=="string")return lg(t,e);throw Cc("Field path arguments must be of type string or ",t,!1,void 0,n)}const kM=new RegExp("[~\\*/\\[\\]]");function lg(t,e,n){if(e.search(kM)>=0)throw Cc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gh(...e.split("."))._internalPath}catch{throw Cc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Cc(t,e,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${r}`),u+=")"),new q(L.INVALID_ARGUMENT,l+t+u)}function QS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ye(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ug("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class zM extends YS{data(){return super.data()}}function ug(t,e){return typeof e=="string"?lg(t,e):e instanceof gh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cg{}class BM extends cg{}function pm(t,e,...n){let i=[];e instanceof cg&&i.push(e),i=i.concat(n),function(s){const a=s.filter(u=>u instanceof hg).length,l=s.filter(u=>u instanceof vh).length;if(a>1||a>0&&l>0)throw new q(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class vh extends BM{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new vh(e,n,i)}_apply(e){const n=this._parse(e);return XS(e._query,n),new Aa(e.firestore,e.converter,im(e._query,n))}_parse(e){const n=sg(e.firestore);return function(s,a,l,u,c,f,m){let p;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new q(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){dE(m,f);const C=[];for(const O of m)C.push(fE(u,s,O));p={arrayValue:{values:C}}}else p=fE(u,s,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||dE(m,f),p=UM(l,a,m,f==="in"||f==="not-in");return Ge.create(c,f,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $S(t,e,n){const i=e,r=ug("where",t);return vh._create(r,i,n)}class hg extends cg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new hg(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:cn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let a=r;const l=s.getFlattenedFilters();for(const u of l)XS(a,u),a=im(a,u)}(e._query,n),new Aa(e.firestore,e.converter,im(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function fE(t,e,n){if(typeof(n=Ve(n))=="string"){if(n==="")throw new q(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GA(e)&&n.indexOf("/")!==-1)throw new q(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Ee.fromString(n));if(!G.isDocumentKey(i))throw new q(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Nv(t,new G(i))}if(n instanceof Ye)return Nv(t,n._key);throw new q(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ih(n)}.`)}function dE(t,e){if(!Array.isArray(t)||t.length===0)throw new q(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XS(t,e){const n=function(r,s){for(const a of r)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class qM{convertValue(e,n="none"){switch(lr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(or(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return mr(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var i,r,s;const n=(s=(r=(i=e.fields)==null?void 0:i[vc].arrayValue)==null?void 0:r.values)==null?void 0:s.map(a=>Ue(a.doubleValue));return new Rn(n)}convertGeoPoint(e){return new wn(Ue(e.latitude),Ue(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=ah(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Qo(e));default:return null}}convertTimestamp(e){const n=ar(e);return new we(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ee.fromString(e);fe(mS(i),9688,{name:e});const r=new Yo(i.get(1),i.get(3)),s=new G(i.popFirst(5));return r.isEqual(n)||oi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class oo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Lr extends YS{constructor(e,n,i,r,s,a){super(e,n,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(ug("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new q(L.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Lr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Lr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Lr._jsonSchema={type:Qe("string",Lr._jsonSchemaVersion),bundleSource:Qe("string","DocumentSnapshot"),bundleName:Qe("string"),bundle:Qe("string")};class Vu extends Lr{data(e={}){return super.data(e)}}class zs{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new oo(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Vu(this._firestore,this._userDataWriter,i.key,i,new oo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const u=new Vu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new oo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Vu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new oo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,f=-1;return l.type!==0&&(c=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:FM(l.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new q(L.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function FM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(t){t=rr(t,Ye);const e=rr(t.firestore,Sl);return RM(ig(e),t._key).then(n=>QM(e,t,n))}zs._jsonSchemaVersion="firestore/querySnapshot/1.0",zs._jsonSchema={type:Qe("string",zs._jsonSchemaVersion),bundleSource:Qe("string","QuerySnapshot"),bundleName:Qe("string"),bundle:Qe("string")};class JS extends qM{constructor(e){super(),this.firestore=e}convertBytes(e){return new tn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ye(this.firestore,null,n)}}function WS(t){t=rr(t,Aa);const e=rr(t.firestore,Sl),n=ig(e),i=new JS(e);return jM(t._query),CM(n,t._query).then(r=>new zs(e,i,t,r))}function GM(t,e,n,...i){t=rr(t,Ye);const r=rr(t.firestore,Sl),s=sg(r);let a;return a=typeof(e=Ve(e))=="string"||e instanceof gh?LM(s,"updateDoc",t._key,e,n,i):PM(s,"updateDoc",t._key,e),ZS(r,[a.toMutation(t._key,An.exists(!0))])}function KM(t,e){const n=rr(t.firestore,Sl),i=aa(t),r=HM(t.converter,e);return ZS(n,[VM(sg(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,An.exists(!1))]).then(()=>i)}function ZS(t,e){return function(i,r){const s=new Zn;return i.asyncQueue.enqueueAndForget(async()=>mM(await wM(i),r,s)),s.promise}(ig(t),e)}function QM(t,e,n){const i=n.docs.get(e._key),r=new JS(t);return new Lr(t,r,e._key,i,new oo(n.hasPendingWrites,n.fromCache),e.converter)}function YM(){return new ag("serverTimestamp")}(function(e,n=!0){(function(r){va=r})(ts),Fr(new ir("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new Sl(new VD(i.getProvider("auth-internal")),new UD(a,i.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new q(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yo(c.options.projectId,f)}(a,r),a);return s={useFetchStreams:n,...s},l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Tn(gv,yv,e),Tn(gv,yv,"esm2020")})();var $M="firebase",XM="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn($M,XM,"app");function ew(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JM=ew,tw=new gl("auth","Firebase",ew());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=new Ip("@firebase/auth");function WM(t,...e){Ic.logLevel<=re.WARN&&Ic.warn(`Auth (${ts}): ${t}`,...e)}function Pu(t,...e){Ic.logLevel<=re.ERROR&&Ic.error(`Auth (${ts}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t,...e){throw fg(t,...e)}function Cn(t,...e){return fg(t,...e)}function nw(t,e,n){const i={...JM(),[e]:n};return new gl("auth","Firebase",i).create(e,{appName:t.name})}function Wi(t){return nw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fg(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return tw.create(t,...e)}function K(t,e,...n){if(!t)throw fg(e,...n)}function Qn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pu(e),new Error(e)}function ui(t,e){t||Qn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function ZM(){return mE()==="http:"||mE()==="https:"}function mE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZM()||hN()||"connection"in navigator)?navigator.onLine:!0}function tV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n){this.shortDelay=e,this.longDelay=n,ui(n>e,"Short delay should be less than long delay!"),this.isMobile=lN()||fN()}get(){return eV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(t,e){ui(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rV=new Rl(3e4,6e4);function rs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function gr(t,e,n,i,r={}){return rw(t,r,async()=>{let s={},a={};i&&(e==="GET"?a=i:s={body:JSON.stringify(i)});const l=yl({key:t.config.apiKey,...a}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:u,...s};return cN()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&dr(t.emulatorConfig.host)&&(c.credentials="include"),iw.fetch()(await sw(t,t.config.apiHost,n,l),c)})}async function rw(t,e,n){t._canInitEmulator=!1;const i={...nV,...e};try{const r=new aV(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw uu(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw uu(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw uu(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw uu(t,"user-disabled",a);const f=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw nw(t,f,c);hn(t,f)}}catch(r){if(r instanceof Pn)throw r;hn(t,"network-request-failed",{message:String(r)})}}async function Th(t,e,n,i,r={}){const s=await gr(t,e,n,i,r);return"mfaPendingCredential"in s&&hn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function sw(t,e,n,i){const r=`${e}${n}?${i}`,s=t,a=s.config.emulator?dg(t.config,r):`${t.config.apiScheme}://${r}`;return iV.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function sV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Cn(this.auth,"network-request-failed")),rV.get())})}}function uu(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Cn(t,e,i);return r.customData._tokenResponse=n,r}function pE(t){return t!==void 0&&t.enterprise!==void 0}class oV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return sV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function lV(t,e){return gr(t,"GET","/v2/recaptchaConfig",rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uV(t,e){return gr(t,"POST","/v1/accounts:delete",e)}async function Nc(t,e){return gr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cV(t,e=!1){const n=Ve(t),i=await n.getIdToken(e),r=mg(i);K(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Io(Ff(r.auth_time)),issuedAtTime:Io(Ff(r.iat)),expirationTime:Io(Ff(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ff(t){return Number(t)*1e3}function mg(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Pu("JWT malformed, contained fewer than 3 sections"),null;try{const r=lA(n);return r?JSON.parse(r):(Pu("Failed to decode base64 JWT payload"),null)}catch(r){return Pu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function gE(t){const e=mg(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Pn&&hV(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function hV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Io(this.lastLoginAt),this.creationTime=Io(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dc(t){var m;const e=t.auth,n=await t.getIdToken(),i=await Zo(t,Nc(e,{idToken:n}));K(i==null?void 0:i.users.length,e,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const s=(m=r.providerUserInfo)!=null&&m.length?aw(r.providerUserInfo):[],a=mV(t.providerData,s),l=t.isAnonymous,u=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new ym(r.createdAt,r.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function dV(t){const e=Ve(t);await Dc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mV(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function aw(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pV(t,e){const n=await rw(t,{},async()=>{const i=yl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,a=await sw(t,r,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return t.emulatorConfig&&dr(t.emulatorConfig.host)&&(u.credentials="include"),iw.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function gV(t,e){return gr(t,"POST","/v2/accounts:revokeToken",rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){K(e.length!==0,"internal-error");const n=gE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await pV(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new js;return i&&(K(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(K(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),s&&(K(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new js,this.toJSON())}_performRefresh(){return Qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class un{constructor({uid:e,auth:n,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new fV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new ym(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Zo(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return cV(this,e)}reload(){return dV(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new un({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Dc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(en(this.auth.app))return Promise.reject(Wi(this.auth));const e=await this.getIdToken();return await Zo(this,uV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,r=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,c=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:m,emailVerified:p,isAnonymous:g,providerData:C,stsTokenManager:O}=n;K(m&&O,e,"internal-error");const N=js.fromJSON(this.name,O);K(typeof m=="string",e,"internal-error"),Ti(i,e.name),Ti(r,e.name),K(typeof p=="boolean",e,"internal-error"),K(typeof g=="boolean",e,"internal-error"),Ti(s,e.name),Ti(a,e.name),Ti(l,e.name),Ti(u,e.name),Ti(c,e.name),Ti(f,e.name);const E=new un({uid:m,auth:e,email:r,emailVerified:p,displayName:i,isAnonymous:g,photoURL:a,phoneNumber:s,tenantId:l,stsTokenManager:N,createdAt:c,lastLoginAt:f});return C&&Array.isArray(C)&&(E.providerData=C.map(_=>({..._}))),u&&(E._redirectEventId=u),E}static async _fromIdTokenResponse(e,n,i=!1){const r=new js;r.updateFromServerResponse(n);const s=new un({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Dc(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];K(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?aw(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new js;l.updateFromIdToken(i);const u=new un({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:a}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new ym(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=new Map;function Yn(t){ui(t instanceof Function,"Expected a class definition");let e=yE.get(t);return e?(ui(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ow.type="NONE";const _E=ow;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(t,e,n){return`firebase:${t}:${e}:${n}`}class Bs{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Lu(this.userKey,r.apiKey,s),this.fullPersistenceKey=Lu("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Nc(this.auth,{idToken:e}).catch(()=>{});return n?un._fromGetAccountInfoResponse(this.auth,n,e):null}return un._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Bs(Yn(_E),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||Yn(_E);const a=Lu(i,e.config.apiKey,e.name);let l=null;for(const c of n)try{const f=await c._get(a);if(f){let m;if(typeof f=="string"){const p=await Nc(e,{idToken:f}).catch(()=>{});if(!p)break;m=await un._fromGetAccountInfoResponse(e,p,f)}else m=un._fromJSON(e,f);c!==s&&(l=m),s=c;break}}catch{}const u=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Bs(s,e,i):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new Bs(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dw(e))return"Blackberry";if(mw(e))return"Webos";if(uw(e))return"Safari";if((e.includes("chrome/")||cw(e))&&!e.includes("edge/"))return"Chrome";if(fw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function lw(t=yt()){return/firefox\//i.test(t)}function uw(t=yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cw(t=yt()){return/crios\//i.test(t)}function hw(t=yt()){return/iemobile/i.test(t)}function fw(t=yt()){return/android/i.test(t)}function dw(t=yt()){return/blackberry/i.test(t)}function mw(t=yt()){return/webos/i.test(t)}function pg(t=yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function yV(t=yt()){var e;return pg(t)&&!!((e=window.navigator)!=null&&e.standalone)}function _V(){return dN()&&document.documentMode===10}function pw(t=yt()){return pg(t)||fw(t)||mw(t)||dw(t)||/windows phone/i.test(t)||hw(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(t,e=[]){let n;switch(t){case"Browser":n=vE(yt());break;case"Worker":n=`${vE(yt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ts}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((a,l)=>{try{const u=e(s);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EV(t,e={}){return gr(t,"GET","/v2/passwordPolicy",rs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=6;class bV{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??TV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new EE(this),this.idTokenSubscription=new EE(this),this.beforeStateQueue=new vV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yn(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await Bs.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Nc(this,{idToken:e}),i=await un._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(en(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&(u!=null&&u.user)&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Dc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(en(this.app))return Promise.reject(Wi(this));const n=e?Ve(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return en(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return en(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await EV(this),n=new bV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await gV(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yn(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await Bs.create(this,[Yn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,i,r);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(en(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&WM(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Sa(t){return Ve(t)}class EE{constructor(e){this.auth=e,this.observer=null,this.addObserver=TN(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SV(t){bh=t}function yw(t){return bh.loadJS(t)}function wV(){return bh.recaptchaEnterpriseScript}function RV(){return bh.gapiScript}function CV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class IV{constructor(){this.enterprise=new NV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class NV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const DV="recaptcha-enterprise",_w="NO_RECAPTCHA";class OV{constructor(e){this.type=DV,this.auth=Sa(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{lV(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new oV(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(u=>{l(u)})})}function r(s,a,l){const u=window.grecaptcha;pE(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(_w)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new IV().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{i(this.auth).then(l=>{if(!n&&pE(window.grecaptcha))r(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=wV();u.length!==0&&(u+=l),yw(u).then(()=>{r(l,s,a)}).catch(c=>{a(c)})}}).catch(l=>{a(l)})})}}async function TE(t,e,n,i=!1,r=!1){const s=new OV(t);let a;if(r)a=_w;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,c=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return i?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function bE(t,e,n,i,r){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await TE(t,e,n,n==="getOobCode");return i(t,a)}else return i(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await TE(t,e,n,n==="getOobCode");return i(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(t,e){const n=nh(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Hr(s,e??{}))return r;hn(r,"already-initialized")}return n.initialize({options:e})}function MV(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Yn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function VV(t,e,n){const i=Sa(t);K(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=vw(e),{host:a,port:l}=PV(e),u=l===null?"":`:${l}`,c={url:`${s}//${a}${u}/`},f=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){K(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),K(Hr(c,i.config.emulator)&&Hr(f,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=f,i.settings.appVerificationDisabledForTesting=!0,dr(a)?(Rp(`${s}//${a}${u}`),Cp("Auth",!0)):LV()}function vw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function PV(t){const e=vw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:AE(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:AE(a)}}}function AE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function LV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qn("not implemented")}_getIdTokenResponse(e){return Qn("not implemented")}_linkToIdToken(e,n){return Qn("not implemented")}_getReauthenticationResolver(e){return Qn("not implemented")}}async function UV(t,e){return gr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kV(t,e){return Th(t,"POST","/v1/accounts:signInWithPassword",rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zV(t,e){return Th(t,"POST","/v1/accounts:signInWithEmailLink",rs(t,e))}async function jV(t,e){return Th(t,"POST","/v1/accounts:signInWithEmailLink",rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el extends gg{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new el(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new el(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bE(e,n,"signInWithPassword",kV);case"emailLink":return zV(e,{email:this._email,oobCode:this._password});default:hn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bE(e,i,"signUpPassword",UV);case"emailLink":return jV(e,{idToken:n,email:this._email,oobCode:this._password});default:hn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qs(t,e){return Th(t,"POST","/v1/accounts:signInWithIdp",rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV="http://localhost";class Qr extends gg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...s}=n;if(!i||!r)return null;const a=new Qr(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return qs(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,qs(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,qs(e,n)}buildRequest(){const e={requestUri:BV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HV(t){const e=no(io(t)).link,n=e?no(io(e)).deep_link_id:null,i=no(io(t)).deep_link_id;return(i?no(io(i)).link:null)||i||n||e||t}class yg{constructor(e){const n=no(io(e)),i=n.apiKey??null,r=n.oobCode??null,s=qV(n.mode??null);K(i&&r&&s,"argument-error"),this.apiKey=i,this.operation=s,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=HV(e);try{return new yg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.providerId=wa.PROVIDER_ID}static credential(e,n){return el._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=yg.parseLink(n);return K(i,"argument-error"),el._fromEmailAndCode(e,i.code,i.tenantId)}}wa.PROVIDER_ID="password";wa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl extends Ew{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends Cl{constructor(){super("facebook.com")}static credential(e){return Qr._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ii.credential(e.oauthAccessToken)}catch{return null}}}Ii.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ii.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends Cl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qr._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ni.credential(n,i)}catch{return null}}}Ni.GOOGLE_SIGN_IN_METHOD="google.com";Ni.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Cl{constructor(){super("github.com")}static credential(e){return Qr._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Di.credential(e.oauthAccessToken)}catch{return null}}}Di.GITHUB_SIGN_IN_METHOD="github.com";Di.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Cl{constructor(){super("twitter.com")}static credential(e,n){return Qr._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Oi.credential(n,i)}catch{return null}}}Oi.TWITTER_SIGN_IN_METHOD="twitter.com";Oi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await un._fromIdTokenResponse(e,i,r),a=SE(i);return new oa({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=SE(i);return new oa({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function SE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends Pn{constructor(e,n,i,r){super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Oc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new Oc(e,n,i,r)}}function Tw(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Oc._fromErrorAndOperation(t,s,e,i):s})}async function FV(t,e,n=!1){const i=await Zo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return oa._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GV(t,e,n=!1){const{auth:i}=t;if(en(i.app))return Promise.reject(Wi(i));const r="reauthenticate";try{const s=await Zo(t,Tw(i,r,e,t),n);K(s.idToken,i,"internal-error");const a=mg(s.idToken);K(a,i,"internal-error");const{sub:l}=a;return K(t.uid===l,i,"user-mismatch"),oa._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&hn(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bw(t,e,n=!1){if(en(t.app))return Promise.reject(Wi(t));const i="signIn",r=await Tw(t,i,e),s=await oa._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function KV(t,e){return bw(Sa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QV(t){const e=Sa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function YV(t,e,n){return en(t.app)?Promise.reject(Wi(t)):KV(Ve(t),wa.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&QV(t),i})}function $V(t,e,n,i){return Ve(t).onIdTokenChanged(e,n,i)}function XV(t,e,n){return Ve(t).beforeAuthStateChanged(e,n)}function JV(t,e,n,i){return Ve(t).onAuthStateChanged(e,n,i)}function WV(t){return Ve(t).signOut()}const xc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xc,"1"),this.storage.removeItem(xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=1e3,e4=10;class Sw extends Aw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);_V()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,e4):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},ZV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Sw.type="LOCAL";const t4=Sw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww extends Aw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ww.type="SESSION";const Rw=ww;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new Ah(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async c=>c(n.origin,s)),u=await n4(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ah.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const c=_g("",20);r.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(m){const p=m;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(p.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(){return window}function r4(t){In().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(){return typeof In().WorkerGlobalScope<"u"&&typeof In().importScripts=="function"}async function s4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function a4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function o4(){return Cw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="firebaseLocalStorageDb",l4=1,Mc="firebaseLocalStorage",Nw="fbase_key";class Il{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sh(t,e){return t.transaction([Mc],e?"readwrite":"readonly").objectStore(Mc)}function u4(){const t=indexedDB.deleteDatabase(Iw);return new Il(t).toPromise()}function _m(){const t=indexedDB.open(Iw,l4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Mc,{keyPath:Nw})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Mc)?e(i):(i.close(),await u4(),e(await _m()))})})}async function wE(t,e,n){const i=Sh(t,!0).put({[Nw]:e,value:n});return new Il(i).toPromise()}async function c4(t,e){const n=Sh(t,!1).get(e),i=await new Il(n).toPromise();return i===void 0?null:i.value}function RE(t,e){const n=Sh(t,!0).delete(e);return new Il(n).toPromise()}const h4=800,f4=3;class Dw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _m(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>f4)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Cw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ah._getInstance(o4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await s4(),!this.activeServiceWorker)return;this.sender=new i4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||a4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _m();return await wE(e,xc,"1"),await RE(e,xc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>wE(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>c4(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>RE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=Sh(r,!1).getAll();return new Il(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),h4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Dw.type="LOCAL";const d4=Dw;new Rl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t,e){return e?Yn(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg extends gg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function p4(t){return bw(t.auth,new vg(t),t.bypassAuthState)}function g4(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),GV(n,new vg(t),t.bypassAuthState)}async function y4(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),FV(n,new vg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return p4;case"linkViaPopup":case"linkViaRedirect":return y4;case"reauthViaPopup":case"reauthViaRedirect":return g4;default:hn(this.auth,"internal-error")}}resolve(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=new Rl(2e3,1e4);class Ds extends Ow{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Ds.currentPopupAction&&Ds.currentPopupAction.cancel(),Ds.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return K(e,this.auth,"internal-error"),e}async onExecution(){ui(this.filter.length===1,"Popup operations only handle one event");const e=_g();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ds.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_4.get())};e()}}Ds.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4="pendingRedirect",Uu=new Map;class E4 extends Ow{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Uu.get(this.auth._key());if(!e){try{const i=await T4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Uu.set(this.auth._key(),e)}return this.bypassAuthState||Uu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function T4(t,e){const n=S4(e),i=A4(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function b4(t,e){Uu.set(t._key(),e)}function A4(t){return Yn(t._redirectPersistence)}function S4(t){return Lu(v4,t.config.apiKey,t.name)}async function w4(t,e,n=!1){if(en(t.app))return Promise.reject(Wi(t));const i=Sa(t),r=m4(i,e),a=await new E4(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=10*60*1e3;class C4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!I4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!xw(e)){const r=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(Cn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=R4&&this.cachedEventUids.clear(),this.cachedEventUids.has(CE(e))}saveEventToCache(e){this.cachedEventUids.add(CE(e)),this.lastProcessedEventTime=Date.now()}}function CE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function I4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(t,e={}){return gr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,O4=/^https?/;async function x4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await N4(t);for(const n of e)try{if(M4(n))return}catch{}hn(t,"unauthorized-domain")}function M4(t){const e=gm(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!O4.test(n))return!1;if(D4.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=new Rl(3e4,6e4);function IE(){const t=In().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function P4(t){return new Promise((e,n)=>{var r,s,a;function i(){IE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{IE(),n(Cn(t,"network-request-failed"))},timeout:V4.get()})}if((s=(r=In().gapi)==null?void 0:r.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=In().gapi)!=null&&a.load)i();else{const l=CV("iframefcb");return In()[l]=()=>{gapi.load?i():n(Cn(t,"network-request-failed"))},yw(`${RV()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw ku=null,e})}let ku=null;function L4(t){return ku=ku||P4(t),ku}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=new Rl(5e3,15e3),k4="__/auth/iframe",z4="emulator/auth/iframe",j4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},B4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function q4(t){const e=t.config;K(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?dg(e,z4):`https://${t.config.authDomain}/${k4}`,i={apiKey:e.apiKey,appName:t.name,v:ts},r=B4.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${yl(i).slice(1)}`}async function H4(t){const e=await L4(t),n=In().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:q4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:j4,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=Cn(t,"network-request-failed"),l=In().setTimeout(()=>{s(a)},U4.get());function u(){In().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},G4=500,K4=600,Q4="_blank",Y4="http://localhost";class NE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $4(t,e,n,i=G4,r=K4){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u={...F4,width:i.toString(),height:r.toString(),top:s,left:a},c=yt().toLowerCase();n&&(l=cw(c)?Q4:n),lw(c)&&(e=e||Y4,u.scrollbars="yes");const f=Object.entries(u).reduce((p,[g,C])=>`${p}${g}=${C},`,"");if(yV(c)&&l!=="_self")return X4(e||"",l),new NE(null);const m=window.open(e||"",l,f);K(m,t,"popup-blocked");try{m.focus()}catch{}return new NE(m)}function X4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4="__/auth/handler",W4="emulator/auth/handler",Z4=encodeURIComponent("fac");async function DE(t,e,n,i,r,s){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ts,eventId:r};if(e instanceof Ew){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",EN(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))a[f]=m}if(e instanceof Cl){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),c=u?`#${Z4}=${encodeURIComponent(u)}`:"";return`${e6(t)}?${yl(l).slice(1)}${c}`}function e6({config:t}){return t.emulator?dg(t,W4):`https://${t.authDomain}/${J4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="webStorageSupport";class t6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rw,this._completeRedirectFn=w4,this._overrideRedirectResult=b4}async _openPopup(e,n,i,r){var a;ui((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await DE(e,n,i,gm(),r);return $4(e,s,_g())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await DE(e,n,i,gm(),r);return r4(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(ui(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await H4(e),i=new C4(e);return n.register("authEvent",r=>(K(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gf,{type:Gf},r=>{var a;const s=(a=r==null?void 0:r[0])==null?void 0:a[Gf];s!==void 0&&n(!!s),hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=x4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pw()||uw()||pg()}}const n6=t6;var OE="@firebase/auth",xE="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function s6(t){Fr(new ir("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;K(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gw(t)},c=new AV(i,r,s,u);return MV(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Fr(new ir("auth-internal",e=>{const n=Sa(e.getProvider("auth").getImmediate());return(i=>new i6(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tn(OE,xE,r6(t)),Tn(OE,xE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6=5*60,o6=fA("authIdTokenMaxAge")||a6;let ME=null;const l6=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>o6)return;const r=n==null?void 0:n.token;ME!==r&&(ME=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function u6(t=Dp()){const e=nh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=xV(t,{popupRedirectResolver:n6,persistence:[d4,t4,Rw]}),i=fA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=l6(s.toString());XV(n,a,()=>a(n.currentUser)),$V(n,l=>a(l))}}const r=uA("auth");return r&&VV(n,`http://${r}`),n}function c6(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}SV({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=Cn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",c6().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});s6("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="firebasestorage.googleapis.com",Vw="storageBucket",h6=2*60*1e3,f6=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le extends Pn{constructor(e,n,i=0){super(Kf(e),`Firebase Storage: ${n} (${Kf(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Le.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Kf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Pe;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Pe||(Pe={}));function Kf(t){return"storage/"+t}function Eg(){const t="An unknown error occurred, please check the error payload for server response.";return new Le(Pe.UNKNOWN,t)}function d6(t){return new Le(Pe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function m6(t){return new Le(Pe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function p6(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Le(Pe.UNAUTHENTICATED,t)}function g6(){return new Le(Pe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function y6(t){return new Le(Pe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function _6(){return new Le(Pe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function v6(){return new Le(Pe.CANCELED,"User canceled the upload/download.")}function E6(t){return new Le(Pe.INVALID_URL,"Invalid URL '"+t+"'.")}function T6(t){return new Le(Pe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function b6(){return new Le(Pe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Vw+"' property when initializing the app?")}function A6(){return new Le(Pe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function S6(){return new Le(Pe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function w6(t){return new Le(Pe.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function vm(t){return new Le(Pe.INVALID_ARGUMENT,t)}function Pw(){return new Le(Pe.APP_DELETED,"The Firebase app was deleted.")}function R6(t){return new Le(Pe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function No(t,e){return new Le(Pe.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Xa(t){throw new Le(Pe.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=zt.makeFromUrl(e,n)}catch{return new zt(e,"")}if(i.path==="")return i;throw T6(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+r+a,"i"),u={bucket:1,path:3};function c(I){I.path_=decodeURIComponent(I.path)}const f="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${m}/${f}/b/${r}/o${p}`,"i"),C={bucket:1,path:3},O=n===Mw?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",E=new RegExp(`^https?://${O}/${r}/${N}`,"i"),b=[{regex:l,indices:u,postModify:s},{regex:g,indices:C,postModify:c},{regex:E,indices:{bucket:1,path:2},postModify:c}];for(let I=0;I<b.length;I++){const z=b[I],j=z.regex.exec(e);if(j){const T=j[z.indices.bucket];let v=j[z.indices.path];v||(v=""),i=new zt(T,v),z.postModify(i);break}}if(i==null)throw E6(e);return i}}class C6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(t,e,n){let i=1,r=null,s=null,a=!1,l=0;function u(){return l===2}let c=!1;function f(...N){c||(c=!0,e.apply(null,N))}function m(N){r=setTimeout(()=>{r=null,t(g,u())},N)}function p(){s&&clearTimeout(s)}function g(N,...E){if(c){p();return}if(N){p(),f.call(null,N,...E);return}if(u()||a){p(),f.call(null,N,...E);return}i<64&&(i*=2);let b;l===1?(l=2,b=0):b=(i+Math.random())*1e3,m(b)}let C=!1;function O(N){C||(C=!0,p(),!c&&(r!==null?(N||(l=2),clearTimeout(r),m(0)):N||(l=1)))}return m(0),s=setTimeout(()=>{a=!0,O(!0)},n),O}function N6(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(t){return t!==void 0}function O6(t){return typeof t=="object"&&!Array.isArray(t)}function Tg(t){return typeof t=="string"||t instanceof String}function VE(t){return bg()&&t instanceof Blob}function bg(){return typeof Blob<"u"}function PE(t,e,n,i){if(i<e)throw vm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw vm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function Lw(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var Ur;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ur||(Ur={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e,n,i,r,s,a,l,u,c,f,m,p=!0,g=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=m,this.retry=p,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,O)=>{this.resolve_=C,this.reject_=O,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new cu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=l=>{const u=l.loaded,c=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const l=s.getErrorCode()===Ur.NO_ERROR,u=s.getStatus();if(!l||x6(u,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===Ur.ABORT;i(!1,new cu(!1,null,f));return}const c=this.successCodes_.indexOf(u)!==-1;i(!0,new cu(c,s))})},n=(i,r)=>{const s=this.resolve_,a=this.reject_,l=r.connection;if(r.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());D6(u)?s(u):s()}catch(u){a(u)}else if(l!==null){const u=Eg();u.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,u)):a(u)}else if(r.canceled){const u=this.appDelete_?Pw():v6();a(u)}else{const u=_6();a(u)}};this.canceled_?n(!1,new cu(!1,null,!0)):this.backoffId_=I6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&N6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class cu{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function V6(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function P6(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function L6(t,e){e&&(t["X-Firebase-GMPID"]=e)}function U6(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function k6(t,e,n,i,r,s,a=!0,l=!1){const u=Lw(t.urlParams),c=t.url+u,f=Object.assign({},t.headers);return L6(f,e),V6(f,n),P6(f,s),U6(f,i),new M6(c,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function j6(...t){const e=z6();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(bg())return new Blob(t);throw new Le(Pe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function B6(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(t){if(typeof atob>"u")throw w6("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Qf{constructor(e,n){this.data=e,this.contentType=n||null}}function H6(t,e){switch(t){case vn.RAW:return new Qf(Uw(e));case vn.BASE64:case vn.BASE64URL:return new Qf(kw(t,e));case vn.DATA_URL:return new Qf(G6(e),K6(e))}throw Eg()}function Uw(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=i,a=t.charCodeAt(++n);i=65536|(s&1023)<<10|a&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function F6(t){let e;try{e=decodeURIComponent(t)}catch{throw No(vn.DATA_URL,"Malformed data URL.")}return Uw(e)}function kw(t,e){switch(t){case vn.BASE64:{const r=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(r||s)throw No(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case vn.BASE64URL:{const r=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(r||s)throw No(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=q6(e)}catch(r){throw r.message.includes("polyfill")?r:No(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class zw{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw No(vn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=Q6(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function G6(t){const e=new zw(t);return e.base64?kw(vn.BASE64,e.rest):F6(e.rest)}function K6(t){return new zw(t).contentType}function Q6(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n){let i=0,r="";VE(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(VE(this.data_)){const i=this.data_,r=B6(i,e,n);return r===null?null:new xi(r)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new xi(i,!0)}}static getBlob(...e){if(bg()){const n=e.map(i=>i instanceof xi?i.data_:i);return new xi(j6.apply(null,n))}else{const n=e.map(a=>Tg(a)?H6(vn.RAW,a).data:a.data_);let i=0;n.forEach(a=>{i+=a.byteLength});const r=new Uint8Array(i);let s=0;return n.forEach(a=>{for(let l=0;l<a.length;l++)r[s++]=a[l]}),new xi(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(t){let e;try{e=JSON.parse(t)}catch{return null}return O6(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y6(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function $6(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function Bw(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(t,e){return e}class Et{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||X6}}let hu=null;function J6(t){return!Tg(t)||t.length<2?t:Bw(t)}function qw(){if(hu)return hu;const t=[];t.push(new Et("bucket")),t.push(new Et("generation")),t.push(new Et("metageneration")),t.push(new Et("name","fullPath",!0));function e(s,a){return J6(a)}const n=new Et("name");n.xform=e,t.push(n);function i(s,a){return a!==void 0?Number(a):a}const r=new Et("size");return r.xform=i,t.push(r),t.push(new Et("timeCreated")),t.push(new Et("updated")),t.push(new Et("md5Hash",null,!0)),t.push(new Et("cacheControl",null,!0)),t.push(new Et("contentDisposition",null,!0)),t.push(new Et("contentEncoding",null,!0)),t.push(new Et("contentLanguage",null,!0)),t.push(new Et("contentType",null,!0)),t.push(new Et("metadata","customMetadata",!0)),hu=t,hu}function W6(t,e){function n(){const i=t.bucket,r=t.fullPath,s=new zt(i,r);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Z6(t,e,n){const i={};i.type="file";const r=n.length;for(let s=0;s<r;s++){const a=n[s];i[a.local]=a.xform(i,e[a.server])}return W6(i,t),i}function Hw(t,e,n){const i=jw(e);return i===null?null:Z6(t,i,n)}function eP(t,e,n,i){const r=jw(e);if(r===null||!Tg(r.downloadTokens))return null;const s=r.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(c=>{const f=t.bucket,m=t.fullPath,p="/b/"+a(f)+"/o/"+a(m),g=Ag(p,n,i),C=Lw({alt:"media",token:c});return g+C})[0]}function tP(t,e){const n={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Fw{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(t){if(!t)throw Eg()}function nP(t,e){function n(i,r){const s=Hw(t,r,e);return Gw(s!==null),s}return n}function iP(t,e){function n(i,r){const s=Hw(t,r,e);return Gw(s!==null),eP(s,r,t.host,t._protocol)}return n}function Kw(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=g6():r=p6():n.getStatus()===402?r=m6(t.bucket):n.getStatus()===403?r=y6(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function rP(t){const e=Kw(t);function n(i,r){let s=e(i,r);return i.getStatus()===404&&(s=d6(t.path)),s.serverResponse=r.serverResponse,s}return n}function sP(t,e,n){const i=e.fullServerUrl(),r=Ag(i,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,l=new Fw(r,s,iP(t,n),a);return l.errorHandler=rP(e),l}function aP(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function oP(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=aP(null,e)),i}function lP(t,e,n,i,r){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){let b="";for(let I=0;I<2;I++)b=b+Math.random().toString().slice(2);return b}const u=l();a["Content-Type"]="multipart/related; boundary="+u;const c=oP(e,i,r),f=tP(c,n),m="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+u+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+u+"--",g=xi.getBlob(m,i,p);if(g===null)throw A6();const C={name:c.fullPath},O=Ag(s,t.host,t._protocol),N="POST",E=t.maxUploadRetryTime,_=new Fw(O,N,nP(t,n),E);return _.urlParams=C,_.headers=a,_.body=g.uploadData(),_.errorHandler=Kw(e),_}class uP{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ur.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ur.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ur.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r,s){if(this.sent_)throw Xa("cannot .send() more than once");if(dr(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Xa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Xa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Xa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Xa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class cP extends uP{initXhr(){this.xhr_.responseType="text"}}function Qw(){return new cP}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n){this._service=e,n instanceof zt?this._location=n:this._location=zt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Yr(e,n)}get root(){const e=new zt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Bw(this._location.path)}get storage(){return this._service}get parent(){const e=Y6(this._location.path);if(e===null)return null;const n=new zt(this._location.bucket,e);return new Yr(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw R6(e)}}function hP(t,e,n){t._throwIfRoot("uploadBytes");const i=lP(t.storage,t._location,qw(),new xi(e,!0),n);return t.storage.makeRequestWithTokens(i,Qw).then(r=>({metadata:r,ref:t}))}function fP(t){t._throwIfRoot("getDownloadURL");const e=sP(t.storage,t._location,qw());return t.storage.makeRequestWithTokens(e,Qw).then(n=>{if(n===null)throw S6();return n})}function dP(t,e){const n=$6(t._location.path,e),i=new zt(t._location.bucket,n);return new Yr(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t){return/^[A-Za-z]+:\/\//.test(t)}function pP(t,e){return new Yr(t,e)}function Yw(t,e){if(t instanceof Sg){const n=t;if(n._bucket==null)throw b6();const i=new Yr(n,n._bucket);return e!=null?Yw(i,e):i}else return e!==void 0?dP(t,e):t}function gP(t,e){if(e&&mP(e)){if(t instanceof Sg)return pP(t,e);throw vm("To use ref(service, url), the first argument must be a Storage instance.")}else return Yw(t,e)}function LE(t,e){const n=e==null?void 0:e[Vw];return n==null?null:zt.makeFromBucketSpec(n,t)}function yP(t,e,n,i={}){t.host=`${e}:${n}`;const r=dr(e);r&&(Rp(`https://${t.host}/b`),Cp("Storage",!0)),t._isUsingEmulator=!0,t._protocol=r?"https":"http";const{mockUserToken:s}=i;s&&(t._overrideAuthToken=typeof s=="string"?s:dA(s,t.app.options.projectId))}class Sg{constructor(e,n,i,r,s,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=Mw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=h6,this._maxUploadRetryTime=f6,this._requests=new Set,r!=null?this._bucket=zt.makeFromBucketSpec(r,this._host):this._bucket=LE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=zt.makeFromBucketSpec(this._url,e):this._bucket=LE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){PE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){PE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(en(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Yr(this,e)}_makeRequest(e,n,i,r,s=!0){if(this._deleted)return new C6(Pw());{const a=k6(e,this._appId,i,r,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const UE="@firebase/storage",kE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="storage";function Xw(t,e,n){return t=Ve(t),hP(t,e,n)}function Jw(t){return t=Ve(t),fP(t)}function Ww(t,e){return t=Ve(t),gP(t,e)}function _P(t=Dp(),e){t=Ve(t);const i=nh(t,$w).getImmediate({identifier:e}),r=cA("storage");return r&&vP(i,...r),i}function vP(t,e,n,i={}){yP(t,e,n,i)}function EP(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new Sg(n,i,r,e,ts)}function TP(){Fr(new ir($w,EP,"PUBLIC").setMultipleInstances(!0)),Tn(UE,kE,""),Tn(UE,kE,"esm2020")}TP();const bP={apiKey:"AIzaSyAuUPbG816hHvtEzv6wA3EgKlGeqR19cM4",authDomain:"proyecto-f-web.firebaseapp.com",projectId:"proyecto-f-web",storageBucket:"proyecto-f-web.appspot.com",messagingSenderId:"153777529737",appId:"1:153777529737:web:184be3b749fe6608e3b758"},wg=gA(bP),la=u6(wg),ci=NM(wg),Rg=_P(wg);function AP(){const[t,e]=V.useState([]),[n,i]=V.useState(!0),r=fi();return V.useEffect(()=>{(async()=>{try{const a=pm(ng(ci,"noticias"),$S("estado","==","Publicado")),u=(await WS(a)).docs.map(c=>({id:c.id,...c.data()}));e(u)}catch(a){console.error("Error al obtener noticias:",a)}finally{i(!1)}})()},[]),n?D.jsx("p",{className:"text-center mt-20 text-white",children:"Cargando noticias..."}):D.jsxs("div",{className:"min-h-screen bg-public bg-cover bg-center bg-fixed text-white p-8",children:[D.jsxs("div",{className:"text-center mb-10",children:[D.jsxs("h1",{className:"text-5xl sm:text-6xl font-extrabold drop-shadow-lg",children:[" ",D.jsx("span",{className:"text-white",children:"Portal"})," ",D.jsx("span",{className:"text-blue-400",children:"de Noticias"})]}),D.jsx("p",{className:"mt-3 text-gray-300 text-lg",children:"Noticias publicadas por la comunidad"}),D.jsx("a",{href:"/login",className:"inline-block mt-6 px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-white font-semibold transition",children:"Ir al Login"})]}),t.length===0?D.jsx("p",{className:"text-center text-gray-400",children:"No hay noticias publicadas."}):D.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(s=>D.jsxs("div",{className:"bg-slate-800/80 backdrop-blur-md p-6 rounded-xl shadow-md hover:shadow-blue-500/20 cursor-pointer transition",onClick:()=>r(`/noticia/${s.id}`),children:[D.jsx("h2",{className:"text-xl font-bold mb-2 text-white",children:s.titulo}),D.jsx("p",{className:"text-sm text-gray-300 line-clamp-3",children:s.contenido}),D.jsxs("p",{className:"text-xs text-gray-400 mt-3",children:["Autor: ",s.autorNombre||"Desconocido"]})]},s.id))})]})}function SP(){const[t,e]=V.useState(""),[n,i]=V.useState(""),[r,s]=V.useState(""),[a,l]=V.useState(!1),u=fi(),c=async f=>{f.preventDefault(),s(""),l(!0);try{await YV(la,t,n),u("/admin")}catch(m){console.error("Error al iniciar sesin:",m),s("Credenciales incorrectas o usuario no registrado.")}finally{l(!1)}};return D.jsxs("div",{className:"min-h-screen bg-public bg-cover bg-center flex items-center justify-center relative overflow-hidden",children:[D.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-900/90 via-slate-900/70 to-slate-950/90 backdrop-blur-sm"}),D.jsxs("div",{className:"relative z-10 bg-slate-800/70 backdrop-blur-md border border-slate-700/50 rounded-2xl shadow-2xl p-8 w-full max-w-md mx-4 text-white",children:[D.jsx("h1",{className:"text-3xl font-extrabold text-center mb-6 text-blue-400",children:"Iniciar Sesin"}),D.jsxs("form",{onSubmit:c,className:"space-y-5",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-300",children:"Correo electrnico"}),D.jsx("input",{type:"email",value:t,onChange:f=>e(f.target.value),placeholder:"Tu correo",className:"bg-slate-900/70 border border-slate-700 focus:ring-2 focus:ring-blue-500 w-full rounded-lg p-2",required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-300",children:"Contrasea"}),D.jsx("input",{type:"password",value:n,onChange:f=>i(f.target.value),placeholder:"",className:"bg-slate-900/70 border border-slate-700 focus:ring-2 focus:ring-blue-500 w-full rounded-lg p-2",required:!0})]}),r&&D.jsx("p",{className:"text-red-400 text-sm",children:r}),D.jsx("button",{type:"submit",disabled:a,className:"w-full bg-blue-600 hover:bg-blue-700 py-2 rounded-lg font-semibold transition disabled:opacity-50",children:a?"Ingresando...":"Entrar"})]}),D.jsxs("p",{className:"text-center text-gray-400 mt-4 text-sm",children:["No tienes una cuenta?"," ",D.jsx("a",{href:"/register",className:"text-blue-400 hover:underline",children:"Regstrate aqu"})]})]})]})}function wP(){const[t,e]=V.useState(""),[n,i]=V.useState(""),[r,s]=V.useState(""),[a,l]=V.useState("reportero"),[u,c]=V.useState("");return fi(),D.jsx("div",{className:"min-h-screen bg-public flex items-center justify-center",children:D.jsxs("div",{className:"bg-overlay w-full max-w-md mx-4 p-8 rounded-2xl shadow-xl text-white",children:[D.jsx("h1",{className:"text-3xl font-bold text-center mb-6 text-green-400",children:"Crear Cuenta"}),D.jsxs("form",{onSubmit:handleRegister,className:"space-y-4",children:[D.jsx("input",{type:"text",placeholder:"Nombre completo",value:t,onChange:f=>e(f.target.value),required:!0}),D.jsx("input",{type:"email",placeholder:"Correo electrnico",value:n,onChange:f=>i(f.target.value),required:!0}),D.jsx("input",{type:"password",placeholder:"Contrasea",value:r,onChange:f=>s(f.target.value),required:!0}),u&&D.jsx("p",{className:"text-red-400 text-sm",children:u}),D.jsx("button",{type:"submit",disabled:loading,className:"w-full bg-green-600 hover:bg-green-700 py-2 rounded-lg font-semibold transition",children:loading?"Creando...":"Registrarse"})]}),D.jsxs("p",{className:"text-center text-gray-400 mt-4 text-sm",children:["Ya tienes cuenta?"," ",D.jsx("a",{href:"/login",className:"text-blue-400 hover:underline",children:"Inicia sesin aqu"})]})]})})}function RP(){const[t,e]=V.useState(null),[n,i]=V.useState([]),[r,s]=V.useState(!0),a=fi();return V.useEffect(()=>{(async()=>{const u=la.currentUser;if(!u){a("/login");return}const c=aa(ci,"usuarios",u.uid),f=await Eh(c);if(f.exists()){const m=f.data();e(m);const p=ng(ci,"noticias");let g;m.rol==="reportero"?g=pm(p,$S("autorId","==",u.uid)):g=pm(p);const C=await WS(g);i(C.docs.map(O=>({id:O.id,...O.data()})))}s(!1)})()},[a]),r?D.jsx("p",{className:"text-center mt-20 text-white",children:"Cargando..."}):D.jsxs("div",{className:"min-h-screen bg-private bg-cover bg-center bg-fixed relative overflow-hidden",children:[D.jsx("div",{className:"absolute inset-0 bg-overlay"}),D.jsx("div",{className:"relative z-10 p-8 text-white",children:D.jsxs("div",{className:"max-w-5xl mx-auto",children:[D.jsxs("h1",{className:"text-4xl font-extrabold mb-4 drop-shadow-lg",children:[" Panel de ",D.jsx("span",{className:"text-blue-400",children:"Administracin"})]}),D.jsxs("p",{className:"mb-6 text-gray-200 text-lg",children:["Bienvenido ",D.jsx("span",{className:"font-semibold text-white",children:t==null?void 0:t.nombre})," ",D.jsx("br",{}),D.jsxs("span",{className:"text-gray-400 text-base",children:["Rol: ",D.jsx("span",{className:"text-green-400",children:t==null?void 0:t.rol})]})]}),D.jsx("button",{onClick:()=>a("/admin/nueva-noticia"),className:"bg-green-600 hover:bg-green-700 transition-all duration-300 px-5 py-2 rounded-lg font-semibold mb-8 shadow-lg hover:shadow-green-500/20",children:"+ Nueva Noticia"}),D.jsx("h2",{className:"text-2xl font-bold mb-4 border-b border-gray-600 pb-2",children:" Tus noticias"}),n.length===0?D.jsx("p",{className:"text-gray-300 italic",children:"An no tienes noticias registradas."}):D.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(l=>{var u;return D.jsxs("div",{className:"bg-slate-800/80 backdrop-blur-md p-5 rounded-xl shadow-md hover:shadow-blue-500/20 border border-slate-700/60 transition transform hover:-translate-y-1",children:[D.jsx("h3",{className:"text-xl font-semibold mb-1 text-white",children:l.titulo}),D.jsx("p",{className:"text-sm text-gray-300 mb-2 line-clamp-3",children:l.subtitulo||((u=l.contenido)==null?void 0:u.slice(0,80))+"..."}),D.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-400 mt-3",children:[D.jsxs("span",{className:"capitalize",children:["Estado:"," ",D.jsx("span",{className:`font-semibold ${l.estado==="Publicado"?"text-green-400":l.estado==="Edicin"?"text-yellow-400":l.estado==="Revisin"?"text-blue-400":"text-red-400"}`,children:l.estado})]}),D.jsx("button",{onClick:()=>a(`/admin/editar/${l.id}`),className:"bg-blue-600 hover:bg-blue-700 px-3 py-1 rounded-lg text-white text-sm font-semibold shadow hover:shadow-blue-500/30",children:"Editar"})]})]},l.id)})})]})})]})}function CP(){const[t,e]=V.useState(""),[n,i]=V.useState(""),[r,s]=V.useState(""),[a,l]=V.useState("General"),[u,c]=V.useState("Edicin"),[f,m]=V.useState(null),[p,g]=V.useState(""),[C,O]=V.useState(!1),N=fi(),E=async _=>{_.preventDefault(),g(""),O(!0);try{const b=la.currentUser;if(!b){g("Debes iniciar sesin para crear una noticia."),O(!1);return}let I="Desconocido";try{const j=aa(ci,"usuarios",b.uid),T=await Eh(j);T.exists()&&(I=T.data().nombre||"Desconocido")}catch(j){console.warn("No se pudo obtener el nombre del autor:",j)}let z="";if(f)try{const j=Ww(Rg,`noticias/${Date.now()}-${f.name}`);await Xw(j,f),z=await Jw(j)}catch(j){console.warn("No se pudo subir la imagen:",j)}await KM(ng(ci,"noticias"),{titulo:t,subtitulo:n,contenido:r,categoria:a,estado:u,imagenURL:z,autorId:b.uid,autorNombre:I,fechaCreacion:YM(),fechaLegible:new Date().toLocaleString()}),alert(" Noticia creada correctamente"),N("/admin")}catch(b){console.error("Error al crear noticia:",b),g("No se pudo guardar la noticia. "+b.message)}finally{O(!1)}};return D.jsxs("div",{className:"min-h-screen bg-private bg-cover bg-center bg-fixed flex items-center justify-center relative overflow-hidden",children:[D.jsx("div",{className:"absolute inset-0 bg-overlay"}),D.jsxs("div",{className:"relative z-10 w-full max-w-2xl bg-slate-800/70 backdrop-blur-md rounded-2xl shadow-2xl p-8 mx-4 text-white border border-slate-700/50",children:[D.jsx("h1",{className:"text-3xl font-bold mb-6 text-center text-blue-400 drop-shadow",children:" Crear Nueva Noticia"}),D.jsxs("form",{onSubmit:E,className:"space-y-5",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-300",children:"Ttulo"}),D.jsx("input",{type:"text",value:t,onChange:_=>e(_.target.value),placeholder:"Ttulo de la noticia",required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-300",children:"Subttulo"}),D.jsx("input",{type:"text",value:n,onChange:_=>i(_.target.value),placeholder:"Subttulo (opcional)"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-300",children:"Contenido"}),D.jsx("textarea",{value:r,onChange:_=>s(_.target.value),rows:6,placeholder:"Escribe el contenido aqu...",required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-300",children:"Categora"}),D.jsxs("select",{value:a,onChange:_=>l(_.target.value),children:[D.jsx("option",{value:"General",children:"General"}),D.jsx("option",{value:"Deportes",children:"Deportes"}),D.jsx("option",{value:"Cultura",children:"Cultura"}),D.jsx("option",{value:"Tecnologa",children:"Tecnologa"})]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-300",children:"Estado"}),D.jsxs("select",{value:u,onChange:_=>c(_.target.value),children:[D.jsx("option",{value:"Edicin",children:"Edicin"}),D.jsx("option",{value:"Revisin",children:"Revisin"}),D.jsx("option",{value:"Publicado",children:"Publicado"}),D.jsx("option",{value:"Desactivado",children:"Desactivado"})]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-300",children:"Imagen (opcional)"}),D.jsx("input",{type:"file",accept:"image/*",onChange:_=>m(_.target.files[0]),className:"text-gray-300 file:mr-3 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-blue-600 file:text-white hover:file:bg-blue-700 transition"})]}),p&&D.jsx("p",{className:"text-red-400 text-sm",children:p}),D.jsxs("div",{className:"flex justify-between mt-6",children:[D.jsx("button",{type:"button",onClick:()=>N("/admin"),className:"bg-gray-600 hover:bg-gray-700 px-4 py-2 rounded-lg",children:" Volver"}),D.jsx("button",{type:"submit",disabled:C,className:"bg-green-600 hover:bg-green-700 px-6 py-2 rounded-lg font-semibold transition disabled:opacity-50",children:C?"Guardando...":"Guardar Noticia"})]})]})]})]})}function IP(){const{id:t}=Jb(),e=fi(),[n,i]=V.useState(null),[r,s]=V.useState(""),[a,l]=V.useState(""),[u,c]=V.useState(""),[f,m]=V.useState(""),[p,g]=V.useState(""),[C,O]=V.useState(null),[N,E]=V.useState(!0),[_,b]=V.useState("");V.useEffect(()=>{(async()=>{try{const j=aa(ci,"noticias",t),T=await Eh(j);if(T.exists()){const v=T.data();i(v),s(v.titulo),l(v.subtitulo),c(v.contenido),m(v.categoria),g(v.estado)}else b("Noticia no encontrada")}catch(j){console.error(j),b("Error al cargar la noticia.")}finally{E(!1)}})()},[t]);const I=async z=>{z.preventDefault(),b(""),E(!0);try{const j=aa(ci,"noticias",t);let T=(n==null?void 0:n.imagenURL)||"";if(C){const v=Ww(Rg,`noticias/${Date.now()}-${C.name}`);await Xw(v,C),T=await Jw(v)}await GM(j,{titulo:r,subtitulo:a,contenido:u,categoria:f,estado:p,imagenURL:T,fechaActualizacion:new Date().toISOString()}),alert(" Noticia actualizada correctamente"),e("/admin")}catch(j){console.error(j),b("Error al actualizar la noticia. "+j.message)}finally{E(!1)}};return N?D.jsx("p",{className:"text-center text-white mt-20",children:"Cargando..."}):_?D.jsx("p",{className:"text-center text-red-400 mt-20",children:_}):D.jsxs("div",{className:"min-h-screen bg-private bg-cover bg-center bg-fixed flex items-center justify-center relative overflow-hidden",children:[D.jsx("div",{className:"absolute inset-0 bg-overlay"}),D.jsxs("div",{className:"relative z-10 w-full max-w-2xl bg-slate-800/70 backdrop-blur-md rounded-2xl shadow-2xl p-8 mx-4 text-white border border-slate-700/50",children:[D.jsx("h1",{className:"text-3xl font-bold mb-6 text-center text-green-400 drop-shadow",children:" Editar Noticia"}),D.jsxs("form",{onSubmit:I,className:"space-y-5",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-300",children:"Ttulo"}),D.jsx("input",{type:"text",value:r,onChange:z=>s(z.target.value),placeholder:"Ttulo de la noticia",required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-300",children:"Subttulo"}),D.jsx("input",{type:"text",value:a,onChange:z=>l(z.target.value),placeholder:"Subttulo (opcional)"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-300",children:"Contenido"}),D.jsx("textarea",{value:u,onChange:z=>c(z.target.value),rows:6,placeholder:"Contenido de la noticia...",required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-300",children:"Categora"}),D.jsxs("select",{value:f,onChange:z=>m(z.target.value),children:[D.jsx("option",{value:"General",children:"General"}),D.jsx("option",{value:"Deportes",children:"Deportes"}),D.jsx("option",{value:"Cultura",children:"Cultura"}),D.jsx("option",{value:"Tecnologa",children:"Tecnologa"})]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-300",children:"Estado"}),D.jsxs("select",{value:p,onChange:z=>g(z.target.value),children:[D.jsx("option",{value:"Edicin",children:"Edicin"}),D.jsx("option",{value:"Revisin",children:"Revisin"}),D.jsx("option",{value:"Publicado",children:"Publicado"}),D.jsx("option",{value:"Desactivado",children:"Desactivado"})]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-300",children:"Imagen (opcional)"}),D.jsx("input",{type:"file",accept:"image/*",onChange:z=>O(z.target.files[0]),className:"text-gray-300 file:mr-3 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-blue-600 file:text-white hover:file:bg-blue-700 transition"})]}),_&&D.jsx("p",{className:"text-red-400 text-sm",children:_}),D.jsxs("div",{className:"flex justify-between mt-6",children:[D.jsx("button",{type:"button",onClick:()=>e("/admin"),className:"bg-gray-600 hover:bg-gray-700 px-4 py-2 rounded-lg",children:" Volver"}),D.jsx("button",{type:"submit",disabled:N,className:"bg-blue-600 hover:bg-blue-700 px-6 py-2 rounded-lg font-semibold transition disabled:opacity-50",children:N?"Guardando...":"Guardar Cambios"})]})]})]})]})}function NP(){const{id:t}=Jb(),[e,n]=V.useState(null),i=fi();return V.useEffect(()=>{(async()=>{const s=aa(ci,"noticias",t),a=await Eh(s);a.exists()?n(a.data()):i("/404")})()},[t,i]),e?D.jsxs("div",{className:"min-h-screen bg-slate-900 text-white p-8",children:[D.jsx("button",{onClick:()=>i(-1),className:"mb-6 text-blue-400 hover:underline",children:" Volver"}),D.jsx("h1",{className:"text-3xl font-bold mb-4",children:e.titulo}),D.jsxs("p",{className:"text-sm text-gray-400 mb-6",children:["Publicado por ",e.autorNombre||"Desconocido"]}),D.jsx("div",{className:"bg-slate-800 p-6 rounded-lg",children:D.jsx("p",{className:"text-lg leading-relaxed",children:e.contenido})})]}):D.jsx("p",{className:"text-center mt-20 text-white",children:"Cargando..."})}function DP(){return D.jsxs(_2,{children:[D.jsx(Bn,{path:"/",element:D.jsx(AP,{})}),D.jsx(Bn,{path:"/noticia/:id",element:D.jsx(NP,{})})," ",D.jsx(Bn,{path:"/login",element:D.jsx(SP,{})}),D.jsx(Bn,{path:"/register",element:D.jsx(wP,{})}),D.jsx(Bn,{path:"/admin",element:D.jsx(RP,{})}),D.jsx(Bn,{path:"/admin/nueva-noticia",element:D.jsx(CP,{})}),D.jsx(Bn,{path:"/admin/editar/:id",element:D.jsx(IP,{})}),D.jsx(Bn,{path:"*",element:D.jsx("h1",{className:"text-center mt-10 text-3xl",children:"404 - Pgina no encontrada"})})]})}const Zw=V.createContext();function e1({children:t}){const[e,n]=V.useState(null),[i,r]=V.useState(!0);V.useEffect(()=>{const a=JV(la,l=>{n(l||null),r(!1)});return()=>a()},[]);const s=async()=>{try{await WV(la),n(null)}catch(a){console.error("Error al cerrar sesin:",a)}};return D.jsx(Zw.Provider,{value:{user:e,logout:s,loading:i},children:!i&&t})}const OP=()=>V.useContext(Zw);function xP(){const{user:t,logout:e}=OP(),n=fi();if(!t)return null;const i=async()=>{await e(),n("/")};return D.jsxs("header",{className:"w-full bg-slate-800 text-white p-4 flex justify-between items-center shadow-md fixed top-0 left-0 z-50",children:[D.jsx("h1",{onClick:()=>n("/admin"),className:"font-bold text-lg cursor-pointer",children:" Portal de Noticias"}),D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsxs("span",{className:"text-sm text-gray-300 hidden sm:block",children:["Hola, ",t.displayName||"Usuario"," "]}),D.jsx("button",{onClick:i,className:"bg-red-600 hover:bg-red-700 px-3 py-1 rounded text-sm transition",children:"Cerrar Sesin"})]})]})}console.log("Firebase auth:",la);console.log("Firebase firestore (db):",ci);console.log("Firebase storage:",Rg);function MP(){return D.jsx(B2,{children:D.jsxs(e1,{children:[D.jsx(xP,{}),D.jsx("div",{className:"pt-16",children:D.jsx(DP,{})})]})})}II.createRoot(document.getElementById("root")).render(D.jsx(Y1.StrictMode,{children:D.jsx(e1,{children:D.jsx(MP,{})})}));
